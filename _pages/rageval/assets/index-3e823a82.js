var uw=Object.defineProperty;var cw=(e,t,n)=>t in e?uw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Se=(e,t,n)=>(cw(e,typeof t!="symbol"?t+"":t,n),n);function dw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B_={exports:{}},Gu={},H_={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=Symbol.for("react.element"),fw=Symbol.for("react.portal"),hw=Symbol.for("react.fragment"),pw=Symbol.for("react.strict_mode"),mw=Symbol.for("react.profiler"),gw=Symbol.for("react.provider"),_w=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),yw=Symbol.for("react.suspense"),Ew=Symbol.for("react.memo"),xw=Symbol.for("react.lazy"),Dm=Symbol.iterator;function Tw(e){return e===null||typeof e!="object"?null:(e=Dm&&e[Dm]||e["@@iterator"],typeof e=="function"?e:null)}var z_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U_=Object.assign,j_={};function Hs(e,t,n){this.props=e,this.context=t,this.refs=j_,this.updater=n||z_}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function W_(){}W_.prototype=Hs.prototype;function Eh(e,t,n){this.props=e,this.context=t,this.refs=j_,this.updater=n||z_}var xh=Eh.prototype=new W_;xh.constructor=Eh;U_(xh,Hs.prototype);xh.isPureReactComponent=!0;var Mm=Array.isArray,G_=Object.prototype.hasOwnProperty,Th={current:null},V_={key:!0,ref:!0,__self:!0,__source:!0};function Y_(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)G_.call(t,r)&&!V_.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:bo,type:e,key:s,ref:a,props:i,_owner:Th.current}}function ww(e,t){return{$$typeof:bo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wh(e){return typeof e=="object"&&e!==null&&e.$$typeof===bo}function vw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fm=/\/+/g;function Vc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vw(""+e.key):t.toString(36)}function Ll(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case bo:case fw:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Vc(a,0):r,Mm(i)?(n="",e!=null&&(n=e.replace(Fm,"$&/")+"/"),Ll(i,t,n,"",function(u){return u})):i!=null&&(wh(i)&&(i=ww(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Fm,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Mm(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+Vc(s,o);a+=Ll(s,t,n,l,i)}else if(l=Tw(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+Vc(s,o++),a+=Ll(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function qo(e,t,n){if(e==null)return e;var r=[],i=0;return Ll(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Aw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},Nl={transition:null},Cw={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Nl,ReactCurrentOwner:Th};function q_(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:qo,forEach:function(e,t,n){qo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qo(e,function(){t++}),t},toArray:function(e){return qo(e,function(t){return t})||[]},only:function(e){if(!wh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=Hs;He.Fragment=hw;He.Profiler=mw;He.PureComponent=Eh;He.StrictMode=pw;He.Suspense=yw;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cw;He.act=q_;He.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=U_({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Th.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)G_.call(t,l)&&!V_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:bo,type:e.type,key:i,ref:s,props:r,_owner:a}};He.createContext=function(e){return e={$$typeof:_w,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gw,_context:e},e.Consumer=e};He.createElement=Y_;He.createFactory=function(e){var t=Y_.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:bw,render:e}};He.isValidElement=wh;He.lazy=function(e){return{$$typeof:xw,_payload:{_status:-1,_result:e},_init:Aw}};He.memo=function(e,t){return{$$typeof:Ew,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=Nl.transition;Nl.transition={};try{e()}finally{Nl.transition=t}};He.unstable_act=q_;He.useCallback=function(e,t){return Xt.current.useCallback(e,t)};He.useContext=function(e){return Xt.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};He.useEffect=function(e,t){return Xt.current.useEffect(e,t)};He.useId=function(){return Xt.current.useId()};He.useImperativeHandle=function(e,t,n){return Xt.current.useImperativeHandle(e,t,n)};He.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return Xt.current.useMemo(e,t)};He.useReducer=function(e,t,n){return Xt.current.useReducer(e,t,n)};He.useRef=function(e){return Xt.current.useRef(e)};He.useState=function(e){return Xt.current.useState(e)};He.useSyncExternalStore=function(e,t,n){return Xt.current.useSyncExternalStore(e,t,n)};He.useTransition=function(){return Xt.current.useTransition()};He.version="18.3.1";H_.exports=He;var G=H_.exports;const gr=yh(G),Sw=dw({__proto__:null,default:gr},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw=G,Iw=Symbol.for("react.element"),Rw=Symbol.for("react.fragment"),Lw=Object.prototype.hasOwnProperty,Nw=kw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pw={key:!0,ref:!0,__self:!0,__source:!0};function Q_(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Lw.call(t,r)&&!Pw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Iw,type:e,key:s,ref:a,props:i,_owner:Nw.current}}Gu.Fragment=Rw;Gu.jsx=Q_;Gu.jsxs=Q_;B_.exports=Gu;var C=B_.exports,Qd={},$_={exports:{}},Tn={},K_={exports:{}},X_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ie,he){var I=ie.length;ie.push(he);e:for(;0<I;){var Ie=I-1>>>1,De=ie[Ie];if(0<i(De,he))ie[Ie]=he,ie[I]=De,I=Ie;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var he=ie[0],I=ie.pop();if(I!==he){ie[0]=I;e:for(var Ie=0,De=ie.length,D=De>>>1;Ie<D;){var Qe=2*(Ie+1)-1,wt=ie[Qe],Ue=Qe+1,vn=ie[Ue];if(0>i(wt,I))Ue<De&&0>i(vn,wt)?(ie[Ie]=vn,ie[Ue]=I,Ie=Ue):(ie[Ie]=wt,ie[Qe]=I,Ie=Qe);else if(Ue<De&&0>i(vn,I))ie[Ie]=vn,ie[Ue]=I,Ie=Ue;else break e}}return he}function i(ie,he){var I=ie.sortIndex-he.sortIndex;return I!==0?I:ie.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,p=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ie){for(var he=n(u);he!==null;){if(he.callback===null)r(u);else if(he.startTime<=ie)r(u),he.sortIndex=he.expirationTime,t(l,he);else break;he=n(u)}}function P(ie){if(y=!1,T(ie),!g)if(n(l)!==null)g=!0,Le(O);else{var he=n(u);he!==null&&Oe(P,he.startTime-ie)}}function O(ie,he){g=!1,y&&(y=!1,_(z),z=-1),m=!0;var I=p;try{for(T(he),d=n(l);d!==null&&(!(d.expirationTime>he)||ie&&!q());){var Ie=d.callback;if(typeof Ie=="function"){d.callback=null,p=d.priorityLevel;var De=Ie(d.expirationTime<=he);he=e.unstable_now(),typeof De=="function"?d.callback=De:d===n(l)&&r(l),T(he)}else r(l);d=n(l)}if(d!==null)var D=!0;else{var Qe=n(u);Qe!==null&&Oe(P,Qe.startTime-he),D=!1}return D}finally{d=null,p=I,m=!1}}var R=!1,H=null,z=-1,K=5,F=-1;function q(){return!(e.unstable_now()-F<K)}function J(){if(H!==null){var ie=e.unstable_now();F=ie;var he=!0;try{he=H(!0,ie)}finally{he?Ee():(R=!1,H=null)}}else R=!1}var Ee;if(typeof E=="function")Ee=function(){E(J)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,fe=we.port2;we.port1.onmessage=J,Ee=function(){fe.postMessage(null)}}else Ee=function(){w(J,0)};function Le(ie){H=ie,R||(R=!0,Ee())}function Oe(ie,he){z=w(function(){ie(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,Le(O))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(ie){switch(p){case 1:case 2:case 3:var he=3;break;default:he=p}var I=p;p=he;try{return ie()}finally{p=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,he){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var I=p;p=ie;try{return he()}finally{p=I}},e.unstable_scheduleCallback=function(ie,he,I){var Ie=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Ie+I:Ie):I=Ie,ie){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=I+De,ie={id:c++,callback:he,priorityLevel:ie,startTime:I,expirationTime:De,sortIndex:-1},I>Ie?(ie.sortIndex=I,t(u,ie),n(l)===null&&ie===n(u)&&(y?(_(z),z=-1):y=!0,Oe(P,I-Ie))):(ie.sortIndex=De,t(l,ie),g||m||(g=!0,Le(O))),ie},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(ie){var he=p;return function(){var I=p;p=he;try{return ie.apply(this,arguments)}finally{p=I}}}})(X_);K_.exports=X_;var Ow=K_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw=G,xn=Ow;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J_=new Set,Ga={};function Wi(e,t){As(e,t),As(e+"Capture",t)}function As(e,t){for(Ga[e]=t,e=0;e<t.length;e++)J_.add(t[e])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$d=Object.prototype.hasOwnProperty,Mw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bm={},Hm={};function Fw(e){return $d.call(Hm,e)?!0:$d.call(Bm,e)?!1:Mw.test(e)?Hm[e]=!0:(Bm[e]=!0,!1)}function Bw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hw(e,t,n,r){if(t===null||typeof t>"u"||Bw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var vh=/[\-:]([a-z])/g;function Ah(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vh,Ah);Mt[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vh,Ah);Mt[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vh,Ah);Mt[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ch(e,t,n,r){var i=Mt.hasOwnProperty(t)?Mt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hw(t,n,i,r)&&(n=null),r||i===null?Fw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Cr=Dw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qo=Symbol.for("react.element"),ts=Symbol.for("react.portal"),ns=Symbol.for("react.fragment"),Sh=Symbol.for("react.strict_mode"),Kd=Symbol.for("react.profiler"),Z_=Symbol.for("react.provider"),eb=Symbol.for("react.context"),kh=Symbol.for("react.forward_ref"),Xd=Symbol.for("react.suspense"),Jd=Symbol.for("react.suspense_list"),Ih=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),tb=Symbol.for("react.offscreen"),zm=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=zm&&e[zm]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,Yc;function ha(e){if(Yc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yc=t&&t[1]||""}return`
`+Yc+e}var qc=!1;function Qc(e,t){if(!e||qc)return"";qc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{qc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ha(e):""}function zw(e){switch(e.tag){case 5:return ha(e.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 2:case 15:return e=Qc(e.type,!1),e;case 11:return e=Qc(e.type.render,!1),e;case 1:return e=Qc(e.type,!0),e;default:return""}}function Zd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ns:return"Fragment";case ts:return"Portal";case Kd:return"Profiler";case Sh:return"StrictMode";case Xd:return"Suspense";case Jd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eb:return(e.displayName||"Context")+".Consumer";case Z_:return(e._context.displayName||"Context")+".Provider";case kh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ih:return t=e.displayName||null,t!==null?t:Zd(e.type)||"Memo";case Br:t=e._payload,e=e._init;try{return Zd(e(t))}catch{}}return null}function Uw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zd(t);case 8:return t===Sh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jw(e){var t=nb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $o(e){e._valueTracker||(e._valueTracker=jw(e))}function rb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ef(e,t){var n=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Um(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ai(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ib(e,t){t=t.checked,t!=null&&Ch(e,"checked",t,!1)}function tf(e,t){ib(e,t);var n=ai(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nf(e,t.type,n):t.hasOwnProperty("defaultValue")&&nf(e,t.type,ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nf(e,t,n){(t!=="number"||Xl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pa=Array.isArray;function gs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ai(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(pa(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ai(n)}}function sb(e,t){var n=ai(t.value),r=ai(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ab(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ab(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ko,ob=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ko.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ww=["Webkit","ms","Moz","O"];Object.keys(wa).forEach(function(e){Ww.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wa[t]=wa[e]})});function lb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wa.hasOwnProperty(e)&&wa[e]?(""+t).trim():t+"px"}function ub(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Gw=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function af(e,t){if(t){if(Gw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function of(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=null;function Rh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uf=null,_s=null,bs=null;function Vm(e){if(e=xo(e)){if(typeof uf!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=$u(t),uf(e.stateNode,e.type,t))}}function cb(e){_s?bs?bs.push(e):bs=[e]:_s=e}function db(){if(_s){var e=_s,t=bs;if(bs=_s=null,Vm(e),t)for(e=0;e<t.length;e++)Vm(t[e])}}function fb(e,t){return e(t)}function hb(){}var $c=!1;function pb(e,t,n){if($c)return e(t,n);$c=!0;try{return fb(e,t,n)}finally{$c=!1,(_s!==null||bs!==null)&&(hb(),db())}}function Ya(e,t){var n=e.stateNode;if(n===null)return null;var r=$u(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var cf=!1;if(Tr)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){cf=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{cf=!1}function Vw(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var va=!1,Jl=null,Zl=!1,df=null,Yw={onError:function(e){va=!0,Jl=e}};function qw(e,t,n,r,i,s,a,o,l){va=!1,Jl=null,Vw.apply(Yw,arguments)}function Qw(e,t,n,r,i,s,a,o,l){if(qw.apply(this,arguments),va){if(va){var u=Jl;va=!1,Jl=null}else throw Error(Z(198));Zl||(Zl=!0,df=u)}}function Gi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ym(e){if(Gi(e)!==e)throw Error(Z(188))}function $w(e){var t=e.alternate;if(!t){if(t=Gi(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ym(i),e;if(s===r)return Ym(i),t;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function gb(e){return e=$w(e),e!==null?_b(e):null}function _b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_b(e);if(t!==null)return t;e=e.sibling}return null}var bb=xn.unstable_scheduleCallback,qm=xn.unstable_cancelCallback,Kw=xn.unstable_shouldYield,Xw=xn.unstable_requestPaint,_t=xn.unstable_now,Jw=xn.unstable_getCurrentPriorityLevel,Lh=xn.unstable_ImmediatePriority,yb=xn.unstable_UserBlockingPriority,eu=xn.unstable_NormalPriority,Zw=xn.unstable_LowPriority,Eb=xn.unstable_IdlePriority,Vu=null,nr=null;function ev(e){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Vu,e,void 0,(e.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:rv,tv=Math.log,nv=Math.LN2;function rv(e){return e>>>=0,e===0?32:31-(tv(e)/nv|0)|0}var Xo=64,Jo=4194304;function ma(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ma(o):(s&=a,s!==0&&(r=ma(s)))}else a=n&~i,a!==0?r=ma(a):s!==0&&(r=ma(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jn(t),i=1<<n,r|=e[n],t&=~i;return r}function iv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-jn(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=iv(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function ff(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xb(){var e=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),e}function Kc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jn(t),e[t]=n}function av(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-jn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Nh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Xe=0;function Tb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wb,Ph,vb,Ab,Cb,hf=!1,Zo=[],Kr=null,Xr=null,Jr=null,qa=new Map,Qa=new Map,zr=[],ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qm(e,t){switch(e){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(t.pointerId)}}function Js(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=xo(t),t!==null&&Ph(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lv(e,t,n,r,i){switch(t){case"focusin":return Kr=Js(Kr,e,t,n,r,i),!0;case"dragenter":return Xr=Js(Xr,e,t,n,r,i),!0;case"mouseover":return Jr=Js(Jr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return qa.set(s,Js(qa.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qa.set(s,Js(Qa.get(s)||null,e,t,n,r,i)),!0}return!1}function Sb(e){var t=ki(e.target);if(t!==null){var n=Gi(t);if(n!==null){if(t=n.tag,t===13){if(t=mb(n),t!==null){e.blockedOn=t,Cb(e.priority,function(){vb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);lf=r,n.target.dispatchEvent(r),lf=null}else return t=xo(n),t!==null&&Ph(t),e.blockedOn=n,!1;t.shift()}return!0}function $m(e,t,n){Pl(e)&&n.delete(t)}function uv(){hf=!1,Kr!==null&&Pl(Kr)&&(Kr=null),Xr!==null&&Pl(Xr)&&(Xr=null),Jr!==null&&Pl(Jr)&&(Jr=null),qa.forEach($m),Qa.forEach($m)}function Zs(e,t){e.blockedOn===t&&(e.blockedOn=null,hf||(hf=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,uv)))}function $a(e){function t(i){return Zs(i,e)}if(0<Zo.length){Zs(Zo[0],e);for(var n=1;n<Zo.length;n++){var r=Zo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kr!==null&&Zs(Kr,e),Xr!==null&&Zs(Xr,e),Jr!==null&&Zs(Jr,e),qa.forEach(t),Qa.forEach(t),n=0;n<zr.length;n++)r=zr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zr.length&&(n=zr[0],n.blockedOn===null);)Sb(n),n.blockedOn===null&&zr.shift()}var ys=Cr.ReactCurrentBatchConfig,nu=!0;function cv(e,t,n,r){var i=Xe,s=ys.transition;ys.transition=null;try{Xe=1,Oh(e,t,n,r)}finally{Xe=i,ys.transition=s}}function dv(e,t,n,r){var i=Xe,s=ys.transition;ys.transition=null;try{Xe=4,Oh(e,t,n,r)}finally{Xe=i,ys.transition=s}}function Oh(e,t,n,r){if(nu){var i=pf(e,t,n,r);if(i===null)ad(e,t,r,ru,n),Qm(e,r);else if(lv(i,e,t,n,r))r.stopPropagation();else if(Qm(e,r),t&4&&-1<ov.indexOf(e)){for(;i!==null;){var s=xo(i);if(s!==null&&wb(s),s=pf(e,t,n,r),s===null&&ad(e,t,r,ru,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ad(e,t,r,null,n)}}var ru=null;function pf(e,t,n,r){if(ru=null,e=Rh(r),e=ki(e),e!==null)if(t=Gi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ru=e,null}function kb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jw()){case Lh:return 1;case yb:return 4;case eu:case Zw:return 16;case Eb:return 536870912;default:return 16}default:return 16}}var jr=null,Dh=null,Ol=null;function Ib(){if(Ol)return Ol;var e,t=Dh,n=t.length,r,i="value"in jr?jr.value:jr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Ol=i.slice(e,1<r?1-r:void 0)}function Dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function el(){return!0}function Km(){return!1}function wn(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?el:Km,this.isPropagationStopped=Km,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),t}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mh=wn(zs),Eo=ft({},zs,{view:0,detail:0}),fv=wn(Eo),Xc,Jc,ea,Yu=ft({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ea&&(ea&&e.type==="mousemove"?(Xc=e.screenX-ea.screenX,Jc=e.screenY-ea.screenY):Jc=Xc=0,ea=e),Xc)},movementY:function(e){return"movementY"in e?e.movementY:Jc}}),Xm=wn(Yu),hv=ft({},Yu,{dataTransfer:0}),pv=wn(hv),mv=ft({},Eo,{relatedTarget:0}),Zc=wn(mv),gv=ft({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),_v=wn(gv),bv=ft({},zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yv=wn(bv),Ev=ft({},zs,{data:0}),Jm=wn(Ev),xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wv[e])?!!t[e]:!1}function Fh(){return vv}var Av=ft({},Eo,{key:function(e){if(e.key){var t=xv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fh,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cv=wn(Av),Sv=ft({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zm=wn(Sv),kv=ft({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fh}),Iv=wn(kv),Rv=ft({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lv=wn(Rv),Nv=ft({},Yu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pv=wn(Nv),Ov=[9,13,27,32],Bh=Tr&&"CompositionEvent"in window,Aa=null;Tr&&"documentMode"in document&&(Aa=document.documentMode);var Dv=Tr&&"TextEvent"in window&&!Aa,Rb=Tr&&(!Bh||Aa&&8<Aa&&11>=Aa),eg=String.fromCharCode(32),tg=!1;function Lb(e,t){switch(e){case"keyup":return Ov.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function Mv(e,t){switch(e){case"compositionend":return Nb(t);case"keypress":return t.which!==32?null:(tg=!0,eg);case"textInput":return e=t.data,e===eg&&tg?null:e;default:return null}}function Fv(e,t){if(rs)return e==="compositionend"||!Bh&&Lb(e,t)?(e=Ib(),Ol=Dh=jr=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rb&&t.locale!=="ko"?null:t.data;default:return null}}var Bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bv[e.type]:t==="textarea"}function Pb(e,t,n,r){cb(r),t=iu(t,"onChange"),0<t.length&&(n=new Mh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ca=null,Ka=null;function Hv(e){Gb(e,0)}function qu(e){var t=as(e);if(rb(t))return e}function zv(e,t){if(e==="change")return t}var Ob=!1;if(Tr){var ed;if(Tr){var td="oninput"in document;if(!td){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),td=typeof rg.oninput=="function"}ed=td}else ed=!1;Ob=ed&&(!document.documentMode||9<document.documentMode)}function ig(){Ca&&(Ca.detachEvent("onpropertychange",Db),Ka=Ca=null)}function Db(e){if(e.propertyName==="value"&&qu(Ka)){var t=[];Pb(t,Ka,e,Rh(e)),pb(Hv,t)}}function Uv(e,t,n){e==="focusin"?(ig(),Ca=t,Ka=n,Ca.attachEvent("onpropertychange",Db)):e==="focusout"&&ig()}function jv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qu(Ka)}function Wv(e,t){if(e==="click")return qu(t)}function Gv(e,t){if(e==="input"||e==="change")return qu(t)}function Vv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vn=typeof Object.is=="function"?Object.is:Vv;function Xa(e,t){if(Vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$d.call(t,i)||!Vn(e[i],t[i]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,t){var n=sg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sg(n)}}function Mb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fb(){for(var e=window,t=Xl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xl(e.document)}return t}function Hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yv(e){var t=Fb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mb(n.ownerDocument.documentElement,n)){if(r!==null&&Hh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ag(n,s);var a=ag(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qv=Tr&&"documentMode"in document&&11>=document.documentMode,is=null,mf=null,Sa=null,gf=!1;function og(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gf||is==null||is!==Xl(r)||(r=is,"selectionStart"in r&&Hh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sa&&Xa(Sa,r)||(Sa=r,r=iu(mf,"onSelect"),0<r.length&&(t=new Mh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=is)))}function tl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ss={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},nd={},Bb={};Tr&&(Bb=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Qu(e){if(nd[e])return nd[e];if(!ss[e])return e;var t=ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bb)return nd[e]=t[n];return e}var Hb=Qu("animationend"),zb=Qu("animationiteration"),Ub=Qu("animationstart"),jb=Qu("transitionend"),Wb=new Map,lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(e,t){Wb.set(e,t),Wi(t,[e])}for(var rd=0;rd<lg.length;rd++){var id=lg[rd],Qv=id.toLowerCase(),$v=id[0].toUpperCase()+id.slice(1);ci(Qv,"on"+$v)}ci(Hb,"onAnimationEnd");ci(zb,"onAnimationIteration");ci(Ub,"onAnimationStart");ci("dblclick","onDoubleClick");ci("focusin","onFocus");ci("focusout","onBlur");ci(jb,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function ug(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Qw(r,t,void 0,e),e.currentTarget=null}function Gb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;ug(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;ug(i,o,u),s=l}}}if(Zl)throw e=df,Zl=!1,df=null,e}function rt(e,t){var n=t[xf];n===void 0&&(n=t[xf]=new Set);var r=e+"__bubble";n.has(r)||(Vb(t,e,2,!1),n.add(r))}function sd(e,t,n){var r=0;t&&(r|=4),Vb(n,e,r,t)}var nl="_reactListening"+Math.random().toString(36).slice(2);function Ja(e){if(!e[nl]){e[nl]=!0,J_.forEach(function(n){n!=="selectionchange"&&(Kv.has(n)||sd(n,!1,e),sd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nl]||(t[nl]=!0,sd("selectionchange",!1,t))}}function Vb(e,t,n,r){switch(kb(t)){case 1:var i=cv;break;case 4:i=dv;break;default:i=Oh}n=i.bind(null,t,n,e),i=void 0,!cf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ad(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ki(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}pb(function(){var u=s,c=Rh(n),d=[];e:{var p=Wb.get(e);if(p!==void 0){var m=Mh,g=e;switch(e){case"keypress":if(Dl(n)===0)break e;case"keydown":case"keyup":m=Cv;break;case"focusin":g="focus",m=Zc;break;case"focusout":g="blur",m=Zc;break;case"beforeblur":case"afterblur":m=Zc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Iv;break;case Hb:case zb:case Ub:m=_v;break;case jb:m=Lv;break;case"scroll":m=fv;break;case"wheel":m=Pv;break;case"copy":case"cut":case"paste":m=yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zm}var y=(t&4)!==0,w=!y&&e==="scroll",_=y?p!==null?p+"Capture":null:p;y=[];for(var E=u,T;E!==null;){T=E;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,_!==null&&(P=Ya(E,_),P!=null&&y.push(Za(E,P,T)))),w)break;E=E.return}0<y.length&&(p=new m(p,g,null,n,c),d.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==lf&&(g=n.relatedTarget||n.fromElement)&&(ki(g)||g[wr]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?ki(g):null,g!==null&&(w=Gi(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=Xm,P="onMouseLeave",_="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(y=Zm,P="onPointerLeave",_="onPointerEnter",E="pointer"),w=m==null?p:as(m),T=g==null?p:as(g),p=new y(P,E+"leave",m,n,c),p.target=w,p.relatedTarget=T,P=null,ki(c)===u&&(y=new y(_,E+"enter",g,n,c),y.target=T,y.relatedTarget=w,P=y),w=P,m&&g)t:{for(y=m,_=g,E=0,T=y;T;T=$i(T))E++;for(T=0,P=_;P;P=$i(P))T++;for(;0<E-T;)y=$i(y),E--;for(;0<T-E;)_=$i(_),T--;for(;E--;){if(y===_||_!==null&&y===_.alternate)break t;y=$i(y),_=$i(_)}y=null}else y=null;m!==null&&cg(d,p,m,y,!1),g!==null&&w!==null&&cg(d,w,g,y,!0)}}e:{if(p=u?as(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=zv;else if(ng(p))if(Ob)O=Gv;else{O=jv;var R=Uv}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=Wv);if(O&&(O=O(e,u))){Pb(d,O,n,c);break e}R&&R(e,p,u),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&nf(p,"number",p.value)}switch(R=u?as(u):window,e){case"focusin":(ng(R)||R.contentEditable==="true")&&(is=R,mf=u,Sa=null);break;case"focusout":Sa=mf=is=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,og(d,n,c);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":og(d,n,c)}var H;if(Bh)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else rs?Lb(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(Rb&&n.locale!=="ko"&&(rs||z!=="onCompositionStart"?z==="onCompositionEnd"&&rs&&(H=Ib()):(jr=c,Dh="value"in jr?jr.value:jr.textContent,rs=!0)),R=iu(u,z),0<R.length&&(z=new Jm(z,e,null,n,c),d.push({event:z,listeners:R}),H?z.data=H:(H=Nb(n),H!==null&&(z.data=H)))),(H=Dv?Mv(e,n):Fv(e,n))&&(u=iu(u,"onBeforeInput"),0<u.length&&(c=new Jm("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=H))}Gb(d,t)})}function Za(e,t,n){return{instance:e,listener:t,currentTarget:n}}function iu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ya(e,n),s!=null&&r.unshift(Za(e,s,i)),s=Ya(e,t),s!=null&&r.push(Za(e,s,i))),e=e.return}return r}function $i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cg(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Ya(n,s),l!=null&&a.unshift(Za(n,l,o))):i||(l=Ya(n,s),l!=null&&a.push(Za(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Xv=/\r\n?/g,Jv=/\u0000|\uFFFD/g;function dg(e){return(typeof e=="string"?e:""+e).replace(Xv,`
`).replace(Jv,"")}function rl(e,t,n){if(t=dg(t),dg(e)!==t&&n)throw Error(Z(425))}function su(){}var _f=null,bf=null;function yf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ef=typeof setTimeout=="function"?setTimeout:void 0,Zv=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,eA=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(e){return fg.resolve(null).then(e).catch(tA)}:Ef;function tA(e){setTimeout(function(){throw e})}function od(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),$a(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$a(t)}function Zr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Us=Math.random().toString(36).slice(2),tr="__reactFiber$"+Us,eo="__reactProps$"+Us,wr="__reactContainer$"+Us,xf="__reactEvents$"+Us,nA="__reactListeners$"+Us,rA="__reactHandles$"+Us;function ki(e){var t=e[tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wr]||n[tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hg(e);e!==null;){if(n=e[tr])return n;e=hg(e)}return t}e=n,n=e.parentNode}return null}function xo(e){return e=e[tr]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function as(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function $u(e){return e[eo]||null}var Tf=[],os=-1;function di(e){return{current:e}}function it(e){0>os||(e.current=Tf[os],Tf[os]=null,os--)}function nt(e,t){os++,Tf[os]=e.current,e.current=t}var oi={},jt=di(oi),an=di(!1),Mi=oi;function Cs(e,t){var n=e.type.contextTypes;if(!n)return oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function on(e){return e=e.childContextTypes,e!=null}function au(){it(an),it(jt)}function pg(e,t,n){if(jt.current!==oi)throw Error(Z(168));nt(jt,t),nt(an,n)}function Yb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Z(108,Uw(e)||"Unknown",i));return ft({},n,r)}function ou(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,Mi=jt.current,nt(jt,e),nt(an,an.current),!0}function mg(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=Yb(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,it(an),it(jt),nt(jt,e)):it(an),nt(an,n)}var hr=null,Ku=!1,ld=!1;function qb(e){hr===null?hr=[e]:hr.push(e)}function iA(e){Ku=!0,qb(e)}function fi(){if(!ld&&hr!==null){ld=!0;var e=0,t=Xe;try{var n=hr;for(Xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}hr=null,Ku=!1}catch(i){throw hr!==null&&(hr=hr.slice(e+1)),bb(Lh,fi),i}finally{Xe=t,ld=!1}}return null}var ls=[],us=0,lu=null,uu=0,kn=[],In=0,Fi=null,_r=1,br="";function wi(e,t){ls[us++]=uu,ls[us++]=lu,lu=e,uu=t}function Qb(e,t,n){kn[In++]=_r,kn[In++]=br,kn[In++]=Fi,Fi=e;var r=_r;e=br;var i=32-jn(r)-1;r&=~(1<<i),n+=1;var s=32-jn(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,_r=1<<32-jn(t)+i|n<<i|r,br=s+e}else _r=1<<s|n<<i|r,br=e}function zh(e){e.return!==null&&(wi(e,1),Qb(e,1,0))}function Uh(e){for(;e===lu;)lu=ls[--us],ls[us]=null,uu=ls[--us],ls[us]=null;for(;e===Fi;)Fi=kn[--In],kn[In]=null,br=kn[--In],kn[In]=null,_r=kn[--In],kn[In]=null}var bn=null,gn=null,ot=!1,Un=null;function $b(e,t){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,gn=Zr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fi!==null?{id:_r,overflow:br}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bn=e,gn=null,!0):!1;default:return!1}}function wf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vf(e){if(ot){var t=gn;if(t){var n=t;if(!gg(e,t)){if(wf(e))throw Error(Z(418));t=Zr(n.nextSibling);var r=bn;t&&gg(e,t)?$b(r,n):(e.flags=e.flags&-4097|2,ot=!1,bn=e)}}else{if(wf(e))throw Error(Z(418));e.flags=e.flags&-4097|2,ot=!1,bn=e}}}function _g(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function il(e){if(e!==bn)return!1;if(!ot)return _g(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yf(e.type,e.memoizedProps)),t&&(t=gn)){if(wf(e))throw Kb(),Error(Z(418));for(;t;)$b(e,t),t=Zr(t.nextSibling)}if(_g(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gn=Zr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gn=null}}else gn=bn?Zr(e.stateNode.nextSibling):null;return!0}function Kb(){for(var e=gn;e;)e=Zr(e.nextSibling)}function Ss(){gn=bn=null,ot=!1}function jh(e){Un===null?Un=[e]:Un.push(e)}var sA=Cr.ReactCurrentBatchConfig;function ta(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function sl(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bg(e){var t=e._init;return t(e._payload)}function Xb(e){function t(_,E){if(e){var T=_.deletions;T===null?(_.deletions=[E],_.flags|=16):T.push(E)}}function n(_,E){if(!e)return null;for(;E!==null;)t(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function i(_,E){return _=ri(_,E),_.index=0,_.sibling=null,_}function s(_,E,T){return _.index=T,e?(T=_.alternate,T!==null?(T=T.index,T<E?(_.flags|=2,E):T):(_.flags|=2,E)):(_.flags|=1048576,E)}function a(_){return e&&_.alternate===null&&(_.flags|=2),_}function o(_,E,T,P){return E===null||E.tag!==6?(E=md(T,_.mode,P),E.return=_,E):(E=i(E,T),E.return=_,E)}function l(_,E,T,P){var O=T.type;return O===ns?c(_,E,T.props.children,P,T.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Br&&bg(O)===E.type)?(P=i(E,T.props),P.ref=ta(_,E,T),P.return=_,P):(P=jl(T.type,T.key,T.props,null,_.mode,P),P.ref=ta(_,E,T),P.return=_,P)}function u(_,E,T,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=gd(T,_.mode,P),E.return=_,E):(E=i(E,T.children||[]),E.return=_,E)}function c(_,E,T,P,O){return E===null||E.tag!==7?(E=Pi(T,_.mode,P,O),E.return=_,E):(E=i(E,T),E.return=_,E)}function d(_,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=md(""+E,_.mode,T),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qo:return T=jl(E.type,E.key,E.props,null,_.mode,T),T.ref=ta(_,null,E),T.return=_,T;case ts:return E=gd(E,_.mode,T),E.return=_,E;case Br:var P=E._init;return d(_,P(E._payload),T)}if(pa(E)||Ks(E))return E=Pi(E,_.mode,T,null),E.return=_,E;sl(_,E)}return null}function p(_,E,T,P){var O=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:o(_,E,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Qo:return T.key===O?l(_,E,T,P):null;case ts:return T.key===O?u(_,E,T,P):null;case Br:return O=T._init,p(_,E,O(T._payload),P)}if(pa(T)||Ks(T))return O!==null?null:c(_,E,T,P,null);sl(_,T)}return null}function m(_,E,T,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(T)||null,o(E,_,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Qo:return _=_.get(P.key===null?T:P.key)||null,l(E,_,P,O);case ts:return _=_.get(P.key===null?T:P.key)||null,u(E,_,P,O);case Br:var R=P._init;return m(_,E,T,R(P._payload),O)}if(pa(P)||Ks(P))return _=_.get(T)||null,c(E,_,P,O,null);sl(E,P)}return null}function g(_,E,T,P){for(var O=null,R=null,H=E,z=E=0,K=null;H!==null&&z<T.length;z++){H.index>z?(K=H,H=null):K=H.sibling;var F=p(_,H,T[z],P);if(F===null){H===null&&(H=K);break}e&&H&&F.alternate===null&&t(_,H),E=s(F,E,z),R===null?O=F:R.sibling=F,R=F,H=K}if(z===T.length)return n(_,H),ot&&wi(_,z),O;if(H===null){for(;z<T.length;z++)H=d(_,T[z],P),H!==null&&(E=s(H,E,z),R===null?O=H:R.sibling=H,R=H);return ot&&wi(_,z),O}for(H=r(_,H);z<T.length;z++)K=m(H,_,z,T[z],P),K!==null&&(e&&K.alternate!==null&&H.delete(K.key===null?z:K.key),E=s(K,E,z),R===null?O=K:R.sibling=K,R=K);return e&&H.forEach(function(q){return t(_,q)}),ot&&wi(_,z),O}function y(_,E,T,P){var O=Ks(T);if(typeof O!="function")throw Error(Z(150));if(T=O.call(T),T==null)throw Error(Z(151));for(var R=O=null,H=E,z=E=0,K=null,F=T.next();H!==null&&!F.done;z++,F=T.next()){H.index>z?(K=H,H=null):K=H.sibling;var q=p(_,H,F.value,P);if(q===null){H===null&&(H=K);break}e&&H&&q.alternate===null&&t(_,H),E=s(q,E,z),R===null?O=q:R.sibling=q,R=q,H=K}if(F.done)return n(_,H),ot&&wi(_,z),O;if(H===null){for(;!F.done;z++,F=T.next())F=d(_,F.value,P),F!==null&&(E=s(F,E,z),R===null?O=F:R.sibling=F,R=F);return ot&&wi(_,z),O}for(H=r(_,H);!F.done;z++,F=T.next())F=m(H,_,z,F.value,P),F!==null&&(e&&F.alternate!==null&&H.delete(F.key===null?z:F.key),E=s(F,E,z),R===null?O=F:R.sibling=F,R=F);return e&&H.forEach(function(J){return t(_,J)}),ot&&wi(_,z),O}function w(_,E,T,P){if(typeof T=="object"&&T!==null&&T.type===ns&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Qo:e:{for(var O=T.key,R=E;R!==null;){if(R.key===O){if(O=T.type,O===ns){if(R.tag===7){n(_,R.sibling),E=i(R,T.props.children),E.return=_,_=E;break e}}else if(R.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Br&&bg(O)===R.type){n(_,R.sibling),E=i(R,T.props),E.ref=ta(_,R,T),E.return=_,_=E;break e}n(_,R);break}else t(_,R);R=R.sibling}T.type===ns?(E=Pi(T.props.children,_.mode,P,T.key),E.return=_,_=E):(P=jl(T.type,T.key,T.props,null,_.mode,P),P.ref=ta(_,E,T),P.return=_,_=P)}return a(_);case ts:e:{for(R=T.key;E!==null;){if(E.key===R)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(_,E.sibling),E=i(E,T.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else t(_,E);E=E.sibling}E=gd(T,_.mode,P),E.return=_,_=E}return a(_);case Br:return R=T._init,w(_,E,R(T._payload),P)}if(pa(T))return g(_,E,T,P);if(Ks(T))return y(_,E,T,P);sl(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(_,E.sibling),E=i(E,T),E.return=_,_=E):(n(_,E),E=md(T,_.mode,P),E.return=_,_=E),a(_)):n(_,E)}return w}var ks=Xb(!0),Jb=Xb(!1),cu=di(null),du=null,cs=null,Wh=null;function Gh(){Wh=cs=du=null}function Vh(e){var t=cu.current;it(cu),e._currentValue=t}function Af(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){du=e,Wh=cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sn=!0),e.firstContext=null)}function On(e){var t=e._currentValue;if(Wh!==e)if(e={context:e,memoizedValue:t,next:null},cs===null){if(du===null)throw Error(Z(308));cs=e,du.dependencies={lanes:0,firstContext:e}}else cs=cs.next=e;return t}var Ii=null;function Yh(e){Ii===null?Ii=[e]:Ii.push(e)}function Zb(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Yh(t)):(n.next=i.next,i.next=n),t.interleaved=n,vr(e,r)}function vr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hr=!1;function qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ey(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ei(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,vr(e,n)}return i=r.interleaved,i===null?(t.next=t,Yh(r)):(t.next=i.next,i.next=t),r.interleaved=t,vr(e,n)}function Ml(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nh(e,n)}}function yg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fu(e,t,n,r){var i=e.updateQueue;Hr=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,c=u=l=null,o=s;do{var p=o.lane,m=o.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(p=t,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=ft({},d,p);break e;case 2:Hr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Hi|=a,e.lanes=a,e.memoizedState=d}}function Eg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var To={},rr=di(To),to=di(To),no=di(To);function Ri(e){if(e===To)throw Error(Z(174));return e}function Qh(e,t){switch(nt(no,t),nt(to,e),nt(rr,To),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sf(t,e)}it(rr),nt(rr,t)}function Is(){it(rr),it(to),it(no)}function ty(e){Ri(no.current);var t=Ri(rr.current),n=sf(t,e.type);t!==n&&(nt(to,e),nt(rr,n))}function $h(e){to.current===e&&(it(rr),it(to))}var lt=di(0);function hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ud=[];function Kh(){for(var e=0;e<ud.length;e++)ud[e]._workInProgressVersionPrimary=null;ud.length=0}var Fl=Cr.ReactCurrentDispatcher,cd=Cr.ReactCurrentBatchConfig,Bi=0,dt=null,vt=null,It=null,pu=!1,ka=!1,ro=0,aA=0;function Bt(){throw Error(Z(321))}function Xh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vn(e[n],t[n]))return!1;return!0}function Jh(e,t,n,r,i,s){if(Bi=s,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fl.current=e===null||e.memoizedState===null?cA:dA,e=n(r,i),ka){s=0;do{if(ka=!1,ro=0,25<=s)throw Error(Z(301));s+=1,It=vt=null,t.updateQueue=null,Fl.current=fA,e=n(r,i)}while(ka)}if(Fl.current=mu,t=vt!==null&&vt.next!==null,Bi=0,It=vt=dt=null,pu=!1,t)throw Error(Z(300));return e}function Zh(){var e=ro!==0;return ro=0,e}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?dt.memoizedState=It=e:It=It.next=e,It}function Dn(){if(vt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=It===null?dt.memoizedState:It.next;if(t!==null)It=t,vt=e;else{if(e===null)throw Error(Z(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},It===null?dt.memoizedState=It=e:It=It.next=e}return It}function io(e,t){return typeof t=="function"?t(e):t}function dd(e){var t=Dn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Bi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,dt.lanes|=c,Hi|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Vn(r,t.memoizedState)||(sn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,dt.lanes|=s,Hi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fd(e){var t=Dn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Vn(s,t.memoizedState)||(sn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ny(){}function ry(e,t){var n=dt,r=Dn(),i=t(),s=!Vn(r.memoizedState,i);if(s&&(r.memoizedState=i,sn=!0),r=r.queue,ep(ay.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,so(9,sy.bind(null,n,r,i,t),void 0,null),Lt===null)throw Error(Z(349));Bi&30||iy(n,t,i)}return i}function iy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sy(e,t,n,r){t.value=n,t.getSnapshot=r,oy(t)&&ly(e)}function ay(e,t,n){return n(function(){oy(t)&&ly(e)})}function oy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vn(e,n)}catch{return!0}}function ly(e){var t=vr(e,1);t!==null&&Wn(t,e,1,-1)}function xg(e){var t=Xn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:e},t.queue=e,e=e.dispatch=uA.bind(null,dt,e),[t.memoizedState,e]}function so(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function uy(){return Dn().memoizedState}function Bl(e,t,n,r){var i=Xn();dt.flags|=e,i.memoizedState=so(1|t,n,void 0,r===void 0?null:r)}function Xu(e,t,n,r){var i=Dn();r=r===void 0?null:r;var s=void 0;if(vt!==null){var a=vt.memoizedState;if(s=a.destroy,r!==null&&Xh(r,a.deps)){i.memoizedState=so(t,n,s,r);return}}dt.flags|=e,i.memoizedState=so(1|t,n,s,r)}function Tg(e,t){return Bl(8390656,8,e,t)}function ep(e,t){return Xu(2048,8,e,t)}function cy(e,t){return Xu(4,2,e,t)}function dy(e,t){return Xu(4,4,e,t)}function fy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hy(e,t,n){return n=n!=null?n.concat([e]):null,Xu(4,4,fy.bind(null,t,e),n)}function tp(){}function py(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function my(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gy(e,t,n){return Bi&21?(Vn(n,t)||(n=xb(),dt.lanes|=n,Hi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=n)}function oA(e,t){var n=Xe;Xe=n!==0&&4>n?n:4,e(!0);var r=cd.transition;cd.transition={};try{e(!1),t()}finally{Xe=n,cd.transition=r}}function _y(){return Dn().memoizedState}function lA(e,t,n){var r=ni(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},by(e))yy(t,n);else if(n=Zb(e,t,n,r),n!==null){var i=$t();Wn(n,e,r,i),Ey(n,t,r)}}function uA(e,t,n){var r=ni(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(by(e))yy(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Vn(o,a)){var l=t.interleaved;l===null?(i.next=i,Yh(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Zb(e,t,i,r),n!==null&&(i=$t(),Wn(n,e,r,i),Ey(n,t,r))}}function by(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function yy(e,t){ka=pu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ey(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nh(e,n)}}var mu={readContext:On,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},cA={readContext:On,useCallback:function(e,t){return Xn().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:Tg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bl(4194308,4,fy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bl(4,2,e,t)},useMemo:function(e,t){var n=Xn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lA.bind(null,dt,e),[r.memoizedState,e]},useRef:function(e){var t=Xn();return e={current:e},t.memoizedState=e},useState:xg,useDebugValue:tp,useDeferredValue:function(e){return Xn().memoizedState=e},useTransition:function(){var e=xg(!1),t=e[0];return e=oA.bind(null,e[1]),Xn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dt,i=Xn();if(ot){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),Lt===null)throw Error(Z(349));Bi&30||iy(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Tg(ay.bind(null,r,s,e),[e]),r.flags|=2048,so(9,sy.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Xn(),t=Lt.identifierPrefix;if(ot){var n=br,r=_r;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ro++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=aA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dA={readContext:On,useCallback:py,useContext:On,useEffect:ep,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:dy,useMemo:my,useReducer:dd,useRef:uy,useState:function(){return dd(io)},useDebugValue:tp,useDeferredValue:function(e){var t=Dn();return gy(t,vt.memoizedState,e)},useTransition:function(){var e=dd(io)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:ny,useSyncExternalStore:ry,useId:_y,unstable_isNewReconciler:!1},fA={readContext:On,useCallback:py,useContext:On,useEffect:ep,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:dy,useMemo:my,useReducer:fd,useRef:uy,useState:function(){return fd(io)},useDebugValue:tp,useDeferredValue:function(e){var t=Dn();return vt===null?t.memoizedState=e:gy(t,vt.memoizedState,e)},useTransition:function(){var e=fd(io)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:ny,useSyncExternalStore:ry,useId:_y,unstable_isNewReconciler:!1};function Hn(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Cf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ju={isMounted:function(e){return(e=e._reactInternals)?Gi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$t(),i=ni(e),s=xr(r,i);s.payload=t,n!=null&&(s.callback=n),t=ei(e,s,i),t!==null&&(Wn(t,e,i,r),Ml(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$t(),i=ni(e),s=xr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ei(e,s,i),t!==null&&(Wn(t,e,i,r),Ml(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$t(),r=ni(e),i=xr(n,r);i.tag=2,t!=null&&(i.callback=t),t=ei(e,i,r),t!==null&&(Wn(t,e,r,n),Ml(t,e,r))}};function wg(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Xa(n,r)||!Xa(i,s):!0}function xy(e,t,n){var r=!1,i=oi,s=t.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=on(t)?Mi:jt.current,r=t.contextTypes,s=(r=r!=null)?Cs(e,i):oi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ju,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function vg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ju.enqueueReplaceState(t,t.state,null)}function Sf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},qh(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=on(t)?Mi:jt.current,i.context=Cs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Cf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ju.enqueueReplaceState(i,i.state,null),fu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Rs(e,t){try{var n="",r=t;do n+=zw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function hd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hA=typeof WeakMap=="function"?WeakMap:Map;function Ty(e,t,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_u||(_u=!0,Bf=r),kf(e,t)},n}function wy(e,t,n){n=xr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){kf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kf(e,t),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ag(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hA;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=SA.bind(null,e,t,n),t.then(e,e))}function Cg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sg(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xr(-1,1),t.tag=2,ei(n,t,1))),n.lanes|=1),e)}var pA=Cr.ReactCurrentOwner,sn=!1;function qt(e,t,n,r){t.child=e===null?Jb(t,null,n,r):ks(t,e.child,n,r)}function kg(e,t,n,r,i){n=n.render;var s=t.ref;return Es(t,i),r=Jh(e,t,n,r,s,i),n=Zh(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ar(e,t,i)):(ot&&n&&zh(t),t.flags|=1,qt(e,t,r,i),t.child)}function Ig(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!up(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,vy(e,t,s,r,i)):(e=jl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xa,n(a,r)&&e.ref===t.ref)return Ar(e,t,i)}return t.flags|=1,e=ri(s,r),e.ref=t.ref,e.return=t,t.child=e}function vy(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Xa(s,r)&&e.ref===t.ref)if(sn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(sn=!0);else return t.lanes=e.lanes,Ar(e,t,i)}return If(e,t,n,r,i)}function Ay(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(fs,pn),pn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt(fs,pn),pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nt(fs,pn),pn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,nt(fs,pn),pn|=r;return qt(e,t,i,n),t.child}function Cy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function If(e,t,n,r,i){var s=on(n)?Mi:jt.current;return s=Cs(t,s),Es(t,i),n=Jh(e,t,n,r,s,i),r=Zh(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ar(e,t,i)):(ot&&r&&zh(t),t.flags|=1,qt(e,t,n,i),t.child)}function Rg(e,t,n,r,i){if(on(n)){var s=!0;ou(t)}else s=!1;if(Es(t,i),t.stateNode===null)Hl(e,t),xy(t,n,r),Sf(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=On(u):(u=on(n)?Mi:jt.current,u=Cs(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&vg(t,a,r,u),Hr=!1;var p=t.memoizedState;a.state=p,fu(t,r,a,i),l=t.memoizedState,o!==r||p!==l||an.current||Hr?(typeof c=="function"&&(Cf(t,n,c,r),l=t.memoizedState),(o=Hr||wg(t,n,o,r,p,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ey(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Hn(t.type,o),a.props=u,d=t.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=on(n)?Mi:jt.current,l=Cs(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||p!==l)&&vg(t,a,r,l),Hr=!1,p=t.memoizedState,a.state=p,fu(t,r,a,i);var g=t.memoizedState;o!==d||p!==g||an.current||Hr?(typeof m=="function"&&(Cf(t,n,m,r),g=t.memoizedState),(u=Hr||wg(t,n,u,r,p,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Rf(e,t,n,r,s,i)}function Rf(e,t,n,r,i,s){Cy(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&mg(t,n,!1),Ar(e,t,s);r=t.stateNode,pA.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ks(t,e.child,null,s),t.child=ks(t,null,o,s)):qt(e,t,o,s),t.memoizedState=r.state,i&&mg(t,n,!0),t.child}function Sy(e){var t=e.stateNode;t.pendingContext?pg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pg(e,t.context,!1),Qh(e,t.containerInfo)}function Lg(e,t,n,r,i){return Ss(),jh(i),t.flags|=256,qt(e,t,n,r),t.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function Nf(e){return{baseLanes:e,cachePool:null,transitions:null}}function ky(e,t,n){var r=t.pendingProps,i=lt.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),nt(lt,i&1),e===null)return vf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=tc(a,r,0,null),e=Pi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Nf(n),t.memoizedState=Lf,e):np(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return mA(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ri(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ri(o,s):(s=Pi(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Nf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Lf,r}return s=e.child,e=s.sibling,r=ri(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function np(e,t){return t=tc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function al(e,t,n,r){return r!==null&&jh(r),ks(t,e.child,null,n),e=np(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mA(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=hd(Error(Z(422))),al(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=tc({mode:"visible",children:r.children},i,0,null),s=Pi(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ks(t,e.child,null,a),t.child.memoizedState=Nf(a),t.memoizedState=Lf,s);if(!(t.mode&1))return al(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Z(419)),r=hd(s,r,void 0),al(e,t,a,r)}if(o=(a&e.childLanes)!==0,sn||o){if(r=Lt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vr(e,i),Wn(r,e,i,-1))}return lp(),r=hd(Error(Z(421))),al(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=kA.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,gn=Zr(i.nextSibling),bn=t,ot=!0,Un=null,e!==null&&(kn[In++]=_r,kn[In++]=br,kn[In++]=Fi,_r=e.id,br=e.overflow,Fi=t),t=np(t,r.children),t.flags|=4096,t)}function Ng(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Af(e.return,t,n)}function pd(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Iy(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(qt(e,t,r.children,n),r=lt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ng(e,n,t);else if(e.tag===19)Ng(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(nt(lt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),pd(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}pd(t,!0,n,null,s);break;case"together":pd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ar(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=ri(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ri(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gA(e,t,n){switch(t.tag){case 3:Sy(t),Ss();break;case 5:ty(t);break;case 1:on(t.type)&&ou(t);break;case 4:Qh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;nt(cu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(nt(lt,lt.current&1),t.flags|=128,null):n&t.child.childLanes?ky(e,t,n):(nt(lt,lt.current&1),e=Ar(e,t,n),e!==null?e.sibling:null);nt(lt,lt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Iy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(lt,lt.current),r)break;return null;case 22:case 23:return t.lanes=0,Ay(e,t,n)}return Ar(e,t,n)}var Ry,Pf,Ly,Ny;Ry=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pf=function(){};Ly=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ri(rr.current);var s=null;switch(n){case"input":i=ef(e,i),r=ef(e,r),s=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),s=[];break;case"textarea":i=rf(e,i),r=rf(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=su)}af(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ga.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ga.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Ny=function(e,t,n,r){n!==r&&(t.flags|=4)};function na(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _A(e,t,n){var r=t.pendingProps;switch(Uh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return on(t.type)&&au(),Ht(t),null;case 3:return r=t.stateNode,Is(),it(an),it(jt),Kh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Un!==null&&(Uf(Un),Un=null))),Pf(e,t),Ht(t),null;case 5:$h(t);var i=Ri(no.current);if(n=t.type,e!==null&&t.stateNode!=null)Ly(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return Ht(t),null}if(e=Ri(rr.current),il(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[tr]=t,r[eo]=s,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<ga.length;i++)rt(ga[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Um(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":Wm(r,s),rt("invalid",r)}af(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&rl(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&rl(r.textContent,o,e),i=["children",""+o]):Ga.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":$o(r),jm(r,s,!0);break;case"textarea":$o(r),Gm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=su)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ab(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[tr]=t,e[eo]=r,Ry(e,t,!1,!1),t.stateNode=e;e:{switch(a=of(n,r),n){case"dialog":rt("cancel",e),rt("close",e),i=r;break;case"iframe":case"object":case"embed":rt("load",e),i=r;break;case"video":case"audio":for(i=0;i<ga.length;i++)rt(ga[i],e);i=r;break;case"source":rt("error",e),i=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),i=r;break;case"details":rt("toggle",e),i=r;break;case"input":Um(e,r),i=ef(e,r),rt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),rt("invalid",e);break;case"textarea":Wm(e,r),i=rf(e,r),rt("invalid",e);break;default:i=r}af(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?ub(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ob(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Va(e,l):typeof l=="number"&&Va(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ga.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rt("scroll",e):l!=null&&Ch(e,s,l,a))}switch(n){case"input":$o(e),jm(e,r,!1);break;case"textarea":$o(e),Gm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ai(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?gs(e,!!r.multiple,s,!1):r.defaultValue!=null&&gs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)Ny(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=Ri(no.current),Ri(rr.current),il(t)){if(r=t.stateNode,n=t.memoizedProps,r[tr]=t,(s=r.nodeValue!==n)&&(e=bn,e!==null))switch(e.tag){case 3:rl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=t,t.stateNode=r}return Ht(t),null;case 13:if(it(lt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&gn!==null&&t.mode&1&&!(t.flags&128))Kb(),Ss(),t.flags|=98560,s=!1;else if(s=il(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[tr]=t}else Ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),s=!1}else Un!==null&&(Uf(Un),Un=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?At===0&&(At=3):lp())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return Is(),Pf(e,t),e===null&&Ja(t.stateNode.containerInfo),Ht(t),null;case 10:return Vh(t.type._context),Ht(t),null;case 17:return on(t.type)&&au(),Ht(t),null;case 19:if(it(lt),s=t.memoizedState,s===null)return Ht(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)na(s,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=hu(e),a!==null){for(t.flags|=128,na(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nt(lt,lt.current&1|2),t.child}e=e.sibling}s.tail!==null&&_t()>Ls&&(t.flags|=128,r=!0,na(s,!1),t.lanes=4194304)}else{if(!r)if(e=hu(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),na(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ot)return Ht(t),null}else 2*_t()-s.renderingStartTime>Ls&&n!==1073741824&&(t.flags|=128,r=!0,na(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=_t(),t.sibling=null,n=lt.current,nt(lt,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return op(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pn&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function bA(e,t){switch(Uh(t),t.tag){case 1:return on(t.type)&&au(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Is(),it(an),it(jt),Kh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $h(t),null;case 13:if(it(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(lt),null;case 4:return Is(),null;case 10:return Vh(t.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var ol=!1,zt=!1,yA=typeof WeakSet=="function"?WeakSet:Set,de=null;function ds(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(e,t,r)}else n.current=null}function Of(e,t,n){try{n()}catch(r){pt(e,t,r)}}var Pg=!1;function EA(e,t){if(_f=nu,e=Fb(),Hh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===e)break t;if(p===n&&++u===i&&(o=a),p===s&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bf={focusedElem:e,selectionRange:n},nu=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,_=t.stateNode,E=_.getSnapshotBeforeUpdate(t.elementType===t.type?y:Hn(t.type,y),w);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(P){pt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return g=Pg,Pg=!1,g}function Ia(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Of(t,n,s)}i=i.next}while(i!==r)}}function Zu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Df(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Py(e){var t=e.alternate;t!==null&&(e.alternate=null,Py(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tr],delete t[eo],delete t[xf],delete t[nA],delete t[rA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oy(e){return e.tag===5||e.tag===3||e.tag===4}function Og(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=su));else if(r!==4&&(e=e.child,e!==null))for(Mf(e,t,n),e=e.sibling;e!==null;)Mf(e,t,n),e=e.sibling}function Ff(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ff(e,t,n),e=e.sibling;e!==null;)Ff(e,t,n),e=e.sibling}var Pt=null,zn=!1;function Pr(e,t,n){for(n=n.child;n!==null;)Dy(e,t,n),n=n.sibling}function Dy(e,t,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Vu,n)}catch{}switch(n.tag){case 5:zt||ds(n,t);case 6:var r=Pt,i=zn;Pt=null,Pr(e,t,n),Pt=r,zn=i,Pt!==null&&(zn?(e=Pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(zn?(e=Pt,n=n.stateNode,e.nodeType===8?od(e.parentNode,n):e.nodeType===1&&od(e,n),$a(e)):od(Pt,n.stateNode));break;case 4:r=Pt,i=zn,Pt=n.stateNode.containerInfo,zn=!0,Pr(e,t,n),Pt=r,zn=i;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Of(n,t,a),i=i.next}while(i!==r)}Pr(e,t,n);break;case 1:if(!zt&&(ds(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){pt(n,t,o)}Pr(e,t,n);break;case 21:Pr(e,t,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,Pr(e,t,n),zt=r):Pr(e,t,n);break;default:Pr(e,t,n)}}function Dg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yA),t.forEach(function(r){var i=IA.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Pt=o.stateNode,zn=!1;break e;case 3:Pt=o.stateNode.containerInfo,zn=!0;break e;case 4:Pt=o.stateNode.containerInfo,zn=!0;break e}o=o.return}if(Pt===null)throw Error(Z(160));Dy(s,a,i),Pt=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)My(t,e),t=t.sibling}function My(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bn(t,e),Qn(e),r&4){try{Ia(3,e,e.return),Zu(3,e)}catch(y){pt(e,e.return,y)}try{Ia(5,e,e.return)}catch(y){pt(e,e.return,y)}}break;case 1:Bn(t,e),Qn(e),r&512&&n!==null&&ds(n,n.return);break;case 5:if(Bn(t,e),Qn(e),r&512&&n!==null&&ds(n,n.return),e.flags&32){var i=e.stateNode;try{Va(i,"")}catch(y){pt(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&ib(i,s),of(o,a);var u=of(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?ub(i,d):c==="dangerouslySetInnerHTML"?ob(i,d):c==="children"?Va(i,d):Ch(i,c,d,u)}switch(o){case"input":tf(i,s);break;case"textarea":sb(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?gs(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?gs(i,!!s.multiple,s.defaultValue,!0):gs(i,!!s.multiple,s.multiple?[]:"",!1))}i[eo]=s}catch(y){pt(e,e.return,y)}}break;case 6:if(Bn(t,e),Qn(e),r&4){if(e.stateNode===null)throw Error(Z(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){pt(e,e.return,y)}}break;case 3:if(Bn(t,e),Qn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$a(t.containerInfo)}catch(y){pt(e,e.return,y)}break;case 4:Bn(t,e),Qn(e);break;case 13:Bn(t,e),Qn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sp=_t())),r&4&&Dg(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(zt=(u=zt)||c,Bn(t,e),zt=u):Bn(t,e),Qn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(de=e,c=e.child;c!==null;){for(d=de=c;de!==null;){switch(p=de,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ia(4,p,p.return);break;case 1:ds(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){pt(r,n,y)}}break;case 5:ds(p,p.return);break;case 22:if(p.memoizedState!==null){Fg(d);continue}}m!==null?(m.return=p,de=m):Fg(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=lb("display",a))}catch(y){pt(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){pt(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bn(t,e),Qn(e),r&4&&Dg(e);break;case 21:break;default:Bn(t,e),Qn(e)}}function Qn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Oy(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Va(i,""),r.flags&=-33);var s=Og(e);Ff(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Og(e);Mf(e,o,a);break;default:throw Error(Z(161))}}catch(l){pt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xA(e,t,n){de=e,Fy(e)}function Fy(e,t,n){for(var r=(e.mode&1)!==0;de!==null;){var i=de,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ol;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||zt;o=ol;var u=zt;if(ol=a,(zt=l)&&!u)for(de=i;de!==null;)a=de,l=a.child,a.tag===22&&a.memoizedState!==null?Bg(i):l!==null?(l.return=a,de=l):Bg(i);for(;s!==null;)de=s,Fy(s),s=s.sibling;de=i,ol=o,zt=u}Mg(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,de=s):Mg(e)}}function Mg(e){for(;de!==null;){var t=de;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zt||Zu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!zt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Hn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Eg(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Eg(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&$a(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}zt||t.flags&512&&Df(t)}catch(p){pt(t,t.return,p)}}if(t===e){de=null;break}if(n=t.sibling,n!==null){n.return=t.return,de=n;break}de=t.return}}function Fg(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var n=t.sibling;if(n!==null){n.return=t.return,de=n;break}de=t.return}}function Bg(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zu(4,t)}catch(l){pt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){pt(t,i,l)}}var s=t.return;try{Df(t)}catch(l){pt(t,s,l)}break;case 5:var a=t.return;try{Df(t)}catch(l){pt(t,a,l)}}}catch(l){pt(t,t.return,l)}if(t===e){de=null;break}var o=t.sibling;if(o!==null){o.return=t.return,de=o;break}de=t.return}}var TA=Math.ceil,gu=Cr.ReactCurrentDispatcher,rp=Cr.ReactCurrentOwner,Pn=Cr.ReactCurrentBatchConfig,qe=0,Lt=null,Tt=null,Dt=0,pn=0,fs=di(0),At=0,ao=null,Hi=0,ec=0,ip=0,Ra=null,nn=null,sp=0,Ls=1/0,fr=null,_u=!1,Bf=null,ti=null,ll=!1,Wr=null,bu=0,La=0,Hf=null,zl=-1,Ul=0;function $t(){return qe&6?_t():zl!==-1?zl:zl=_t()}function ni(e){return e.mode&1?qe&2&&Dt!==0?Dt&-Dt:sA.transition!==null?(Ul===0&&(Ul=xb()),Ul):(e=Xe,e!==0||(e=window.event,e=e===void 0?16:kb(e.type)),e):1}function Wn(e,t,n,r){if(50<La)throw La=0,Hf=null,Error(Z(185));yo(e,n,r),(!(qe&2)||e!==Lt)&&(e===Lt&&(!(qe&2)&&(ec|=n),At===4&&Ur(e,Dt)),ln(e,r),n===1&&qe===0&&!(t.mode&1)&&(Ls=_t()+500,Ku&&fi()))}function ln(e,t){var n=e.callbackNode;sv(e,t);var r=tu(e,e===Lt?Dt:0);if(r===0)n!==null&&qm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qm(n),t===1)e.tag===0?iA(Hg.bind(null,e)):qb(Hg.bind(null,e)),eA(function(){!(qe&6)&&fi()}),n=null;else{switch(Tb(r)){case 1:n=Lh;break;case 4:n=yb;break;case 16:n=eu;break;case 536870912:n=Eb;break;default:n=eu}n=Vy(n,By.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function By(e,t){if(zl=-1,Ul=0,qe&6)throw Error(Z(327));var n=e.callbackNode;if(xs()&&e.callbackNode!==n)return null;var r=tu(e,e===Lt?Dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yu(e,r);else{t=r;var i=qe;qe|=2;var s=zy();(Lt!==e||Dt!==t)&&(fr=null,Ls=_t()+500,Ni(e,t));do try{AA();break}catch(o){Hy(e,o)}while(1);Gh(),gu.current=s,qe=i,Tt!==null?t=0:(Lt=null,Dt=0,t=At)}if(t!==0){if(t===2&&(i=ff(e),i!==0&&(r=i,t=zf(e,i))),t===1)throw n=ao,Ni(e,0),Ur(e,r),ln(e,_t()),n;if(t===6)Ur(e,r);else{if(i=e.current.alternate,!(r&30)&&!wA(i)&&(t=yu(e,r),t===2&&(s=ff(e),s!==0&&(r=s,t=zf(e,s))),t===1))throw n=ao,Ni(e,0),Ur(e,r),ln(e,_t()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:vi(e,nn,fr);break;case 3:if(Ur(e,r),(r&130023424)===r&&(t=sp+500-_t(),10<t)){if(tu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$t(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ef(vi.bind(null,e,nn,fr),t);break}vi(e,nn,fr);break;case 4:if(Ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-jn(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TA(r/1960))-r,10<r){e.timeoutHandle=Ef(vi.bind(null,e,nn,fr),r);break}vi(e,nn,fr);break;case 5:vi(e,nn,fr);break;default:throw Error(Z(329))}}}return ln(e,_t()),e.callbackNode===n?By.bind(null,e):null}function zf(e,t){var n=Ra;return e.current.memoizedState.isDehydrated&&(Ni(e,t).flags|=256),e=yu(e,t),e!==2&&(t=nn,nn=n,t!==null&&Uf(t)),e}function Uf(e){nn===null?nn=e:nn.push.apply(nn,e)}function wA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ur(e,t){for(t&=~ip,t&=~ec,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jn(t),r=1<<n;e[n]=-1,t&=~r}}function Hg(e){if(qe&6)throw Error(Z(327));xs();var t=tu(e,0);if(!(t&1))return ln(e,_t()),null;var n=yu(e,t);if(e.tag!==0&&n===2){var r=ff(e);r!==0&&(t=r,n=zf(e,r))}if(n===1)throw n=ao,Ni(e,0),Ur(e,t),ln(e,_t()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vi(e,nn,fr),ln(e,_t()),null}function ap(e,t){var n=qe;qe|=1;try{return e(t)}finally{qe=n,qe===0&&(Ls=_t()+500,Ku&&fi())}}function zi(e){Wr!==null&&Wr.tag===0&&!(qe&6)&&xs();var t=qe;qe|=1;var n=Pn.transition,r=Xe;try{if(Pn.transition=null,Xe=1,e)return e()}finally{Xe=r,Pn.transition=n,qe=t,!(qe&6)&&fi()}}function op(){pn=fs.current,it(fs)}function Ni(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zv(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(Uh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&au();break;case 3:Is(),it(an),it(jt),Kh();break;case 5:$h(r);break;case 4:Is();break;case 13:it(lt);break;case 19:it(lt);break;case 10:Vh(r.type._context);break;case 22:case 23:op()}n=n.return}if(Lt=e,Tt=e=ri(e.current,null),Dt=pn=t,At=0,ao=null,ip=ec=Hi=0,nn=Ra=null,Ii!==null){for(t=0;t<Ii.length;t++)if(n=Ii[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ii=null}return e}function Hy(e,t){do{var n=Tt;try{if(Gh(),Fl.current=mu,pu){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pu=!1}if(Bi=0,It=vt=dt=null,ka=!1,ro=0,rp.current=null,n===null||n.return===null){At=1,ao=t,Tt=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Dt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Cg(a);if(m!==null){m.flags&=-257,Sg(m,a,o,s,t),m.mode&1&&Ag(s,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){Ag(s,u,t),lp();break e}l=Error(Z(426))}}else if(ot&&o.mode&1){var w=Cg(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Sg(w,a,o,s,t),jh(Rs(l,o));break e}}s=l=Rs(l,o),At!==4&&(At=2),Ra===null?Ra=[s]:Ra.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=Ty(s,l,t);yg(s,_);break e;case 1:o=l;var E=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ti===null||!ti.has(T)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=wy(s,o,t);yg(s,P);break e}}s=s.return}while(s!==null)}jy(n)}catch(O){t=O,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(1)}function zy(){var e=gu.current;return gu.current=mu,e===null?mu:e}function lp(){(At===0||At===3||At===2)&&(At=4),Lt===null||!(Hi&268435455)&&!(ec&268435455)||Ur(Lt,Dt)}function yu(e,t){var n=qe;qe|=2;var r=zy();(Lt!==e||Dt!==t)&&(fr=null,Ni(e,t));do try{vA();break}catch(i){Hy(e,i)}while(1);if(Gh(),qe=n,gu.current=r,Tt!==null)throw Error(Z(261));return Lt=null,Dt=0,At}function vA(){for(;Tt!==null;)Uy(Tt)}function AA(){for(;Tt!==null&&!Kw();)Uy(Tt)}function Uy(e){var t=Gy(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?jy(e):Tt=t,rp.current=null}function jy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bA(n,t),n!==null){n.flags&=32767,Tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,Tt=null;return}}else if(n=_A(n,t,pn),n!==null){Tt=n;return}if(t=t.sibling,t!==null){Tt=t;return}Tt=t=e}while(t!==null);At===0&&(At=5)}function vi(e,t,n){var r=Xe,i=Pn.transition;try{Pn.transition=null,Xe=1,CA(e,t,n,r)}finally{Pn.transition=i,Xe=r}return null}function CA(e,t,n,r){do xs();while(Wr!==null);if(qe&6)throw Error(Z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(av(e,s),e===Lt&&(Tt=Lt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ll||(ll=!0,Vy(eu,function(){return xs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pn.transition,Pn.transition=null;var a=Xe;Xe=1;var o=qe;qe|=4,rp.current=null,EA(e,n),My(n,e),Yv(bf),nu=!!_f,bf=_f=null,e.current=n,xA(n),Xw(),qe=o,Xe=a,Pn.transition=s}else e.current=n;if(ll&&(ll=!1,Wr=e,bu=i),s=e.pendingLanes,s===0&&(ti=null),ev(n.stateNode),ln(e,_t()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_u)throw _u=!1,e=Bf,Bf=null,e;return bu&1&&e.tag!==0&&xs(),s=e.pendingLanes,s&1?e===Hf?La++:(La=0,Hf=e):La=0,fi(),null}function xs(){if(Wr!==null){var e=Tb(bu),t=Pn.transition,n=Xe;try{if(Pn.transition=null,Xe=16>e?16:e,Wr===null)var r=!1;else{if(e=Wr,Wr=null,bu=0,qe&6)throw Error(Z(331));var i=qe;for(qe|=4,de=e.current;de!==null;){var s=de,a=s.child;if(de.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(de=u;de!==null;){var c=de;switch(c.tag){case 0:case 11:case 15:Ia(8,c,s)}var d=c.child;if(d!==null)d.return=c,de=d;else for(;de!==null;){c=de;var p=c.sibling,m=c.return;if(Py(c),c===u){de=null;break}if(p!==null){p.return=m,de=p;break}de=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}de=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,de=a;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ia(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,de=_;break e}de=s.return}}var E=e.current;for(de=E;de!==null;){a=de;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,de=T;else e:for(a=E;de!==null;){if(o=de,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Zu(9,o)}}catch(O){pt(o,o.return,O)}if(o===a){de=null;break e}var P=o.sibling;if(P!==null){P.return=o.return,de=P;break e}de=o.return}}if(qe=i,fi(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Vu,e)}catch{}r=!0}return r}finally{Xe=n,Pn.transition=t}}return!1}function zg(e,t,n){t=Rs(n,t),t=Ty(e,t,1),e=ei(e,t,1),t=$t(),e!==null&&(yo(e,1,t),ln(e,t))}function pt(e,t,n){if(e.tag===3)zg(e,e,n);else for(;t!==null;){if(t.tag===3){zg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){e=Rs(n,e),e=wy(t,e,1),t=ei(t,e,1),e=$t(),t!==null&&(yo(t,1,e),ln(t,e));break}}t=t.return}}function SA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&n,Lt===e&&(Dt&n)===n&&(At===4||At===3&&(Dt&130023424)===Dt&&500>_t()-sp?Ni(e,0):ip|=n),ln(e,t)}function Wy(e,t){t===0&&(e.mode&1?(t=Jo,Jo<<=1,!(Jo&130023424)&&(Jo=4194304)):t=1);var n=$t();e=vr(e,t),e!==null&&(yo(e,t,n),ln(e,n))}function kA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wy(e,n)}function IA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),Wy(e,n)}var Gy;Gy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||an.current)sn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return sn=!1,gA(e,t,n);sn=!!(e.flags&131072)}else sn=!1,ot&&t.flags&1048576&&Qb(t,uu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hl(e,t),e=t.pendingProps;var i=Cs(t,jt.current);Es(t,n),i=Jh(null,t,r,e,i,n);var s=Zh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(r)?(s=!0,ou(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qh(t),i.updater=Ju,t.stateNode=i,i._reactInternals=t,Sf(t,r,e,n),t=Rf(null,t,r,!0,s,n)):(t.tag=0,ot&&s&&zh(t),qt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=LA(r),e=Hn(r,e),i){case 0:t=If(null,t,r,e,n);break e;case 1:t=Rg(null,t,r,e,n);break e;case 11:t=kg(null,t,r,e,n);break e;case 14:t=Ig(null,t,r,Hn(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),If(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),Rg(e,t,r,i,n);case 3:e:{if(Sy(t),e===null)throw Error(Z(387));r=t.pendingProps,s=t.memoizedState,i=s.element,ey(e,t),fu(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Rs(Error(Z(423)),t),t=Lg(e,t,r,n,i);break e}else if(r!==i){i=Rs(Error(Z(424)),t),t=Lg(e,t,r,n,i);break e}else for(gn=Zr(t.stateNode.containerInfo.firstChild),bn=t,ot=!0,Un=null,n=Jb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ss(),r===i){t=Ar(e,t,n);break e}qt(e,t,r,n)}t=t.child}return t;case 5:return ty(t),e===null&&vf(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,yf(r,i)?a=null:s!==null&&yf(r,s)&&(t.flags|=32),Cy(e,t),qt(e,t,a,n),t.child;case 6:return e===null&&vf(t),null;case 13:return ky(e,t,n);case 4:return Qh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ks(t,null,r,n):qt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),kg(e,t,r,i,n);case 7:return qt(e,t,t.pendingProps,n),t.child;case 8:return qt(e,t,t.pendingProps.children,n),t.child;case 12:return qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,nt(cu,r._currentValue),r._currentValue=a,s!==null)if(Vn(s.value,a)){if(s.children===i.children&&!an.current){t=Ar(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Af(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Z(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Af(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}qt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Es(t,n),i=On(i),r=r(i),t.flags|=1,qt(e,t,r,n),t.child;case 14:return r=t.type,i=Hn(r,t.pendingProps),i=Hn(r.type,i),Ig(e,t,r,i,n);case 15:return vy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),Hl(e,t),t.tag=1,on(r)?(e=!0,ou(t)):e=!1,Es(t,n),xy(t,r,i),Sf(t,r,i,n),Rf(null,t,r,!0,e,n);case 19:return Iy(e,t,n);case 22:return Ay(e,t,n)}throw Error(Z(156,t.tag))};function Vy(e,t){return bb(e,t)}function RA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,t,n,r){return new RA(e,t,n,r)}function up(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LA(e){if(typeof e=="function")return up(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kh)return 11;if(e===Ih)return 14}return 2}function ri(e,t){var n=e.alternate;return n===null?(n=Nn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jl(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")up(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ns:return Pi(n.children,i,s,t);case Sh:a=8,i|=8;break;case Kd:return e=Nn(12,n,t,i|2),e.elementType=Kd,e.lanes=s,e;case Xd:return e=Nn(13,n,t,i),e.elementType=Xd,e.lanes=s,e;case Jd:return e=Nn(19,n,t,i),e.elementType=Jd,e.lanes=s,e;case tb:return tc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z_:a=10;break e;case eb:a=9;break e;case kh:a=11;break e;case Ih:a=14;break e;case Br:a=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Nn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Pi(e,t,n,r){return e=Nn(7,e,r,t),e.lanes=n,e}function tc(e,t,n,r){return e=Nn(22,e,r,t),e.elementType=tb,e.lanes=n,e.stateNode={isHidden:!1},e}function md(e,t,n){return e=Nn(6,e,null,t),e.lanes=n,e}function gd(e,t,n){return t=Nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NA(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kc(0),this.expirationTimes=Kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cp(e,t,n,r,i,s,a,o,l){return e=new NA(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Nn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qh(s),e}function PA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ts,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yy(e){if(!e)return oi;e=e._reactInternals;e:{if(Gi(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(on(n))return Yb(e,n,t)}return t}function qy(e,t,n,r,i,s,a,o,l){return e=cp(n,r,!0,e,i,s,a,o,l),e.context=Yy(null),n=e.current,r=$t(),i=ni(n),s=xr(r,i),s.callback=t??null,ei(n,s,i),e.current.lanes=i,yo(e,i,r),ln(e,r),e}function nc(e,t,n,r){var i=t.current,s=$t(),a=ni(i);return n=Yy(n),t.context===null?t.context=n:t.pendingContext=n,t=xr(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ei(i,t,a),e!==null&&(Wn(e,i,a,s),Ml(e,i,a)),a}function Eu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ug(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dp(e,t){Ug(e,t),(e=e.alternate)&&Ug(e,t)}function OA(){return null}var Qy=typeof reportError=="function"?reportError:function(e){console.error(e)};function fp(e){this._internalRoot=e}rc.prototype.render=fp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));nc(e,t,null,null)};rc.prototype.unmount=fp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zi(function(){nc(null,e,null,null)}),t[wr]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ab();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zr.length&&t!==0&&t<zr[n].priority;n++);zr.splice(n,0,e),n===0&&Sb(e)}};function hp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jg(){}function DA(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Eu(a);s.call(u)}}var a=qy(t,r,e,0,null,!1,!1,"",jg);return e._reactRootContainer=a,e[wr]=a.current,Ja(e.nodeType===8?e.parentNode:e),zi(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Eu(l);o.call(u)}}var l=cp(e,0,!1,null,null,!1,!1,"",jg);return e._reactRootContainer=l,e[wr]=l.current,Ja(e.nodeType===8?e.parentNode:e),zi(function(){nc(t,l,n,r)}),l}function sc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Eu(a);o.call(l)}}nc(t,a,e,i)}else a=DA(n,t,e,i,r);return Eu(a)}wb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ma(t.pendingLanes);n!==0&&(Nh(t,n|1),ln(t,_t()),!(qe&6)&&(Ls=_t()+500,fi()))}break;case 13:zi(function(){var r=vr(e,1);if(r!==null){var i=$t();Wn(r,e,1,i)}}),dp(e,1)}};Ph=function(e){if(e.tag===13){var t=vr(e,134217728);if(t!==null){var n=$t();Wn(t,e,134217728,n)}dp(e,134217728)}};vb=function(e){if(e.tag===13){var t=ni(e),n=vr(e,t);if(n!==null){var r=$t();Wn(n,e,t,r)}dp(e,t)}};Ab=function(){return Xe};Cb=function(e,t){var n=Xe;try{return Xe=e,t()}finally{Xe=n}};uf=function(e,t,n){switch(t){case"input":if(tf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$u(r);if(!i)throw Error(Z(90));rb(r),tf(r,i)}}}break;case"textarea":sb(e,n);break;case"select":t=n.value,t!=null&&gs(e,!!n.multiple,t,!1)}};fb=ap;hb=zi;var MA={usingClientEntryPoint:!1,Events:[xo,as,$u,cb,db,ap]},ra={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FA={bundleType:ra.bundleType,version:ra.version,rendererPackageName:ra.rendererPackageName,rendererConfig:ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gb(e),e===null?null:e.stateNode},findFiberByHostInstance:ra.findFiberByHostInstance||OA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Vu=ul.inject(FA),nr=ul}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MA;Tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hp(t))throw Error(Z(200));return PA(e,t,null,n)};Tn.createRoot=function(e,t){if(!hp(e))throw Error(Z(299));var n=!1,r="",i=Qy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cp(e,1,!1,null,null,n,!1,r,i),e[wr]=t.current,Ja(e.nodeType===8?e.parentNode:e),new fp(t)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=gb(t),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return zi(e)};Tn.hydrate=function(e,t,n){if(!ic(t))throw Error(Z(200));return sc(null,e,t,!0,n)};Tn.hydrateRoot=function(e,t,n){if(!hp(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Qy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=qy(t,null,e,1,n??null,i,!1,s,a),e[wr]=t.current,Ja(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new rc(t)};Tn.render=function(e,t,n){if(!ic(t))throw Error(Z(200));return sc(null,e,t,!1,n)};Tn.unmountComponentAtNode=function(e){if(!ic(e))throw Error(Z(40));return e._reactRootContainer?(zi(function(){sc(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};Tn.unstable_batchedUpdates=ap;Tn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return sc(e,t,n,!1,r)};Tn.version="18.3.1-next-f1338f8080-20240426";function $y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($y)}catch(e){console.error(e)}}$y(),$_.exports=Tn;var BA=$_.exports,Wg=BA;Qd.createRoot=Wg.createRoot,Qd.hydrateRoot=Wg.hydrateRoot;const HA=G.createContext({currentTheme:"light",changeCurrentTheme:()=>{}});function zA({children:e}){const t=localStorage.getItem("theme"),[n,r]=G.useState(t||"light"),i=s=>{r(s),localStorage.setItem("theme",s)};return G.useEffect(()=>{document.documentElement.classList.add("[&_*]:!transition-none"),n==="light"?(document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light"):(document.documentElement.classList.add("dark"),document.documentElement.style.colorScheme="dark");const s=setTimeout(()=>{document.documentElement.classList.remove("[&_*]:!transition-none")},1);return()=>clearTimeout(s)},[n]),C.jsx(HA.Provider,{value:{currentTheme:n,changeCurrentTheme:i},children:e})}const UA=`from .base import Metric, MetricWithLLM, add_attribute\r
\r
# Metrics about the answer correctness\r
from .answer_correctness._answer_accuracy import AnswerAccuracy\r
from .answer_correctness._answer_bleu import AnswerBleuScore\r
from .answer_correctness._answer_chrf import AnswerCHRFCorrectness\r
from .answer_correctness._answer_exact_match import AnswerEMCorrectness\r
from .answer_correctness._answer_f1 import AnswerF1Correctness\r
from .answer_correctness._answer_rouge_correctness import AnswerRougeCorrectness\r
from .answer_correctness._answer_bert_score import AnswerBERTScore\r
from .answer_correctness._answer_edit_distance import AnswerEditDistance\r
from .answer_correctness._answer_claim_recall import AnswerNLICorrectness\r
from .answer_correctness._answer_disambig_f1 import AnswerDisambigF1Correctness\r
from .answer_correctness._answer_lcs_ratio import AnswerLCSRatio\r
from .answer_correctness._answer_ter import AnswerTERCorrectness\r
##from .answer_correctness._answer_relevancy import AnswerRelevancy\r
\r
# Metrics about the answer groundedness\r
from .answer_groundedness._answer_citation_precision import AnswerCitationPrecision\r
from .answer_groundedness._answer_citation_recall import AnswerCitationRecall\r
from .answer_groundedness._context_reject_rate import ContextRejectRate\r
##from .answer_groundedness._claim_faithfulness import ClaimFaithfulness\r
\r
# Metrics about the answer informativeness\r
##from .answer_informative._claim_num import ClaimNum\r
from .answer_informativeness._text_length import TextLength\r
##from .answer_informativeness._repetitiveness import Repetitiveness\r
##from .answer_informativeness._pairwise_accuracy import PairwiseAccuracy\r
from .answer_informativeness._answer_distinct12 import AnswerDistinct\r
\r
# Metrics about the context relevancy\r
\r
# Metrics about the context aduquacy\r
from .context_adequacy._context_recall import ContextRecall\r
`,jA=`from dataclasses import dataclass\r
from typing import List\r
import evaluate\r
\r
import datasets\r
\r
from rageval.metrics import Metric, add_attribute\r
\r
\r
_DESCRIPTION = """\\\r
The AnswerAccuracy is to measure the correctness of answers.\r
\r
This metric is applicable in scenarios where the LLM is required to output a unique short answer, such as options for \\\r
multiple-choice questions or a single entity name.\r
The renowned MMLU dataset utilizes this metric for evaluation. In the evaluation of the MMLU dataset, probabilities \\\r
for each answer are first calculated, and the answer with the highest probability is selected as the predicted result.\r
In our tool, we assume that the prediction result has already been obtained, and only perform the final score \\\r
calculation.\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    batch_size : int, Batch size for openai completion.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _compute_one: Evaluating the correctness of answer.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "A",\r
    ...         "B",\r
    ...         "C"\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         "A",\r
    ...         "C",\r
    ...         "C"\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerAccuracy()\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset["answers"], dataset["gt_answers"], 1)\r
    >>> score\r
    0.6666666666666666\r
    >>> results[0]\r
    True\r
"""\r
\r
_CITATION = """\\\r
@misc{hendrycks2021measuring,\r
      title={Measuring Massive Multitask Language Understanding},\r
      author={Dan Hendrycks and Collin Burns and Steven Basart and Andy Zou and Mantas Mazeika and Dawn Song and Jacob Steinhardt},\r
      year={2021},\r
      eprint={2009.03300},\r
      archivePrefix={arXiv},\r
      primaryClass={cs.CY}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerAccuracy(Metric):\r
    """Estimates the correctness of answers."""\r
\r
    name = "answer_accuracy"\r
\r
    ALIAS = ['answer_accuracy']\r
\r
    def __init__(self):\r
        """\r
        Explicitly initialize AnswerAccuracy.\r
\r
        Ensure all parent classes are initialized.\r
        """\r
        super().__init__()\r
        self.info = evaluate.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "gt_answers": datasets.Value("string")\r
                }\r
            ),\r
            codebase_urls=["https://github.com/hendrycks/test"],\r
            reference_urls=["https://arxiv.org/abs/2009.03300"]\r
        )\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"\r
\r
    def _compute_one(\r
        self,\r
        answer: str,\r
        gt_answer: str\r
    ) -> float:\r
        """Evaluating the correctness of answer."""\r
        return answer == gt_answer\r
`,WA=`from dataclasses import dataclass\r
from typing import List, Tuple\r
import evaluate\r
\r
import datasets\r
from rageval.metrics import Metric, add_attribute\r
from bert_score import BERTScorer\r
import logging\r
import transformers\r
transformers.tokenization_utils.logger.setLevel(logging.ERROR)\r
transformers.configuration_utils.logger.setLevel(logging.ERROR)\r
transformers.modeling_utils.logger.setLevel(logging.ERROR)\r
\r
_DESCRIPTION = """\\\r
BERTScore leverages the pre-trained contextual embeddings from BERT and matches words in candidate and reference sentences by cosine similarity. It has been shown to correlate with human judgment on sentence-level and system-level evaluation. Moreover, BERTScore computes precision, recall, and F1 measure, which can be useful for evaluating different language generation tasks.\r
\r
For details, see the paper: https://openreview.net/forum?id=SkeHuCVFDr\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    lang : str, Language of the text. Default is "en".\r
    rescale_with_baseline : bool, Whether to rescale the score with pre-computed baseline. Not affect BERTScore's correlation with human judgment. Default is False. For more details, see https://github.com/Tiiiger/bert_score/blob/master/journal/rescale_baseline.md\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _clean: clean special word in sentence.\r
    _compute_one: compute bleu score for single prediction with its references\r
    _compute_batch: compute bleu score for a batch of predictions with their references\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "It is a guide to action which ensures that the military always obeys the commands of the party.",\r
    ...         "It is to insure the troops forever hearing the activity guidebook that party direct.",\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         [\r
    ...             "It is a guide to action that ensures that the military will forever heed Party commands.",\r
    ...             "It is the guiding principle which guarantees the military forces always being under the command of the Party.",\r
    ...             "It is the practical guide for the army always to heed the directions of the party.",\r
    ...         ],\r
    ...         [\r
    ...             "It is a guide to action that ensures that the military will forever heed Party commands.",\r
    ...             "It is the guiding principle which guarantees the military forces always being under the command of the Party.",\r
    ...             "It is the practical guide for the army always to heed the directions of the party.",\r
    ...         ]\r
    ...     ],\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerBERTScore(lang='en', rescale_with_baseline=True)\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset["answers"], dataset["gt_answers"], 1)\r
    >>> round(score, 2)\r
    0.55\r
    >>> round(results[0], 1)\r
    0.7\r
"""\r
\r
\r
_CITATION = """\\\r
@inproceedings{bert-score,\r
    title={BERTScore: Evaluating Text Generation with BERT},\r
    author={Tianyi Zhang* and Varsha Kishore* and Felix Wu* and Kilian Q. Weinberger and Yoav Artzi},\r
    booktitle={International Conference on Learning Representations},\r
    year={2020},\r
    url={https://openreview.net/forum?id=SkeHuCVFDr}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerBERTScore(Metric):\r
    """BERTScore depends on the model and language pair selected."""\r
\r
    name = "answer_bert_score"\r
\r
    ALIAS = ['answer_bert_score']\r
\r
    def __init__(self, lang: str = "en", rescale_with_baseline=False):\r
        """Explicitly initialize the AnswerBERTScore to ensure all parent class initialized."""\r
        super().__init__()\r
        self.scorer = BERTScorer(lang=lang, rescale_with_baseline=rescale_with_baseline)\r
        self.info = evaluate.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "gt_answers": datasets.Sequence(datasets.Value("string"))\r
                }\r
            ),\r
            codebase_urls=[\r
                "https://github.com/Tiiiger/bert_score/tree/master",\r
            ],\r
            reference_urls=["https://openreview.net/forum?id=SkeHuCVFDr"]\r
        )\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"\r
\r
    def _compute_one(\r
        self,\r
        pred_answers: str,\r
        ref_answers: List[str]\r
    ) -> float:\r
        """Compute the BERTscore for a pair of predictions and references."""\r
        P, R, F1 = self.scorer.score([pred_answers] * len(ref_answers), ref_answers)\r
        return F1.max().tolist()\r
`,GA=`import re\r
from dataclasses import dataclass\r
from typing import List, Tuple\r
import evaluate\r
import datasets\r
from rageval.metrics import Metric, add_attribute\r
from tqdm import tqdm\r
\r
\r
_DESCRIPTION = """\\\r
BLEU (Bilingual Evaluation Understudy) is an algorithm for evaluating the quality of text which has been machine-translated from one natural language to another.\r
Scores are calculated by comparing individual translated segments, e.g., sentences, with a set of high-quality reference translations.\r
Those scores are then averaged over the whole corpus to reach an estimate of the translation's overall quality.\r
Neither intelligibility nor grammatical correctness are not taken into account.\r
\r
For details, see the paper: http://www.aclweb.org/anthology/P02-1040.pdf\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    batch_size : int, Batch size for openai completion.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _clean: clean special word in sentence.\r
    _compute_one: compute bleu score for single prediction with its references\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "It is a guide to action which ensures that the military always obeys the commands of the party.",\r
    ...         "It is to insure the troops forever hearing the activity guidebook that party direct.",\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         [\r
    ...             "It is a guide to action that ensures that the military will forever heed Party commands.",\r
    ...             "It is the guiding principle which guarantees the military forces always being under the command of the Party.",\r
    ...             "It is the practical guide for the army always to heed the directions of the party.",\r
    ...         ],\r
    ...         [\r
    ...             "It is a guide to action that ensures that the military will forever heed Party commands.",\r
    ...             "It is the guiding principle which guarantees the military forces always being under the command of the Party.",\r
    ...             "It is the practical guide for the army always to heed the directions of the party.",\r
    ...         ]\r
    ...     ],\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerBleuScore()\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset["answers"], dataset["gt_answers"], 1)\r
    >>> score\r
    0.3450835085970013\r
    >>> results[0]\r
    0.5401725898595141\r
"""\r
\r
\r
_CITATION = """\\\r
@misc{Kishore2002bleu,\r
      title={Bleu: a method for automatic evaluation of machine translation},\r
      author={Kishore Papineni and Salim Roukos and Todd Ward and Wei-Jing Zhu},\r
      year={2002},\r
      page={311-318},\r
      primaryClass={cs.CL}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerBleuScore(Metric):\r
    """Bleu score computing with good quality reference."""\r
\r
    """Note: this metric is just fit for English data by now(24/03/12)"""\r
\r
    name = "answer_bleu"\r
\r
    ALIAS = ['answer_bleu']\r
\r
    def __init__(self):\r
        """Explicitly initialize the AnswerBleuScore to ensure all parent class initialized."""\r
        super().__init__()\r
        self.info = evaluate.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "gt_answers": datasets.Sequence(datasets.Value("string"))\r
                }\r
            ),\r
            codebase_urls=[\r
                "https://github.com/tensorflow/nmt/blob/master/nmt/scripts/bleu.py",\r
                "https://github.com/huggingface/datasets/blob/main/metrics/bleu/bleu.py"\r
            ],\r
            reference_urls=["https://www.aclweb.org/anthology/P02-1040.pdf"]\r
        )\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"  # pragma: no cover\r
\r
    def compute(\r
        self,\r
        pred_answers: List[str],\r
        ref_answers: List[List[str]],\r
        batch_size: int,\r
    ) -> Tuple[float, List[float]]:\r
        """Compute the bleu score on both corpus level and instance level."""\r
        bleu = evaluate.load("bleu")\r
        # corpus level\r
        bleu_result = bleu.compute(predictions=pred_answers, references=ref_answers)\r
        score = bleu_result['bleu']\r
        # instance level\r
        scores = []\r
        for pred_answer, ref_answer in tqdm(zip(pred_answers, ref_answers),\r
                                            desc=f"Computing {self.name}",\r
                                            total=len(pred_answers)):\r
            scores.append(self._compute_one(pred_answer, ref_answer))\r
        return score, scores\r
\r
    def _compute_one(\r
        self,\r
        pred_answers: List[str],\r
        ref_answers: List[List[str]]\r
    ) -> List[float]:\r
        """Compute the bleu score on an instance level."""\r
\r
        bleu = evaluate.load("bleu")\r
        bleu_result = bleu.compute(predictions=[pred_answers], references=[ref_answers])\r
        bleu_score = bleu_result['bleu']\r
        return bleu_score\r
`,VA=`from dataclasses import dataclass\r
from typing import List, Tuple, Optional\r
import evaluate\r
\r
import datasets\r
from sacrebleu.metrics import CHRF\r
import numpy as np\r
\r
from rageval.metrics import Metric, add_attribute\r
\r
\r
_DESCRIPTION = """\\\r
    ChrF and ChrF++ are two MT evaluation metrics. They both use the F-score statistic for character n-gram matches, and ChrF++ adds word n-grams as well which correlates more strongly with direct assessment.\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    predictions (list of str): The predicted sentences.\r
    references (list of list of str): The references. There should be one reference sub-list for each prediction sentence.\r
    char_order (int): Character n-gram order. Defaults to \`6\`.\r
    word_order (int): Word n-gram order. If equals to \`2\`, the metric is referred to as chrF++. Defaults to \`0\`.\r
    beta (int): Determine the importance of recall w.r.t precision. Defaults to \`2\`.\r
    lowercase (bool): if \`True\`, enables case-insensitivity. Defaults to \`False\`.\r
    whitespace (bool): If \`True\`, include whitespaces when extracting character n-grams.\r
    eps_smoothing (bool): If \`True\`, applies epsilon smoothing similar\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _validate_data: validate the dataset format.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "The relationship between cats and dogs is not exactly friendly.",\r
    ...         "a good bookshop is just a genteel black hole that knows how to read."\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         ["The relationship between dogs and cats is not exactly friendly.", ],\r
    ...         ["A good bookshop is just a genteel Black Hole that knows how to read."]\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerCHRFCorrectness()\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['gt_answers'], 1)\r
    >>> score\r
    84.64214891738334\r
    >>> results[0]\r
    84.41131092011067\r
"""\r
\r
_CITATION = """\\\r
@inproceedings{popovic-2015-chrf,\r
    title = "chr{F}: character n-gram {F}-score for automatic {MT} evaluation",\r
    author = "Popovi{\\'c}, Maja",\r
    booktitle = "Proceedings of the Tenth Workshop on Statistical Machine Translation",\r
    month = sep,\r
    year = "2015",\r
    address = "Lisbon, Portugal",\r
    publisher = "Association for Computational Linguistics",\r
    url = "https://aclanthology.org/W15-3049",\r
    doi = "10.18653/v1/W15-3049",\r
    pages = "392--395",\r
}\r
@inproceedings{popovic-2017-chrf,\r
    title = "chr{F}++: words helping character n-grams",\r
    author = "Popovi{\\'c}, Maja",\r
    booktitle = "Proceedings of the Second Conference on Machine Translation",\r
    month = sep,\r
    year = "2017",\r
    address = "Copenhagen, Denmark",\r
    publisher = "Association for Computational Linguistics",\r
    url = "https://aclanthology.org/W17-4770",\r
    doi = "10.18653/v1/W17-4770",\r
    pages = "612--618",\r
}\r
@inproceedings{post-2018-call,\r
    title = "A Call for Clarity in Reporting {BLEU} Scores",\r
    author = "Post, Matt",\r
    booktitle = "Proceedings of the Third Conference on Machine Translation: Research Papers",\r
    month = oct,\r
    year = "2018",\r
    address = "Belgium, Brussels",\r
    publisher = "Association for Computational Linguistics",\r
    url = "https://www.aclweb.org/anthology/W18-6319",\r
    pages = "186--191",\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerCHRFCorrectness(Metric):\r
    """Estimates the CHRF between answers and ground truth answers."""\r
\r
    name = "answer_chrf"\r
\r
    ALIAS = ['answer_chrf']\r
\r
    def __init__(\r
            self,\r
            char_order: int = 6,\r
            word_order: int = 0,\r
            beta: int = 2,\r
            lowercase: bool = False,\r
            whitespace: bool = False,\r
            eps_smoothing: bool = False\r
    ):\r
        """\r
        Explicitly initialize AnswerCHRFCorrectness.\r
\r
        Ensure all parent classes are initialized.\r
        """\r
        super().__init__()\r
\r
        self.chrf = CHRF(\r
            char_order=char_order,\r
            word_order=word_order,\r
            beta=beta,\r
            lowercase=lowercase,\r
            whitespace=whitespace,\r
            eps_smoothing=eps_smoothing\r
        )\r
        self.info = evaluate.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "gt_answers": datasets.Sequence(datasets.Value("string"))\r
                }\r
            ),\r
            codebase_urls=["https://github.com/mjpost/sacreBLEU#chrf--chrf"],\r
            reference_urls=[\r
                "https://aclanthology.org/W15-3049.pdf",\r
                "https://aclanthology.org/W17-4770",\r
                "https://www.aclweb.org/anthology/W18-6319"\r
            ]\r
        )\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"  # pragma: no cover\r
\r
    def _validate_data(\r
        self,\r
        pred_answers: List[str],\r
        ref_answers: List[List[str]]\r
    ) -> None:\r
        """Validate the input dataset."""\r
        super()._validate_data(pred_answers, ref_answers)\r
        if not all(isinstance(answer, str) for answer in pred_answers):\r
            raise ValueError("The type of pred_answers should be a string.")  # pragma: no cover\r
        if not all(isinstance(a, list) and all(isinstance(item, str) for item in a) for a in ref_answers):\r
            raise ValueError("The type of ref_answers should be a list of strings.")  # pragma: no cover\r
\r
    def _compute_one(\r
        self,\r
        pred_answer: str,\r
        ref_answers: List[str]\r
    ) -> float:\r
        """Compute the metric for a single sentence against a single (or multiple) reference(s)."""\r
        return self.chrf.sentence_score(pred_answer, ref_answers).score\r
\r
    def compute(\r
        self,\r
        pred_answers: List[str],\r
        ref_answers: List[List[str]],\r
        batch_size: Optional[int] = None,\r
    ) -> Tuple[float, List[float]]:\r
        """Corpus score takes into account all the answers as two corpora and returns the F1 score of the corpus, which is not equal to the average of the chrF scores of the individual (pred, refs) pair."""\r
        self._validate_data(pred_answers, ref_answers)\r
        scores = self._compute_batch(pred_answers, ref_answers)\r
        ref_answers = np.array(ref_answers)\r
        ref_answers = ref_answers.T.tolist()\r
        return self.chrf.corpus_score(pred_answers, ref_answers).score, scores\r
`,YA=`from dataclasses import dataclass\r
from typing import List, Callable, Tuple\r
import evaluate\r
\r
import datasets\r
import numpy as np\r
from tqdm import tqdm\r
\r
from rageval.metrics import Metric, add_attribute\r
from rageval.utils.check_utils import text_to_sents\r
\r
_DESCRIPTION = """\\\r
The AnswerNLICorrectness is to measure the correctness of long-form answers. In the original paper, the author first \\\r
use Instruct-GPT(text-davinci-003) to generate three "sub-claims" (based on gold answers) and use a state-of-the-art \\\r
natural-language inference (NLI) model TRUE(Honovich et al., 2022) to check whether the model output entails the \\\r
sub-claims (claim recall).\r
\r
For details, see the paper: https://arxiv.org/abs/2305.14627.\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    batch_size : int, Batch size for openai completion.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _verify_by_stance: verify whether the stance of args:\`claims\` can be supported by args:\`answer\`.\r
    _compute_one: compute the score by measure whether the args:\`claims\` can be supported by args:\`answers\`.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "They went a while before introducing ads, so they could make money, as they needed to  establish "\r
    ...         "their brand and amass users. Once you have dedicated users, introducing ads won't deter most, but if "\r
    ...         "you are still new, having ads will deter a lot. The same goes for Uber, it's not that they aren't "\r
    ...         "making money, it's that they are reinvesting a ton of it to make their service better."\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         [\r
    ...             "Firms like Snapchat and Uber need to establish their brand and amass users before introducing "\r
    ...             "ads.",\r
    ...             "Introducing ads too early can deter potential users.",\r
    ...             "Uber is reinvesting a lot of money to make their service better."\r
    ...         ]\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> nli_model = rl.models.NLIModel(\r
    ...     'text2text-generation',\r
    ...     'hf-internal-testing/tiny-random-T5ForConditionalGeneration'\r
    ... )\r
    >>> metric = rl.metrics.AnswerNLICorrectness(nli_model=nli_model, decompose_model="nltk")\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['gt_answers'], 1)\r
    >>> assert score == 0 or score == 1\r
"""\r
\r
_CITATION = """\\\r
@misc{gao2023enabling,\r
      title={Enabling Large Language Models to Generate Text with Citations},\r
      author={Tianyu Gao and Howard Yen and Jiatong Yu and Danqi Chen},\r
      year={2023},\r
      eprint={2305.14627},\r
      archivePrefix={arXiv},\r
      primaryClass={cs.CL}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerNLICorrectness(Metric):\r
    """Estimates the correctness of long-form answers based on the NLI model."""\r
\r
    name = "answer_claim_recall"\r
\r
    ALIAS = ['answer_claim_recall']\r
\r
    def __init__(self, nli_model: Callable, decompose_model: str = "gpt-3.5-turbo"):\r
        """\r
        Explicitly initialize AnswerNLICorrectness.\r
\r
        Ensure all parent classes are initialized.\r
        Ensure nli_model and decompose_model is initialized.\r
        """\r
        super().__init__()\r
        self.nli_model = nli_model\r
        self.decompose_model = decompose_model\r
        self.info = evaluate.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "gt_answers": datasets.Value("string")\r
                }\r
            ),\r
            codebase_urls=["https://github.com/princeton-nlp/ALCE"],\r
            reference_urls=["https://arxiv.org/abs/2305.14627"]\r
        )\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"  # pragma: no cover\r
\r
    def _compute_one(\r
        self,\r
        answer: str,\r
        claims: List[str]\r
    ) -> float:\r
        """\r
        Evaluate the correctness of an answer.\r
\r
        Firstly, split the gt_answer into a set of claims.\r
        Then, compute the faithfulness score of each claim. The faithfulness is a binary score.\r
        Finally, aggregate all faithfulness score of each claim.\r
        """\r
\r
        detail_results = []\r
        scores = []\r
\r
        for i, claim in enumerate(claims):\r
            # obtain the faithfulness of each claim by language inference model.\r
            label = self.nli_model.generate_infer(premise=answer, hypothesis=claim)\r
            detail_results.append({\r
                "answer": answer,\r
                "claim": claim,\r
                "reasoning": "",\r
                "error": "",\r
                "factuality": label,\r
            })\r
            scores.append(label)\r
        # Note that the detail_results can be recorded by logger.info\r
        return np.average(scores)\r
\r
    def _compute_batch(\r
        self,\r
        pred_answers: List[str],\r
        ref_answers: List[List[str]]\r
    ) -> List[float]:\r
        """\r
        Evaluate the correctness of a batch of answers.\r
\r
        Firstly, split the gt_answer into a set of claims.\r
        Then, compute the faithfulness score of each claim. The faithfulness is a binary score.\r
        Finally, aggregate all faithfulness score of each claim.\r
        """\r
\r
        if isinstance(ref_answers, list):\r
            if isinstance(ref_answers[0], list):\r
                # gt_answers has been decomposed into claims list\r
                claims = ref_answers\r
            elif isinstance(ref_answers[0], str):\r
                # use decompose_model to decompose the gt_answers into claims list\r
                claims = [text_to_sents(gt_answer, self.decompose_model) for gt_answer in ref_answers]\r
            else:\r
                raise ValueError("The type of gt_answers element should be list or string.")  # pragma: no cover\r
        else:\r
            raise ValueError("The type of gt_answers should be list.")  # pragma: no cover\r
\r
        results = []\r
        for i, answer in tqdm(enumerate(pred_answers)):\r
            r = self._compute_one(answer, claims[i])\r
            results.append(r)\r
        return results\r
`,qA=`import re\r
import string\r
from collections import Counter\r
from dataclasses import dataclass\r
from typing import List\r
import evaluate\r
\r
import datasets\r
import numpy as np\r
import spacy\r
\r
from rageval.metrics import Metric, add_attribute\r
\r
_DESCRIPTION = """\\\r
The Disambig-F1 is a variant of the F1 score, estimates the similarity between the disambiguation of the answer and the ground truth answer.\r
\r
The original metric was presented in [ASQA paper](https://aclanthology.org/2022.emnlp-main.566/), and implemented through [this code](https://github.com/google-research/language/blob/master/language/asqa/scoring.py#L273). And we adopted an [alternative implementation](https://github.com/jzbjyb/FLARE/tree/main/src/datasets.py#L29) from the paper [Active Retrieval Augmented Generation](https://arxiv.org/abs/2305.06983).\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    model : str, model name of spacy model to ner.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _normalize_text: normalize the text by removing articles, white spaces, punctuations and lowercasing.\r
    _ner: extract named entities from the text.\r
    _validate_data: validate the dataset format.\r
    _f1_score: compute the f1 score between \`pred\` string and \`ref\` string.\r
    _compute_one: evaluate the disambig f1 score of between \`answer\` and \`gt_answers\`, return the highest score in all pairs.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "Democrat rick kriseman won the 2016 mayoral election, while re- publican former mayor rick baker did so in the 2017 mayoral election."\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         [\r
    ...             "Kriseman",\r
    ...             "Rick Kriseman"\r
    ...         ]\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerDisambigF1Correctness(model="en_core_web_sm")\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['gt_answers'], 1)\r
    >>> assert 0 <= score <= 1\r
"""\r
\r
_CITATION = """\\\r
@inproceedings{stelmakh-etal-2022-asqa,\r
    title = "{ASQA}: Factoid Questions Meet Long-Form Answers",\r
    author = "Stelmakh, Ivan  and\r
      Luan, Yi  and\r
      Dhingra, Bhuwan  and\r
      Chang, Ming-Wei",\r
    editor = "Goldberg, Yoav  and\r
      Kozareva, Zornitsa  and\r
      Zhang, Yue",\r
    booktitle = "Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing",\r
    month = dec,\r
    year = "2022",\r
    address = "Abu Dhabi, United Arab Emirates",\r
    publisher = "Association for Computational Linguistics",\r
    url = "https://aclanthology.org/2022.emnlp-main.566",\r
    doi = "10.18653/v1/2022.emnlp-main.566",\r
    pages = "8273--8288",\r
}\r
@misc{jiang2023active,\r
      title={Active Retrieval Augmented Generation},\r
      author={Zhengbao Jiang and Frank F. Xu and Luyu Gao and Zhiqing Sun and Qian Liu and Jane Dwivedi-Yu and Yiming Yang and Jamie Callan and Graham Neubig},\r
      year={2023},\r
      eprint={2305.06983},\r
      archivePrefix={arXiv},\r
      primaryClass={cs.CL}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerDisambigF1Correctness(Metric):\r
    """Estimates the Disambig-F1 between answers and ground truth answers."""\r
\r
    name = "answer_disambig_f1"\r
\r
    ALIAS = ['answer_disambig_f1']\r
\r
    def __init__(self, model: str = "en_core_web_sm"):\r
        """\r
        Explicitly initialize AnswerDisambigF1Correctness.\r
\r
        Ensure all parent classes are initialized.\r
        Ensure spacy ner model is initialized.\r
        """\r
        super().__init__()\r
        self.model = model\r
        self.nlp = spacy.load(model)\r
        self.info = evaluate.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "gt_answers": datasets.Sequence(datasets.Value("string"))\r
                }\r
            ),\r
            codebase_urls=[\r
                "https://github.com/google-research/language/blob/master/language/asqa",\r
                "https://github.com/jzbjyb/FLARE"\r
            ],\r
            reference_urls=[\r
                "https://aclanthology.org/2022.emnlp-main.566",\r
                "https://arxiv.org/abs/2305.06983"\r
            ]\r
        )\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"  # pragma: no cover\r
\r
    def _normalize_text(self, s: str) -> str:\r
        def remove_articles(text):\r
            return re.sub(r'\\b(a|an|the)\\b', ' ', text)\r
\r
        def white_space_fix(text):\r
            return ' '.join(text.split())\r
\r
        def remove_punc(text):\r
            exclude = set(string.punctuation)\r
            return ''.join(ch for ch in text if ch not in exclude)\r
\r
        def lower(text):\r
            return text.lower()\r
        return white_space_fix(remove_articles(remove_punc(lower(s))))\r
\r
    def _ner(self, s: str) -> List[str]:\r
        """Extract named entities from the text."""\r
        doc = self.nlp(s)\r
        ents = doc.ents\r
        return [self._normalize_text(e.text) for e in ents]\r
\r
    def _f1_score(self, pred: str, ref: str) -> float:\r
        """Compute the f1 score between pred and ref."""\r
        pred_ents = self._ner(pred)\r
        ref_ents = self._ner(ref)\r
\r
        pred_counter = Counter(pred_ents)\r
        ref_counter = Counter(ref_ents)\r
\r
        tp = sum((pred_counter & ref_counter).values())\r
        fp = sum((pred_counter - ref_counter).values())\r
        fn = sum((ref_counter - pred_counter).values())\r
\r
        precision = (tp / (tp + fp)) if (tp + fp) > 0 else 1\r
        recall = (tp / (tp + fn)) if (tp + fn) > 0 else 1\r
\r
        if precision + recall == 0:\r
            return 0\r
        return 2 * (precision * recall) / (precision + recall)\r
\r
    def _compute_one(\r
        self,\r
        pred_answer: str,\r
        ref_answers: List[str]\r
    ) -> float:\r
        """Evaluate the disambig f1 score of an answer."""\r
        return np.max([self._f1_score(pred_answer, ref_answer) for ref_answer in ref_answers])\r
`,QA=`from dataclasses import dataclass\r
from typing import List\r
import datasets\r
\r
from rageval.metrics import Metric, add_attribute\r
\r
_DESCRIPTION = """\\\r
The AnswerEditDistance is to measure the similarity between answer and gt_answer by calculating the edit distance.\r
\r
This is a very traditional method, but to this day, some work is still being carried out using it, such as \\\r
https://ieeexplore.ieee.org/abstract/document/10172590.\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    batch_size : int, Batch size for openai completion.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _compute_one: evaluating the similarity between answer and gt_answer by calculating the edit distance.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "Language models trained on massive code corpora can generalize to tasks without the need "\r
    ...         "for task-specific fine tuning."\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         "Large language models trained on massive code corpora can generalize to new tasks without the need "\r
    ...         "for task-specific fine-tuning."\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerEditDistance()\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['gt_answers'], 1)\r
    >>> assert score == 5 / 18\r
"""\r
\r
_CITATION = """\\\r
@INPROCEEDINGS{10172590,\r
    author={Nashid, Noor and Sintaha, Mifta and Mesbah, Ali},\r
    booktitle={2023 IEEE/ACM 45th International Conference on Software Engineering (ICSE)},\r
    title={Retrieval-Based Prompt Selection for Code-Related Few-Shot Learning},\r
    year={2023},\r
    volume={},\r
    number={},\r
    pages={2450-2462},\r
    doi={10.1109/ICSE48619.2023.00205}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerEditDistance(Metric):\r
    """Estimates the similarity between answers and gt_answers."""\r
\r
    name = "answer_edit_distance"\r
\r
    ALIAS = ['answer_edit_distance']\r
\r
    def __init__(self):\r
        """\r
        Explicitly initialize AnswerEditDistance.\r
\r
        Ensure all parent classes are initialized.\r
        """\r
        super().__init__()\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"\r
\r
    def _info(self):\r
        return datasets.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "gt_answers": datasets.Value("string")\r
                }\r
            ),\r
            codebase_urls=[],\r
            reference_urls=["https://ieeexplore.ieee.org/abstract/document/10172590"]\r
        )\r
\r
    def _compute_one(\r
        self,\r
        pred_answer: str,\r
        ref_answer: str\r
    ) -> float:\r
        """Evaluating the similarity between answer and gt_answer by calculating the edit distance."""\r
        pred_answer = pred_answer.split()\r
        ref_answer = ref_answer.split()\r
        m, n = len(pred_answer), len(ref_answer)\r
\r
        if m == 0 or n == 0:\r
            return 0\r
\r
        dp = [[0] * (n + 1) for _ in range(m + 1)]\r
        for i in range(m + 1):\r
            dp[i][0] = i\r
        for j in range(n + 1):\r
            dp[0][j] = j\r
\r
        for i in range(1, m + 1):\r
            for j in range(1, n + 1):\r
                dp[i][j] = min(dp[i - 1][j] + 1, dp[i][j - 1] + 1)\r
                if pred_answer[i - 1] != ref_answer[j - 1]:\r
                    dp[i][j] = min(dp[i][j], dp[i - 1][j - 1] + 1)\r
                else:\r
                    dp[i][j] = min(dp[i][j], dp[i - 1][j - 1])\r
\r
        return dp[m][n] / m\r
`,$A=`from dataclasses import dataclass\r
from typing import List\r
\r
import datasets\r
import numpy as np\r
\r
from rageval.metrics import Metric, add_attribute\r
\r
\r
_DESCRIPTION = """\\\r
AnswerEMCorrectness evaluates answer correctness based on exact matching of annotated short answers.\r
\r
For details, see the paper: https://arxiv.org/abs/2204.06092.\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    batch_size : int, Batch size for openai completion.\r
    ignore_case : bool, whether to ignore case when comparing the answer and ground truth answers.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _compute_one: compute the score by measure whether the args:\`answer\` contains short answer in list:\`gt_answers\`.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "Ali Dael has the highest goals in men's world international football with 109 goals. Josef Bican has "\r
    ...         "the highest goals all-time in men's football and Christine Sinclair has the highest goals in women's "\r
    ...         "world international football.",\r
    ...         "A supercentenarian is someone who has reached the age of 110. Sarah Knauss, whose age is undisputed, "\r
    ...         "was the oldest person ever from the United States and the second-oldest fully documented person ever. "\r
    ...         "Jeanne Calment was a French supercentenarian and the oldest human whose age is well-documented, with "\r
    ...         "a lifespan of 122 years and 164 days, and was the oldest person in the world as of 1997. In 1985, "\r
    ...         "the oldest living person was Mathew Beard and in 1986 it was Augusta Holtz, who lived 115 years and "\r
    ...         "79 days, from 1871 to 1986."\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         [\r
    ...             ["Daei", "Ali Daei"],\r
    ...             ["Bican", "Josef Bican"],\r
    ...             ["Sinclair","Christine Sinclair"]\r
    ...         ],\r
    ...         [\r
    ...             ["Jeanne Calment"],\r
    ...             ["Sarah Knauss"],\r
    ...             ["Augusta-Holtz"],\r
    ...         ]\r
    ...     ],\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerEMCorrectness()\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['gt_answers'], 1)\r
    >>> assert 0 <= score <= 1\r
"""\r
\r
_CITATION = """\\\r
@misc{stelmakh2023asqa,\r
      title={ASQA: Factoid Questions Meet Long-Form Answers},\r
      author={Ivan Stelmakh and Yi Luan and Bhuwan Dhingra and Ming-Wei Chang},\r
      year={2023},\r
      eprint={2204.06092},\r
      archivePrefix={arXiv},\r
      primaryClass={cs.CL}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerEMCorrectness(Metric):\r
    """Estimates correctness using annotated short answers."""\r
\r
    name = "answer_exact_match"\r
\r
    ALIAS = ['answer_exact_match']\r
\r
    def __init__(self, ignore_case: bool = False):\r
        """Explicitly initialize the AnswerEMCorrectness to ensure all parent class initialized."""\r
        super().__init__()\r
        self.ignore_case = ignore_case\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"\r
\r
    def _info(self):\r
        return datasets.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "gt_answers": datasets.Sequence(datasets.Value("string"))\r
                }\r
            ),\r
            codebase_urls=[],\r
            reference_urls=["https://arxiv.org/abs/2204.06092"]\r
        )\r
\r
    def _compute_one(self, pred_answer: str, short_answers: List[List[str]]) -> float:\r
        """Compute the correctness of a single answer."""\r
        acc = []\r
        if self.ignore_case:\r
            pred_answer = pred_answer.lower()\r
            short_answers = [[a.lower() for a in candidate_short_answers] for candidate_short_answers in short_answers]\r
        for candidate_short_answers in short_answers:\r
            for candidate_short_answer in candidate_short_answers:\r
                if candidate_short_answer in pred_answer:\r
                    acc.append(True)\r
                    break\r
            else:\r
                acc.append(False)\r
        return np.average(acc)\r
`,KA=`import re\r
import string\r
from collections import Counter\r
from dataclasses import dataclass\r
from typing import List, Optional, Iterable, Union\r
\r
import datasets\r
import numpy as np\r
import jieba\r
\r
from rageval.metrics import Metric, add_attribute\r
\r
\r
_DESCRIPTION = """\\\r
    F1 score combines precision and recall into a single score using their harmonic mean.\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    normalize : bool, default is True, whether to normalize the text. If False, the text will be treated as a list of tokens.\r
    language : str, default is 'en', the language of the text. Supported languages are 'en' and 'zh'.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _normalize_text: normalize the text by removing articles, white spaces, punctuations and lowercasing.\r
    _validate_data: validate the dataset format.\r
    _f1_score: compute the f1 score between \`pred\` tokens and \`ref\` tokens.\r
    _compute_one: evaluate the f1 score of between \`answer\` and \`gt_answers\`, return the highest score in all pairs.\r
\r
Examples:\r
    English:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "Democrat rick kriseman won the 2016 mayoral election, while re- publican former mayor rick baker did so in the 2017 mayoral election."\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         [\r
    ...             "Kriseman",\r
    ...             "Rick Kriseman"\r
    ...         ]\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerF1Correctness()\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['gt_answers'])\r
    >>> round(score, 2)\r
    0.18\r
\r
    Chinese:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "",\r
    ...         "",\r
    ...         "",\r
    ...         "",\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         [""],\r
    ...         ["", ""],\r
    ...         ["", ""],\r
    ...         ["", ""]\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerF1Correctness(language='zh')\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['gt_answers'])\r
    >>> round(score, 2)\r
    1.0\r
\r
    Other Iterables:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [[1,2,3], [4,5,6]],\r
    ...     "gt_answers": [[2,3,4,5,6], [1,2,3,4,5]]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerF1Correctness(normalize=False)\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['gt_answers'])\r
    >>> round(score, 2)\r
    0.5\r
\r
"""\r
\r
_CITATION = """\\\r
\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerF1Correctness(Metric):\r
    """Estimates the F1 between answers and ground truth answers."""\r
\r
    name = "answer_f1"\r
\r
    ALIAS = ['answer_f1']\r
\r
    def __init__(self, normalize: bool = True, language: Optional[str] = "en"):\r
        """\r
        Explicitly initialize AnswerF1Correctness.\r
\r
        Ensure all parent classes are initialized.\r
        """\r
        super().__init__()\r
        self.normalize = normalize\r
        self.language = language\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"\r
\r
    def _info(self):\r
        return datasets.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "gt_answers": datasets.Sequence(datasets.Value("string"))\r
                }\r
            ),\r
            codebase_urls=[],\r
            reference_urls=[]\r
        )\r
\r
    def _normalize_text(self, s: str) -> List[str]:\r
        def remove_articles(text):\r
            return re.sub(r'\\b(a|an|the)\\b', ' ', text)\r
\r
        def remove_punc(text):\r
            exclude = set(string.punctuation)\r
            return ''.join(ch for ch in text if ch not in exclude)\r
\r
        def lower(text):\r
            return text.lower()\r
        return remove_articles(remove_punc(lower(s))).split()\r
\r
    def _normalize_text_zh(self, s: str) -> str:\r
        """Normalize Chinese text."""\r
        def white_space_fix(text):\r
            return ' '.join(text.split())\r
\r
        def remove_punc(text):\r
            exclude = set(string.punctuation) | {'', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''}\r
            return ''.join(ch for ch in text if ch not in exclude)\r
\r
        return white_space_fix(remove_punc(s))\r
\r
    def _f1_score(self, pred: Iterable, ref: Iterable) -> float:\r
        """Compute the f1 score between pred and ref."""\r
        pred_counter = Counter(pred)\r
        ref_counter = Counter(ref)\r
\r
        tp = sum((pred_counter & ref_counter).values())\r
        fp = sum((pred_counter - ref_counter).values())\r
        fn = sum((ref_counter - pred_counter).values())\r
\r
        precision = (tp / (tp + fp)) if (tp + fp) > 0 else 1\r
        recall = (tp / (tp + fn)) if (tp + fn) > 0 else 1\r
\r
        if precision + recall == 0:\r
            return 0\r
        return 2 * (precision * recall) / (precision + recall)\r
\r
    def _compute_one(\r
        self,\r
        pred_answer: Union[str, Iterable],\r
        ref_answers: Union[List[str], Iterable]\r
    ) -> float:\r
        """Evaluate the f1 score of an answer."""\r
        if self.normalize:\r
            # str, List[str] -> List[str], List[List[str]]\r
            if self.language == "en":\r
                preds = self._normalize_text(pred_answer)\r
                refs = [self._normalize_text(ref_answer) for ref_answer in ref_answers]\r
            elif self.language == "zh":\r
                preds = list(jieba.cut(self._normalize_text_zh(pred_answer)))\r
                refs = [list(jieba.cut(self._normalize_text_zh(ref_answer))) for ref_answer in ref_answers]\r
            else:\r
                raise Exception('Unsupported language: {}'.format(self.language))  # pragma: no cover\r
            scores = [self._f1_score(preds, ref) for ref in refs]\r
        else:\r
            scores = self._f1_score(pred_answer, ref_answers)\r
\r
        return np.max(scores)\r
`,XA=`from dataclasses import dataclass\r
from typing import List\r
import datasets\r
\r
from rageval.metrics import Metric, add_attribute\r
\r
_DESCRIPTION = """\\\r
The AnswerLCSRatio is to measure the similarity between answer and gt_answer by calculating the longest common subsequence.\r
\r
This is a very traditional method, but to this day, some work is still being carried out using it, such as \\\r
https://ieeexplore.ieee.org/abstract/document/10172590.\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    batch_size : int, Batch size for openai completion.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _compute_one: evaluating the similarity between answer and gt_answer by calculating the longest common subsequence.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "Language models trained on massive code corpora can generalize to tasks without the need "\r
    ...         "for task-specific fine-tuning."\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         "Large language models trained on massive code corpora can generalize to new tasks without the need "\r
    ...         "for task-specific fine-tuning."\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerLCSRatio()\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['gt_answers'], 1)\r
    >>> assert score == 16 / 17\r
"""\r
\r
_CITATION = """\\\r
@INPROCEEDINGS{10172590,\r
    author={Nashid, Noor and Sintaha, Mifta and Mesbah, Ali},\r
    booktitle={2023 IEEE/ACM 45th International Conference on Software Engineering (ICSE)},\r
    title={Retrieval-Based Prompt Selection for Code-Related Few-Shot Learning},\r
    year={2023},\r
    volume={},\r
    number={},\r
    pages={2450-2462},\r
    doi={10.1109/ICSE48619.2023.00205}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerLCSRatio(Metric):\r
    """Estimates the similarity between answers and gt_answers."""\r
\r
    name = "answer_lcs_ratio"\r
\r
    ALIAS = ['answer_lcs_ratio']\r
\r
    def __init__(self):\r
        """\r
        Explicitly initialize AnswerLCSRatio.\r
\r
        Ensure all parent classes are initialized.\r
        """\r
        super().__init__()\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"\r
\r
    def _info(self):\r
        return datasets.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "gt_answers": datasets.Value("string")\r
                }\r
            ),\r
            codebase_urls=[],\r
            reference_urls=["https://ieeexplore.ieee.org/abstract/document/10172590"]\r
        )\r
\r
    def _compute_one(\r
        self,\r
        pred_answer: str,\r
        ref_answer: str\r
    ) -> float:\r
        """Evaluating the similarity between answer and gt_answer by calculating the longest common subsequence."""\r
        pred_answer = pred_answer.split()\r
        ref_answer = ref_answer.split()\r
        m, n = len(pred_answer), len(ref_answer)\r
\r
        if m == 0 or n == 0:\r
            return 0\r
\r
        dp = [0] * (n + 1)\r
        for i in range(m):\r
            pre = 0\r
            for j in range(n):\r
                tmp = dp[j + 1]\r
                dp[j + 1] = pre + 1 if pred_answer[i] == ref_answer[j] else max(dp[j + 1], dp[j])\r
                pre = tmp\r
\r
        return dp[-1] / m\r
`,JA="",ZA=`# -*- coding: utf-8 -*-\r
\r
from dataclasses import dataclass\r
from typing import List, Callable, Optional\r
\r
import datasets\r
from datasets import Dataset\r
from rouge_score import rouge_scorer\r
\r
from rageval.metrics import Metric, add_attribute\r
\r
_DESCRIPTION = """Estimates ROUGE score by estimating answer and groundtruth answers.\r
\r
ROUGE is case insensitive, so the input text is converted to lower case before computing the score. This metrics is a wrapper around the https://github.com/google-research/google-research/blob/master/rouge/rouge_scorer.py\r
\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    rouge_type : str, the rouge type to calculate. Defaults to 'rouge1', 'rouge2', 'rougeL', 'rougeLsum'\r
        "rouge1": unigram (1-gram) based scoring\r
        "rouge2": bigram (2-gram) based scoring\r
        "rougeL": Longest common subsequence based scoring.\r
        "rougeLSum": splits text using "\\n".\r
\r
Optional Args:\r
    tokenizer : Callable, a tokenizer can be passed to the scorer, replacing the default tokenizer which tokenizes on whitespace, especially for non-latin languages. For example, the \`jieba.cut\` can be used for Chinese.\r
\r
Functions:\r
    _compute_one: compute the score by measure whether the args:\`answer\` contains short answer in list:\`gt_answers\`.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...    "answers": [\r
    ...        "Some nanomaterials may give rise to various kinds of lung damage."\r
    ...    ],\r
    ...    "gt_answers":[\r
    ...        [\r
    ...            "Nanoparticles can penetrate the body, affecting the lungs, brain, and other organs,\\\r
    ...             leading to possible respiratory, cardiovascular, and brain health problems.",\r
    ...            "Due to their small size, nanoparticles can infiltrate the body and impact vital organs,\\\r
    ...             posing risks to respiratory, heart, and neurological health."\r
    ...        ]\r
    ...    ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerRougeCorrectness('rougeL')\r
    >>> score, results = metric.compute(dataset['answers'], dataset['gt_answers'], 1)\r
    >>> assert 0 <= score <= 1\r
"""\r
\r
_CITATION = """\\\r
@inproceedings{lin-2004-rouge,\r
    title = "{ROUGE}: A Package for Automatic Evaluation of Summaries",\r
    author = "Lin, Chin-Yew",\r
    booktitle = "Text Summarization Branches Out",\r
    month = jul,\r
    year = "2004",\r
    address = "Barcelona, Spain",\r
    publisher = "Association for Computational Linguistics",\r
    url = "https://aclanthology.org/W04-1013",\r
    pages = "74--81",\r
}\r
@article{lewis2020retrieval,\r
  title={Retrieval-augmented generation for knowledge-intensive nlp tasks},\r
  author={Lewis, Patrick and Perez, Ethan and Piktus, Aleksandra and Petroni, Fabio and Karpukhin, Vladimir and Goyal, Naman and K{\\"u}ttler, Heinrich and Lewis, Mike and Yih, Wen-tau and Rockt{\\"a}schel, Tim and others},\r
  journal={Advances in Neural Information Processing Systems},\r
  volume={33},\r
  pages={9459--9474},\r
  year={2020}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerRougeCorrectness(Metric):\r
\r
    name = "answer_rouge_correctness"\r
\r
    ALIAS = ['answer_rouge_correctness']\r
\r
    def __init__(self, rouge_type: str, tokenizer: Optional[Callable] = None):\r
        """Explicitly initialize the AnswerRougeCorrectness to ensure all parent class initialized as well as initialize the rouge type and tokenizer."""\r
        self.rouge_type = rouge_type\r
        self.scorer = rouge_scorer.RougeScorer([rouge_type], use_stemmer=True, tokenizer=tokenizer)\r
        super().__init__()\r
\r
    def __repr__(self) -> str:\r
        """:return: Formated string representation of the metric."""\r
        return f"{self.ALIAS[0]}"\r
\r
    def _info(self):\r
        return datasets.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string", id="sequence"),\r
                    "gt_answers": datasets.Value("string", id="sequence"),\r
                }\r
            ),\r
            codebase_urls=["https://github.com/mim-solutions/rouge_score"],\r
            reference_urls=[\r
                "https://aclanthology.org/W04-1013/",\r
                "https://arxiv.org/abs/2005.11401"\r
            ]\r
        )\r
\r
    def _compute_one(self, pred_answer: str, ref_answers: List[str]) -> float:\r
        """Evaluate the ROUGE between a single answer and groundtruth answers."""\r
        score = self.scorer.score_multi(ref_answers, pred_answer)\r
        return score[self.rouge_type].fmeasure\r
`,eC=`from dataclasses import dataclass\r
from typing import List, Tuple\r
\r
import datasets\r
from sacrebleu.metrics import TER\r
import numpy as np\r
\r
from rageval.metrics import Metric, add_attribute\r
\r
_DESCRIPTION = """\\\r
    TER (Translation Edit Rate, also called Translation Error Rate) is a metric to quantify the edit operations that a\r
hypothesis requires to match a reference translation. The implementation is already present in sacrebleu\r
(https://github.com/mjpost/sacreBLEU#ter), which in turn is inspired by the TERCOM implementation, which can be found\r
here: https://github.com/jhclark/tercom.\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    normalized (boolean): If \`True\`, applies basic tokenization and normalization to sentences. Defaults to \`False\`.\r
    ignore_punct (boolean): If \`True\`, applies basic tokenization and normalization to sentences. Defaults to \`False\`.\r
    support_zh_ja_chars (boolean): If \`True\`, tokenization/normalization supports processing of Chinese characters,\r
                                    as well as Japanese Kanji, Hiragana, Katakana, and Phonetic Extensions of Katakana.\r
                                    Only applies if \`normalized = True\`. Defaults to \`False\`.\r
    case_sensitive (boolean): If \`False\`, makes all predictions and references lowercase to ignore differences in case. Defaults to \`False\`.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _validate_data: validate the dataset format.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "does this sentence match??",\r
    ...         "what about this sentence?",\r
    ...         "What did the TER metric user say to the developer?"\r
    ...     ],\r
    ...     "gt_answers": [\r
    ...         ["does this sentence match", "does this sentence match!?!"],\r
    ...         ["wHaT aBoUt ThIs SeNtEnCe?", "wHaT aBoUt ThIs SeNtEnCe?"],\r
    ...         ["Your jokes are...", "...TERrible"]\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerTERCorrectness()\r
    >>> metric.mtype\r
    'AnswerCorrectness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['gt_answers'])\r
    >>> assert score == 110.00000000000001\r
    >>> assert results[0] == 25.0\r
"""\r
\r
_CITATION = """\\\r
@inproceedings{snover-etal-2006-study,\r
    title = "A Study of Translation Edit Rate with Targeted Human Annotation",\r
    author = "Snover, Matthew  and\r
      Dorr, Bonnie  and\r
      Schwartz, Rich  and\r
      Micciulla, Linnea  and\r
      Makhoul, John",\r
    booktitle = "Proceedings of the 7th Conference of the Association for Machine Translation in the Americas: Technical Papers",\r
    month = aug # " 8-12",\r
    year = "2006",\r
    address = "Cambridge, Massachusetts, USA",\r
    publisher = "Association for Machine Translation in the Americas",\r
    url = "https://aclanthology.org/2006.amta-papers.25",\r
    pages = "223--231",\r
}\r
@inproceedings{post-2018-call,\r
    title = "A Call for Clarity in Reporting {BLEU} Scores",\r
    author = "Post, Matt",\r
    booktitle = "Proceedings of the Third Conference on Machine Translation: Research Papers",\r
    month = oct,\r
    year = "2018",\r
    address = "Belgium, Brussels",\r
    publisher = "Association for Computational Linguistics",\r
    url = "https://www.aclweb.org/anthology/W18-6319",\r
    pages = "186--191",\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerCorrectness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerTERCorrectness(Metric):\r
    """Estimates the TER between answers and ground truth answers."""\r
\r
    name = "answer_ter"\r
\r
    ALIAS = ['answer_ter']\r
\r
    def __init__(\r
        self,\r
        normalized: bool = False,\r
        ignore_punct: bool = False,\r
        support_zh_ja_chars: bool = False,\r
        case_sensitive: bool = False\r
    ):\r
        """\r
        Explicitly initialize AnswerTERCorrectness.\r
\r
        Ensure all parent classes are initialized.\r
        """\r
        super().__init__()\r
        self.ter = TER(\r
            normalized=normalized,\r
            no_punct=ignore_punct,\r
            asian_support=support_zh_ja_chars,\r
            case_sensitive=case_sensitive\r
        )\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"\r
\r
    def _info(self):\r
        return datasets.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "gt_answers": datasets.Sequence(datasets.Value("string"))\r
                }\r
            ),\r
            codebase_urls=["https://github.com/mjpost/sacreBLEU#ter"],\r
            reference_urls=["https://aclanthology.org/2006.amta-papers.25", "https://www.aclweb.org/anthology/W18-6319"]\r
        )\r
\r
    def _validate_data(\r
        self,\r
        pred_answers: List[str],\r
        ref_answers: List[List[str]]\r
    ) -> None:\r
        """Validate the input predictions and references."""\r
        super()._validate_data(pred_answers, ref_answers)\r
        if not all(isinstance(pred_answer, str) for pred_answer in pred_answers):\r
            raise ValueError("The type of pred_answers should be a list of strings.")\r
        if not all(isinstance(reference_list, list) and all(isinstance(reference, str) for reference in reference_list) for reference_list in ref_answers):\r
            raise ValueError("The type of ref_answers should be a list of lists of strings.")\r
\r
    def _compute_one(\r
        self,\r
        pred_answer: str,\r
        ref_answers: List[str]\r
    ) -> float:\r
        """Compute the TER score of a single answer."""\r
        return self.ter.sentence_score(pred_answer, ref_answers).score\r
\r
    def compute(\r
        self,\r
        pred_answers: List[str],\r
        ref_answers: List[List[str]],\r
    ) -> Tuple[float, List[float]]:\r
        """Evaluate the dataset."""\r
        self._validate_data(pred_answers, ref_answers)\r
        scores = self._compute_batch(pred_answers, ref_answers)\r
        ref_answers = np.array(ref_answers)\r
        ref_answers = ref_answers.T.tolist()\r
        return self.ter.corpus_score(pred_answers, ref_answers).score, scores\r
`,tC=`import copy\r
import re\r
from dataclasses import dataclass\r
from typing import List, Callable, Tuple\r
\r
import datasets\r
import numpy as np\r
from tqdm import tqdm\r
\r
from rageval.metrics import Metric, add_attribute\r
from rageval.utils import text_to_sents, remove_citations\r
\r
_DESCRIPTION = """\\\r
Citation precision evaluation detects citations that are irrelevant to the claim, but it does not require citing \\\r
a minimal set and it permits citing redundant passages entailing similar claims.\r
\r
In different RAG evaluation tasks, both contexts and gt_contexts may be used as part of the input of LLM.\r
This metric doesn't care whether the contexts come from real-time retrieval or annotated datasets.\r
For simplicity, we refer to all contexts collectively as contexts.\r
\r
For details, see the paper: https://arxiv.org/abs/2305.14627.\r
"""\r
\r
_KWARGS_DESCRIPTION = r"""\\\r
Args:\r
    name : str\r
    batch_size : int, Batch size for openai completion.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _compute_one: compute the citation precision of an answer.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "Several places on Earth claim to be the most rainy, such as Llor, Colombia, which reported an "\r
    ...         "average annual rainfall of 12,717 mm between 1952 and 1989, and Lpez de Micay, Colombia, which "\r
    ...         "reported an annual 12,892 mm between 1960 and 2012 [3]. However, the official record is held by "\r
    ...         "Mawsynram, India with an average annual rainfall of 11,872 mm [3], although nearby town Sohra, "\r
    ...         "India, also known as Cherrapunji, holds the record for most rain in a calendar month for July 1861 "\r
    ...         "and most rain in a year from August 1860 to July 1861 [1]."\r
    ...     ],\r
    ...    "contexts": [\r
    ...        [\r
    ...             "Cherrapunji Cherrapunji (; with the native name Sohra being more commonly used, and can also be "\r
    ...             "spelled Cherrapunjee or Cherrapunji) is a subdivisional town in the East Khasi Hills district in "\r
    ...             "the Indian state of Meghalaya. It is the traditional capital of aNongkhlaw \\"hima\\" (Khasi tribal "\r
    ...             "chieftainship constituting a petty state), both known as Sohra or Churra. Cherrapunji has often "\r
    ...             "been credited as being the wettest place on Earth, but for now nearby Mawsynram currently holds "\r
    ...             "that distinction. Cherrapunji still holds the all-time record for the most rainfall in a calendar "\r
    ...             "month for July 1861 and most rain in a year from August 1860 to July 1861, however: it received "\r
    ...             "in",\r
    ...             "Radio relay station known as Akashvani Cherrapunji. It broadcasts on FM frequencies. Cherrapunji "\r
    ...             "Cherrapunji (; with the native name Sohra being more commonly used, and can also be spelled "\r
    ...             "Cherrapunjee or Cherrapunji) is a subdivisional town in the East Khasi Hills district in the "\r
    ...             "Indian state of Meghalaya. It is the traditional capital of aNongkhlaw \\"hima\\" (Khasi tribal "\r
    ...             "chieftainship constituting a petty state), both known as Sohra or Churra. Cherrapunji has often "\r
    ...             "been credited as being the wettest place on Earth, but for now nearby Mawsynram currently holds "\r
    ...             "that distinction. Cherrapunji still holds the all-time record for the most rainfall",\r
    ...             "Mawsynram Mawsynram () is a village in the East Khasi Hills district of Meghalaya state in "\r
    ...             "north-eastern India, 65 kilometres from Shillong. Mawsynram receives one of the highest rainfalls "\r
    ...             "in India. It is reportedly the wettest place on Earth, with an average annual rainfall of 11,872 "\r
    ...             "mm, but that claim is disputed by Llor, Colombia, which reported an average yearly rainfall of "\r
    ...             "12,717 mm between 1952 and 1989 and Lpez de Micay, also in Colombia, which reported an annual "\r
    ...             "12,892 mm per year between 1960 and 2012. According to the \\"Guinness Book of World Records\\", "\r
    ...             "Mawsynram received of rainfall in 1985. Mawsynram is located at 25 18"\r
    ...        ]\r
    ...    ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> nli_model = rl.models.NLIModel(\r
    ...     'text2text-generation',\r
    ...     'hf-internal-testing/tiny-random-T5ForConditionalGeneration'\r
    ... )\r
    >>> metric = rl.metrics.AnswerCitationPrecision(nli_model=nli_model)\r
    >>> metric.mtype\r
    'AnswerGroundedness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['contexts'], 1)\r
    >>> assert 0 <= score <= 1\r
"""\r
\r
_CITATION = """\\\r
@misc{gao2023enabling,\r
      title={Enabling Large Language Models to Generate Text with Citations},\r
      author={Tianyu Gao and Howard Yen and Jiatong Yu and Danqi Chen},\r
      year={2023},\r
      eprint={2305.14627},\r
      archivePrefix={arXiv},\r
      primaryClass={cs.CL}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerGroundedness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerCitationPrecision(Metric):\r
    """Estimates the citation precision of the generated answer based on the NLI model."""\r
\r
    name = "answer_citation_precision"\r
\r
    ALIAS = ['answer_citation_precision']\r
\r
    def __init__(self, nli_model: Callable):\r
        """\r
        Explicitly initialize AnswerCitationPrecision.\r
\r
        Ensure all parent classes are initialized.\r
        Ensure nli_model is initialized.\r
        """\r
        super().__init__()\r
        self.nli_model = nli_model\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"\r
\r
    def _info(self):\r
        return datasets.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "contexts": datasets.Sequence(datasets.Value("string"))\r
                }\r
            ),\r
            codebase_urls=["https://github.com/princeton-nlp/ALCE"],\r
            reference_urls=["https://arxiv.org/abs/2305.14627"]\r
        )\r
\r
    def _compute_one(\r
        self,\r
        answer: str,\r
        context: List[str]\r
    ) -> Tuple[float, float]:\r
        """Evaluate the citation precision of an answer."""\r
        citation_correct = 0\r
        citation_total = 0\r
\r
        sents = text_to_sents(answer)\r
        target_sents = [remove_citations(sent).strip() for sent in sents]\r
\r
        for idx, sent in enumerate(sents):\r
            target_sent = target_sents[idx]\r
\r
            context_ids = []\r
            for r in re.findall(r"\\[\\d+", sent):\r
                context_id = int(r[1:])\r
                if 1 <= context_id <= len(context):\r
                    context_ids.append(context_id)\r
                else:\r
                    context_ids = []\r
                    break\r
\r
            if len(context_ids) > 0:\r
                # citation id starts from 1 in sents\r
                premise = " ".join([context[context_id - 1] for context_id in context_ids])\r
                label_full = self.nli_model.generate_infer(premise=premise, hypothesis=target_sent)\r
                if label_full == 1:\r
                    citation_total += len(context_ids)\r
                    for context_id in context_ids:\r
                        label_single = self.nli_model.generate_infer(premise=context[context_id - 1], hypothesis=target_sent)\r
                        if label_single == 1:\r
                            citation_correct += 1\r
                        else:\r
                            subset_context_id = copy.deepcopy(context_ids)\r
                            subset_context_id.remove(context_id)\r
                            subset_premise = " ".join([context[context_id - 1] for context_id in subset_context_id])\r
                            label_exclude = self.nli_model.generate_infer(premise=subset_premise, hypothesis=target_sent)\r
                            if label_exclude == 0:\r
                                citation_correct += 1\r
\r
        return citation_correct, citation_total\r
\r
    def _compute_batch(\r
        self,\r
        answers: List[str],\r
        contexts: List[List[str]]\r
    ) -> List[Tuple[float, float]]:\r
        """\r
        Evaluate the citation precision of a batch of answers.\r
\r
        Firstly, calculate the citation precision of each statement (0 or 1).\r
        Precision check: did the model cite any unnecessary documents?\r
        Then, average over all statements in the LLM answer.\r
        Finally, average over all scores of each answer.\r
        """\r
        results = []\r
        for answer, context in tqdm(zip(answers, contexts)):\r
            citation_correct, citation_total = self._compute_one(answer, context)\r
            results.append((citation_correct, citation_total))\r
        return results\r
\r
    def compute(\r
        self,\r
        answers: List[str],\r
        contexts: List[List[str]],\r
        batch_size: int = None,\r
    ) -> Tuple[float, List[Tuple[float, float]]]:\r
        """Evaluate the dataset."""\r
        scores = []\r
\r
        length = len(answers)\r
        if batch_size:\r
            for start in tqdm(range(0, length, batch_size)):\r
                end = start + batch_size\r
                end = end if end < length else length\r
                score = self._compute_batch(answers[start:end], contexts[start:end])\r
                scores.extend(score)\r
        else:\r
            scores = self._compute_batch(answers, contexts)\r
\r
        citation_correct = np.sum([correct for correct, total in scores])\r
        citation_total = np.sum([total for correct, total in scores])\r
\r
        # dataset = datasets.Dataset.from_dict({\r
        #     "predictions": answers,\r
        #     "references": contexts,\r
        #     f"{self.name}_scores": scores\r
        # })\r
\r
        if citation_total == 0:\r
            return 0.0, scores\r
        else:\r
            return citation_correct / citation_total, scores\r
`,nC=`import re\r
from dataclasses import dataclass\r
from typing import List, Callable\r
\r
import datasets\r
from tqdm import tqdm\r
\r
from rageval.metrics import Metric, add_attribute\r
from rageval.utils import text_to_sents, remove_citations\r
\r
_DESCRIPTION = """\\\r
Citation recall determines if the result from LLM is entirely supported by cited passages.\r
\r
In different RAG evaluation tasks, both contexts and gt_contexts may be used as part of the input of LLM.\r
This metric doesn't care whether the contexts come from real-time retrieval or annotated datasets.\r
For simplicity, we refer to all contexts collectively as contexts.\r
\r
For details, see the paper: https://arxiv.org/abs/2305.14627.\r
"""\r
\r
_KWARGS_DESCRIPTION = r"""\\\r
Args:\r
    name : str\r
    batch_size : int, Batch size for openai completion.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _compute_one: compute the citation recall of an answer.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "Several places on Earth claim to be the most rainy, such as Llor, Colombia, which reported an "\r
    ...         "average annual rainfall of 12,717 mm between 1952 and 1989, and Lpez de Micay, Colombia, which "\r
    ...         "reported an annual 12,892 mm between 1960 and 2012 [3]. However, the official record is held by "\r
    ...         "Mawsynram, India with an average annual rainfall of 11,872 mm [3], although nearby town Sohra, "\r
    ...         "India, also known as Cherrapunji, holds the record for most rain in a calendar month for July 1861 "\r
    ...         "and most rain in a year from August 1860 to July 1861 [1]."\r
    ...     ],\r
    ...    "contexts": [\r
    ...        [\r
    ...             "Cherrapunji Cherrapunji (; with the native name Sohra being more commonly used, and can also be "\r
    ...             "spelled Cherrapunjee or Cherrapunji) is a subdivisional town in the East Khasi Hills district in "\r
    ...             "the Indian state of Meghalaya. It is the traditional capital of aNongkhlaw \\"hima\\" (Khasi tribal "\r
    ...             "chieftainship constituting a petty state), both known as Sohra or Churra. Cherrapunji has often "\r
    ...             "been credited as being the wettest place on Earth, but for now nearby Mawsynram currently holds "\r
    ...             "that distinction. Cherrapunji still holds the all-time record for the most rainfall in a calendar "\r
    ...             "month for July 1861 and most rain in a year from August 1860 to July 1861, however: it received "\r
    ...             "in",\r
    ...             "Radio relay station known as Akashvani Cherrapunji. It broadcasts on FM frequencies. Cherrapunji "\r
    ...             "Cherrapunji (; with the native name Sohra being more commonly used, and can also be spelled "\r
    ...             "Cherrapunjee or Cherrapunji) is a subdivisional town in the East Khasi Hills district in the "\r
    ...             "Indian state of Meghalaya. It is the traditional capital of aNongkhlaw \\"hima\\" (Khasi tribal "\r
    ...             "chieftainship constituting a petty state), both known as Sohra or Churra. Cherrapunji has often "\r
    ...             "been credited as being the wettest place on Earth, but for now nearby Mawsynram currently holds "\r
    ...             "that distinction. Cherrapunji still holds the all-time record for the most rainfall",\r
    ...             "Mawsynram Mawsynram () is a village in the East Khasi Hills district of Meghalaya state in "\r
    ...             "north-eastern India, 65 kilometres from Shillong. Mawsynram receives one of the highest rainfalls "\r
    ...             "in India. It is reportedly the wettest place on Earth, with an average annual rainfall of 11,872 "\r
    ...             "mm, but that claim is disputed by Llor, Colombia, which reported an average yearly rainfall of "\r
    ...             "12,717 mm between 1952 and 1989 and Lpez de Micay, also in Colombia, which reported an annual "\r
    ...             "12,892 mm per year between 1960 and 2012. According to the \\"Guinness Book of World Records\\", "\r
    ...             "Mawsynram received of rainfall in 1985. Mawsynram is located at 25 18"\r
    ...        ]\r
    ...    ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> nli_model = rl.models.NLIModel(\r
    ...     'text2text-generation',\r
    ...     'hf-internal-testing/tiny-random-T5ForConditionalGeneration'\r
    ... )\r
    >>> metric = rl.metrics.AnswerCitationRecall(nli_model=nli_model)\r
    >>> metric.mtype\r
    'AnswerGroundedness'\r
    >>> score, results = metric.compute(dataset['answers'], dataset['contexts'], 1)\r
"""\r
\r
_CITATION = """\\\r
@misc{gao2023enabling,\r
      title={Enabling Large Language Models to Generate Text with Citations},\r
      author={Tianyu Gao and Howard Yen and Jiatong Yu and Danqi Chen},\r
      year={2023},\r
      eprint={2305.14627},\r
      archivePrefix={arXiv},\r
      primaryClass={cs.CL}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerGroundedness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerCitationRecall(Metric):\r
    """Estimates the citation recall of the generated answer based on the NLI model."""\r
\r
    name = "answer_citation_recall"\r
\r
    ALIAS = ['answer_citation_recall']\r
\r
    def __init__(self, nli_model: Callable):\r
        """\r
        Explicitly initialize AnswerCitationRecall.\r
\r
        Ensure all parent classes are initialized.\r
        Ensure nli_model is initialized.\r
        """\r
        super().__init__()\r
        self.nli_model = nli_model\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"\r
\r
    def _info(self):\r
        return datasets.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                    "contexts": datasets.Sequence(datasets.Value("string"))\r
                }\r
            ),\r
            codebase_urls=["https://github.com/princeton-nlp/ALCE"],\r
            reference_urls=["https://arxiv.org/abs/2305.14627"]\r
        )\r
\r
    def _compute_one(\r
        self,\r
        answer: str,\r
        context: List[str]\r
    ) -> float:\r
        """Evaluate the citation recall of an answer."""\r
        total_entail = 0\r
\r
        sents = text_to_sents(answer)\r
        target_sents = [remove_citations(sent).strip() for sent in sents]\r
\r
        for idx, sent in enumerate(sents):\r
            target_sent = target_sents[idx]\r
\r
            context_ids = []\r
            for r in re.findall(r"\\[\\d+", sent):\r
                context_id = int(r[1:])\r
                if 1 <= context_id <= len(context):\r
                    context_ids.append(context_id)\r
                else:\r
                    context_ids = []\r
                    break\r
\r
            if len(context_ids) > 0:\r
                # citation id starts from 1 in sents\r
                premise = " ".join([context[context_id - 1] for context_id in context_ids])\r
                label = self.nli_model.generate_infer(premise=premise, hypothesis=target_sent)\r
                total_entail += label\r
\r
        if len(sents) == 0:\r
            return 0\r
        return total_entail / len(sents)\r
\r
    def _compute_batch(\r
        self,\r
        answers: List[str],\r
        contexts: List[List[str]]\r
    ) -> List[float]:\r
        """\r
        Evaluate the citation recall of a batch of answers.\r
\r
        Firstly, calculate the citation recall of each statement (0 or 1).\r
        For each statement, its citation recall is 1 if and only if there is at least one citation and connects all\r
        paragraphs cited by this statement as premise, statement as hypothesis, and the NLI model outputs 1\r
        when it determines that premise entails the hypothesis, otherwise it is 0.\r
        Then, average over all statements in the LLM answer.\r
        Finally, average over all scores of each answer.\r
        """\r
        return super()._compute_batch(pred_answers=answers, ref_answers=contexts)\r
`,rC="",iC=`from dataclasses import dataclass\r
from typing import Callable, List, Tuple\r
\r
import datasets\r
import numpy as np\r
import evaluate\r
\r
from langchain.schema import LLMResult\r
from tqdm import tqdm\r
\r
from rageval.metrics import MetricWithLLM, add_attribute\r
from rageval.utils.prompt import REJECT_RATE_PROMPT\r
\r
_DESCRIPTION = """\\\r
ContextRejectRate is the metric to measure the unknown robustness of LLM based on the given context.\r
\r
For details, see the paper: https://arxiv.org/abs/2311.09210.\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
    batch_size : int, Batch size for openai completion.\r
    model : Callable, The LLM model to use.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    parse_llm_result: parse the results of LLM\r
    _compute_batch: compute the score by measure how many rejected answers in all answers.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> from langchain.llms.fake import FakeListLLM\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "questions": [\r
    ...         "Why did Bushnell set himself on fire?",\r
    ...         "Did Bushnell have a wife?"\r
    ...     ],\r
    ...     "contexts": [\r
    ...         [\r
    ...             ["An active-duty member of the U.S. Air Force has died after he set himself ablaze outside the "\r
    ...              "Israeli Embassy in Washington, D.C., while declaring that he will no longer be complicit in "\r
    ...              "genocide."],\r
    ...             ["The 25-year-old airman, Aaron Bushnell, of San Antonio, Texas, died from his injuries, the "\r
    ...              "Metropolitan Police Department said Monday."],\r
    ...             ["Bushnell had walked up to the embassy shortly before 1 p.m. Sunday and began livestreaming on "\r
    ...              "the video streaming platform Twitch, a person familiar with the matter told The Associated "\r
    ...              "Press. Law enforcement officials believe he set his phone down and then doused himself in "\r
    ...              "accelerant and ignited the flames. At one point, he said he will no longer be complicit in "\r
    ...              "genocide, the person said. The video was later removed from the platform, but law enforcement "\r
    ...              "officials have obtained and reviewed a copy."]\r
    ...         ],\r
    ...         [\r
    ...             ["An active-duty member of the U.S. Air Force has died after he set himself ablaze outside the "\r
    ...              "Israeli Embassy in Washington, D.C., while declaring that he will no longer be complicit in "\r
    ...              "genocide."],\r
    ...             ["The 25-year-old airman, Aaron Bushnell, of San Antonio, Texas, died from his injuries, the "\r
    ...              "Metropolitan Police Department said Monday."],\r
    ...             ["Bushnell had walked up to the embassy shortly before 1 p.m. Sunday and began livestreaming on "\r
    ...              "the video streaming platform Twitch, a person familiar with the matter told The Associated "\r
    ...              "Press. Law enforcement officials believe he set his phone down and then doused himself in "\r
    ...              "accelerant and ignited the flames. At one point, he said he will no longer be complicit in "\r
    ...              "genocide, the person said. The video was later removed from the platform, but law enforcement "\r
    ...              "officials have obtained and reviewed a copy."]\r
    ...         ],\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> model = FakeListLLM(\r
    ...     responses=[\r
    ...         "Answer: An active-duty member of the U.S. Air Force has died after he set himself ablaze outside the "\r
    ...         "Israeli Embassy in Washington, D.C., while declaring that he will no longer be complicit in "\r
    ...         "genocide.",\r
    ...         "Answer: sorry, cannot answer the question"\r
    ...     ]\r
    ... )\r
    >>> metric = rl.metrics.ContextRejectRate(model)\r
    >>> metric.mtype\r
    'AnswerGroundedness'\r
    >>> score, results = metric.compute(dataset['questions'], dataset['contexts'], 1)\r
    >>> assert 0 <= score <= 1\r
"""\r
\r
_CITATION = """\\\r
@misc{yu2023chainofnote,\r
      title={Chain-of-Note: Enhancing Robustness in Retrieval-Augmented Language Models},\r
      author={Wenhao Yu and Hongming Zhang and Xiaoman Pan and Kaixin Ma and Hongwei Wang and Dong Yu},\r
      year={2023},\r
      eprint={2311.09210},\r
      archivePrefix={arXiv},\r
      primaryClass={cs.CL}\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerGroundedness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class ContextRejectRate(MetricWithLLM):\r
    """Estimates context reject rate by measuring how many rejected answers in all answers."""\r
\r
    name = "context_reject_rate"\r
\r
    ALIAS = ['context_reject_rate']\r
\r
    def __init__(self, model: Callable):\r
        """Explicitly initialize the ContextRejectRate to ensure all parent class initialized."""\r
        super().__init__(model)\r
        self.info = evaluate.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "questions": datasets.Value("string"),\r
                    "contexts": datasets.Sequence(datasets.Value("string"))\r
                }\r
            ),\r
            codebase_urls=[],\r
            reference_urls=["https://arxiv.org/abs/2311.09210"]\r
        )\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"  # pragma: no cover\r
\r
    def parse_llm_result(self, prompts: List[str], result: LLMResult):\r
        """Parse the results of LLM based on whether the answer contains the content specified by prompt."""\r
        responses = [[i.text for i in r] for r in result.generations]\r
        scores = []\r
        # for each question-answer pair\r
        for response in responses:\r
            answer = response[0]\r
            if "sorry, cannot answer the question" in answer:\r
                scores.append(1.)\r
            else:\r
                scores.append(0.)\r
        return scores\r
\r
    def compute(\r
        self,\r
        questions: List[str],\r
        contexts: List[List[str]],\r
        batch_size: int,\r
    ) -> Tuple[float, List[float]]:\r
        """Evaluate the dataset."""\r
        scores = []\r
        length = len(questions)\r
        for start in tqdm(range(0, length, batch_size)):\r
            end = start + batch_size\r
            end = end if end < length else length\r
            score = self._compute_batch(\r
                questions[start:end],\r
                contexts[start:end]\r
            )\r
            scores.extend(score)\r
\r
        return np.average(scores), scores\r
\r
    def _compute_batch(\r
        self,\r
        questions: List[str],\r
        contexts: List[List[str]],\r
    ) -> List[float]:\r
        """Compute the score by measure how many rejected answers in all answers."""\r
\r
        prompts = []\r
        for question, context in zip(questions, contexts):\r
            prompt = REJECT_RATE_PROMPT.format(\r
                question=question,\r
                evidence=context\r
            )\r
            prompts.append(prompt)\r
\r
        results = self.llm.generate(prompts)\r
        scores = self.parse_llm_result(prompts, results)\r
        return scores\r
`,sC=`from collections import Counter\r
from dataclasses import dataclass\r
from typing import List, Optional, Iterable, Tuple\r
import datasets\r
from nltk import ngrams\r
from rageval.metrics import Metric, add_attribute\r
\r
_DESCRIPTION = """\\\r
Distinct 1/2 measures the diversity of generated text by calculating the ratio of unique n-grams to the total number of n-grams.\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    pred_answers (list of str): List of generated texts for which distinct metrics are computed.\r
    n_grams (int): The n-gram order for which distinct metrics are computed.\r
\r
Returns:\r
    dict: Dictionary containing Distinct-1 and Distinct-2 scores.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "This is the first sentence.",\r
    ...         "This is the second sentence."\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = rl.metrics.AnswerDistinct(1)\r
    >>> metric.mtype\r
    'AnswerInformativeness'\r
    >>> score, results = metric.compute(dataset['answers'])\r
    >>> score\r
    0.6\r
"""\r
\r
_CITATION = """\\\r
@misc{selfmemory2023,\r
    title={Lift Yourself Up: Retrieval-augmented Text Generation with Self Memory},\r
    author={Xin Cheng and Di Luo and Xiuying Chen and Lemao Liu and Dongyan Zhao and Rui Yan},\r
    year={2023},\r
    eprint={2305.02437},\r
    archivePrefix={arXiv},\r
    primaryClass={cs.CL}\r
}\r
"""\r
\r
\r
def get_distinct_score(pred_answers: List[str], n_grams: int) -> dict:\r
    """Compute Distinct-1 and Distinct-2 metrics."""\r
    c = Counter()\r
    for answer in pred_answers:\r
        tokens = answer.split()\r
        c.update(ngrams(tokens, n_grams))\r
\r
    return len(c) / sum(c.values())\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'AnswerInformativeness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class AnswerDistinct(Metric):\r
    """Distinct 1/2 metric for text generation."""\r
\r
    name = "answer_distinct"\r
\r
    ALIAS = ['answer_distinct']\r
\r
    def __init__(self, n_grams: int = 1):\r
        """\r
        Explicitly initialize Distinct.\r
\r
        Ensure all parent classes are initialized.\r
        """\r
        super().__init__()\r
        self.n_grams = n_grams\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"\r
\r
    def _info(self):\r
        return datasets.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            features=datasets.Features(\r
                {\r
                    "pred_answers": datasets.Value("string"),\r
                }\r
            ),\r
            codebase_urls=["https://github.com/Hannibal046/SelfMemory/blob/main/src/utils/metrics_utils.py"],\r
            reference_urls=["https://arxiv.org/abs/2305.02437"]\r
        )\r
\r
    def _validate_data(\r
        self,\r
        pred_answers: Optional[Iterable] = None,\r
        ref_answers: Optional[Iterable] = None,\r
    ) -> bool:\r
        """Validate the input data."""\r
        assert isinstance(pred_answers, str) or isinstance(pred_answers, list)  # pragma: no cover\r
\r
    def compute(\r
        self,\r
        pred_answers: Optional[Iterable] = None,\r
    ) -> Tuple[float, List[float]]:\r
        """\r
        Evaluate the dataset.\r
\r
        Return average scores of all inputs and a score list for each example.\r
        """\r
        return get_distinct_score(pred_answers, self.n_grams), [get_distinct_score([pred_answer], self.n_grams) for pred_answer in pred_answers]\r
`,aC="",oC="",lC="",uC=`from dataclasses import dataclass\r
from typing import Optional, Iterable\r
from transformers import AutoTokenizer\r
import evaluate\r
\r
import datasets\r
\r
from rageval.metrics import Metric, add_attribute\r
\r
\r
_DESCRIPTION = """\\\r
Textlength is a metric used to evaluate the length of a model-generated response.\r
\r
It measures the number of tokens in the generated text by first converting the text into tokens and then counting the total number. This metric provides insight into the verbosity or conciseness of the model's output, offering a standardized way to compare text length across different responses.\r
"""\r
\r
_KWARGS_DESCRIPTION = """\\\r
Args:\r
    name : str\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    _compute_one: Evaluating the length of answer.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "answers": [\r
    ...         "A",\r
    ...         "C",\r
    ...     ]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> metric = TextLength(tokenize_model="Qwen/Qwen2-0.5B-Instruct")\r
    >>> metric.mtype\r
    'answer_informativeness'\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'answer_informativeness')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class TextLength(Metric):\r
    """Estimates the text length of answers."""\r
\r
    name = "text_length"\r
\r
    ALIAS = ['text_length']\r
\r
    def __init__(self, tokenize_model: str = "Qwen/Qwen2-0.5B-Instruct"):\r
        """\r
        Explicitly initialize TextLength.\r
\r
        Ensure all parent classes are initialized.\r
        """\r
        self.tokenizer = AutoTokenizer.from_pretrained(tokenize_model)\r
        super().__init__()\r
        self.info = evaluate.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation="",\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "answers": datasets.Value("string"),\r
                }\r
            ),\r
            codebase_urls=[],\r
            reference_urls=[]\r
        )\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"  # pragma: no cover\r
\r
    def _compute_one(\r
        self,\r
        answer: str,\r
        *args: Optional[Iterable],\r
    ) -> float:\r
        """Evaluating the text length of answer."""\r
        length = len(self.tokenizer(answer, return_tensors="pt")['input_ids'][0])\r
        return length\r
`,cC=`from typing import List, Tuple, Callable, Optional, Iterable\r
from abc import abstractmethod\r
from dataclasses import dataclass\r
\r
import numpy as np\r
from langchain.schema import LLMResult\r
from tqdm import tqdm\r
\r
\r
def add_attribute(attribute_name, attribute_value):\r
    """\r
    This decorate is used to set attribute for Class.\r
\r
    Currently, this decorate can be used to set attr:metric_type for each metric.\r
    There are four types, i.e., 'AnswerCorrectness', 'AnswerGroundedness', 'ContextRelevancy', 'ContextAdequacy', \\\r
    for all RAG metrics.\r
    """\r
    def decorator(cls):\r
        setattr(cls, attribute_name, attribute_value)\r
        return cls\r
    return decorator\r
\r
\r
@dataclass\r
class Metric():\r
    """Metric base class without LLM."""\r
\r
    def __init__(\r
        self,\r
        config_name: Optional[str] = None,\r
        experiment_id: Optional[str] = None\r
    ):\r
        """Initialization.\r
\r
        Args:\r
            config_name: type(string), Optional.\r
            experiment_id: type(string), Optional.\r
        """  # pragma: no cover\r
\r
    @property\r
    @abstractmethod\r
    def name(self) -> str:\r
        """The metric name."""\r
        ...  # pragma: no cover\r
\r
    def _validate_data(\r
        self,\r
        pred_answers: Optional[Iterable] = None,\r
        ref_answers: Optional[Iterable] = None,\r
        *args: Optional[Iterable]\r
    ) -> None:\r
        """Validate the of the input dataset."""\r
        if (pred_answers and ref_answers):\r
            if len(pred_answers) != len(ref_answers) or any(len(pred_answers) != len(arg) for arg in args):\r
                raise ValueError("The length of predictions and references should be the same.")  # pragma: no cover\r
\r
    def compute(\r
        self,\r
        pred_answers: Optional[Iterable] = None,\r
        ref_answers: Optional[Iterable] = None,\r
        batch_size: Optional[int] = None,\r
        *args: Optional[Iterable],\r
    ) -> Tuple[float, List[float]]:\r
        """\r
        Evaluate the dataset.\r
\r
        Return average scores of all inputs and a score list for each example.\r
        """\r
        self._validate_data(pred_answers, ref_answers, *args)\r
        scores = self._compute_batch(pred_answers, ref_answers, *args)\r
\r
        return np.average(scores), scores\r
\r
    @abstractmethod\r
    def _compute_one(\r
        self,\r
        pred_answer: Optional[Iterable] = None,\r
        ref_answer: Optional[Iterable] = None,\r
        *args: Optional[Iterable]\r
    ) -> float:\r
        ...  # pragma: no cover\r
\r
    def _compute_batch(\r
        self,\r
        pred_answers: Optional[Iterable] = None,\r
        ref_answers: Optional[Iterable] = None,\r
        *args: Optional[Iterable]\r
    ) -> List[float]:\r
        """Compute the metric for a batch of predictions and references."""\r
        scores = []\r
        if (pred_answers and ref_answers):  # if both columns exist\r
            for pred_answer, ref_answer in tqdm(zip(pred_answers, ref_answers),\r
                                                desc=f"Computing {self.name}",\r
                                                total=len(pred_answers)):\r
                scores.append(self._compute_one(pred_answer, ref_answer))\r
        else:\r
            for pred_answer in tqdm(pred_answers,\r
                                    desc=f"Computing {self.name}",\r
                                    total=len(pred_answers)):\r
                scores.append(self._compute_one(pred_answer))\r
        return scores\r
\r
\r
@dataclass\r
class MetricWithLLM(Metric):\r
    """Metrics based on LLM."""\r
\r
    def __init__(self, model: Callable):\r
        """Initialization."""\r
        super().__init__()\r
        self.llm = model\r
\r
    @abstractmethod\r
    def parse_llm_result(self, prompts: List[str], result: LLMResult):\r
        """Parse the LLM Result based on the Prompt."""\r
        ...  # pragma: no cover\r
`,dC=`from dataclasses import dataclass\r
from typing import Callable, List, Tuple\r
import evaluate\r
\r
import datasets\r
import numpy as np\r
import pandas as pd\r
from langchain.schema import LLMResult\r
from tqdm import tqdm\r
\r
from rageval.metrics import MetricWithLLM, add_attribute\r
from rageval.utils.utility import json_loader\r
from rageval.utils import CONTEXT_RECALL_RA\r
\r
_DESCRIPTION = """\\\r
ContextRecall evaluates contexts relevancy based on gt_answers.\r
\r
For details, see the doc: https://docs.ragas.io/en/stable/concepts/metrics/context_recall.html.\r
"""\r
\r
_KWARGS_DESCRIPTION = r"""\\\r
Args:\r
    name : str\r
    batch_size : int, Batch size for openai completion.\r
    model : Callable, The LLM model to use.\r
\r
Optional Args:\r
    None\r
\r
Functions:\r
    parse_llm_result: Parse the LLM Result based on the Prompt\r
    _compute_batch: Compute the score by measure whether the args:\`contexts\` can be supported by args:\`gt_answers\`.\r
\r
Examples:\r
    >>> from datasets import Dataset\r
    >>> from langchain.llms.fake import FakeListLLM\r
    >>> import rageval as rl\r
    >>> sample = {\r
    ...     "questions": [""],\r
    ...     "gt_answers": [["1841"]],\r
    ...     "contexts": [["[12] 20146"\r
    ...                   " [12]"\r
    ...                   ""\r
    ...                   " ","[12]"\r
    ...                   " [12]"\r
    ...                   " [12] 20146"\r
    ...                   ""\r
    ...                 ]]\r
    ... }\r
    >>> dataset = Dataset.from_dict(sample)\r
    >>> model = FakeListLLM(\r
    ...     responses=['[\\n    {\\n        "statement_1":"1841",\\n        "reason": "The answer '\r
    ...                'provides the exact year and the scientist who named the dinosaurs.",\\n        "Attributed": "1"'\r
    ...                '\\n    },\\n    {\\n        "statement_2":"",'\r
    ...                '\\n        "reason": "The answer accurately describes the process of how dinosaurs were named.",'\r
    ...                '\\n        "Attributed": "1"\\n    }\\n]'\r
    ...               ]\r
    ... )\r
    >>> metric = rl.metrics.ContextRecall(model)\r
    >>> metric.mtype\r
    'ContextRelevancy'\r
    >>> score, results = metric.compute(dataset['questions'], dataset['gt_answers'], dataset['contexts'], 1)\r
    >>> assert 0 <= score <= 1\r
"""\r
\r
_CITATION = """\r
@misc{ragas,\r
    author= {explodinggradients},\r
    year  = {2023},\r
    title = {ragas},\r
    note  = {https://github.com/explodinggradients/ragas, Last accessed on 2024-3-2},\r
}\r
"""\r
\r
\r
@dataclass\r
@add_attribute('mtype', 'ContextRelevancy')\r
@datasets.utils.file_utils.add_start_docstrings(_DESCRIPTION, _KWARGS_DESCRIPTION)\r
class ContextRecall(MetricWithLLM):\r
    """Estimates context recall by estimating TP and FN using annotated answer and retrieved context."""\r
\r
    name = "context_recall"\r
\r
    ALIAS = ['context_recall']\r
\r
    def __init__(self, model: Callable):\r
        """Explicitly initialize the AnswerEMCorrectness to ensure all parent class initialized."""\r
        super().__init__(model)\r
        self.info = evaluate.MetricInfo(\r
            description=_DESCRIPTION,\r
            inputs_description=_KWARGS_DESCRIPTION,\r
            citation=_CITATION,\r
            homepage="",\r
            features=datasets.Features(\r
                {\r
                    "questions": datasets.Value("string"),\r
                    "gt_answers": datasets.Sequence(datasets.Value("string")),\r
                    "contexts": datasets.Sequence(datasets.Value("string"))\r
                }\r
            ),\r
            codebase_urls=["https://github.com/explodinggradients/ragas"],\r
            reference_urls=["https://docs.ragas.io/en/stable/concepts/metrics/context_recall.html"]\r
        )\r
\r
    def __repr__(self) -> str:\r
        """:return: Formatted string representation of the metric."""\r
        return f"{self.ALIAS[0]}"  # pragma: no cover\r
\r
    def parse_llm_result(self, prompts: str, result: LLMResult):\r
        """\r
        Parse the LLM Result based on the Prompt.\r
\r
        TODO: use prompts to parse the result.\r
        """\r
        results = []\r
        scores = []\r
        responses = [[i.text for i in r] for r in result.generations]\r
        # for each question-answer pair\r
        for response in responses:\r
            response = json_loader.safe_load(response[0], self.llm)\r
            # response: list of dict; each dict is a statement extracted from gt_answer\r
            if response:\r
                reasonings = [\r
                    str(item)\r
                    for item in response\r
                ]\r
                score = [\r
                    int(item.get("Attributed", "0").strip() == "1")\r
                    if item.get("Attributed")\r
                    else np.nan\r
                    for item in response\r
                ]\r
                data = {'reasoning': reasonings, 'score': score}\r
                scores.append(np.average(score))\r
            else:\r
                data = {'reasoning': [np.nan], 'score': [0.]}\r
                scores.append(0.)\r
            results.append(pd.DataFrame(data))\r
        # Note that the \`results can be recorded by logger.info\`\r
        return scores\r
\r
    def compute(\r
        self,\r
        questions: List[str],\r
        ref_answers: List[str],\r
        contexts: List[List[str]],\r
        batch_size: int,\r
    ) -> Tuple[float, List[float]]:\r
        """Evaluate the dataset."""\r
        scores = []\r
        length = len(questions)\r
        for start in tqdm(range(0, length, batch_size)):\r
            end = start + batch_size\r
            end = end if end < length else length\r
            score = self._compute_batch(\r
                questions[start:end],\r
                ref_answers[start:end],\r
                contexts[start:end]\r
            )\r
            scores.extend(score)\r
        return np.average(scores), scores\r
\r
    def _compute_batch(\r
        self,\r
        questions: List[str],\r
        ref_answers: List[str],\r
        contexts: List[List[str]]\r
    ) -> List[float]:\r
\r
        prompts = []\r
        for question, ref_answer, context in zip(questions, ref_answers, contexts):\r
            ref_answer = "\\n".join(ref_answer) if isinstance(ref_answer, list) else ref_answer\r
            context = "\\n".join(context) if isinstance(context, list) else context\r
            prompt = CONTEXT_RECALL_RA.format(\r
                question=question,\r
                context=context,\r
                answer=ref_answer\r
            )\r
            prompts.append(prompt)\r
\r
        result = self.llm.generate(prompts)\r
        scores = self.parse_llm_result(prompts, result)\r
\r
        return scores\r
`,fC="",hC="",pC="",mC="";function pp(e,t){const n=new RegExp(`${t}\\s*=\\s*r?"""\\s*([\\s\\S]*?)\\s*"""`),r=e.match(n);return r?r[1].replace(/\\\r\n/g,`\r
`).trim():""}function gC(e){return pp(e,"_DESCRIPTION")}function _C(e){const t={Args:{},OptionalArgs:{},Functions:{},Examples:""},n=pp(e,"_KWARGS_DESCRIPTION"),r=/Args:\s*([\s\S]*?)(?=Optional Args:|Functions:|Examples:|$)/,i=/Optional Args:\s*([\s\S]*?)(?=Args:|Functions:|Examples:|$)/,s=/Functions:\s*([\s\S]*?)(?=Args:|Optional Args:|Examples:|$)/,a=/Examples:\s*([\s\S]*?)(?=Args:|Optional Args:|Functions:|$)/,o=n.match(r),l=n.match(i),u=n.match(s),c=n.match(a);return o&&o[1].trim().split(`
`).forEach(p=>{const[m,...g]=p.split(":");m&&g.length>0&&(t.Args[m.trim()]=g.join(":").trim())}),l&&l[1].trim().split(`
`).forEach(p=>{const[m,...g]=p.split(":");m&&g.length>0&&(t.OptionalArgs[m.trim()]=g.join(":").trim())}),u&&u[1].trim().split(`
`).forEach(p=>{const[m,...g]=p.split(":");m&&g.length>0&&(t.Functions[m.trim()]=g.join(":").trim())}),c&&(t.Examples=c[1].replace(/\r\n    >>>/g,`\r
>>>`).replace(/\r\n    \.\.\./g,`\r
...`).trim()),t}function bC(e){const t=pp(e,"_CITATION");return t.includes("@")?t:""}function yC(e){const n=Object.assign({"../../../rageval/rageval/metrics/__init__.py":UA,"../../../rageval/rageval/metrics/answer_correctness/_answer_accuracy.py":jA,"../../../rageval/rageval/metrics/answer_correctness/_answer_bert_score.py":WA,"../../../rageval/rageval/metrics/answer_correctness/_answer_bleu.py":GA,"../../../rageval/rageval/metrics/answer_correctness/_answer_chrf.py":VA,"../../../rageval/rageval/metrics/answer_correctness/_answer_claim_recall.py":YA,"../../../rageval/rageval/metrics/answer_correctness/_answer_disambig_f1.py":qA,"../../../rageval/rageval/metrics/answer_correctness/_answer_edit_distance.py":QA,"../../../rageval/rageval/metrics/answer_correctness/_answer_exact_match.py":$A,"../../../rageval/rageval/metrics/answer_correctness/_answer_f1.py":KA,"../../../rageval/rageval/metrics/answer_correctness/_answer_lcs_ratio.py":XA,"../../../rageval/rageval/metrics/answer_correctness/_answer_relevancy.py":JA,"../../../rageval/rageval/metrics/answer_correctness/_answer_rouge_correctness.py":ZA,"../../../rageval/rageval/metrics/answer_correctness/_answer_ter.py":eC,"../../../rageval/rageval/metrics/answer_groundedness/_answer_citation_precision.py":tC,"../../../rageval/rageval/metrics/answer_groundedness/_answer_citation_recall.py":nC,"../../../rageval/rageval/metrics/answer_groundedness/_claim_faithfulness.py":rC,"../../../rageval/rageval/metrics/answer_groundedness/_context_reject_rate.py":iC,"../../../rageval/rageval/metrics/answer_informativeness/_answer_distinct12.py":sC,"../../../rageval/rageval/metrics/answer_informativeness/_claim_num.py":aC,"../../../rageval/rageval/metrics/answer_informativeness/_pairwise_accuracy.py":oC,"../../../rageval/rageval/metrics/answer_informativeness/_repetitiveness.py":lC,"../../../rageval/rageval/metrics/answer_informativeness/_text_length.py":uC,"../../../rageval/rageval/metrics/base.py":cC,"../../../rageval/rageval/metrics/context_adequacy/_context_recall.py":dC,"../../../rageval/rageval/metrics/context_relevance/_accuracy.py":fC,"../../../rageval/rageval/metrics/context_relevance/_hit_rate.py":hC,"../../../rageval/rageval/metrics/context_relevance/_mrr.py":pC,"../../../rageval/rageval/metrics/context_relevance/_ndcg.py":mC})[e],r=gC(n),i=_C(n),s=bC(n);return{description:r,kwArgs:i,citation:s}}const ac=async e=>{try{return await Promise.all(Object.entries(e).map(async([n,r])=>{const i=await yC(n);return{name:r,description:i.description,kwargs:i.kwArgs,citation:i.citation,path:`https://github.com/gomate-community/rageval/tree/main/rageval/${n.replace("../../../rageval/rageval/","")}`}}))}catch(t){return console.error("Error constructing metrics:",t),[]}},EC={"../../../rageval/rageval/metrics/answer_correctness/_answer_rouge_correctness.py":"Rouge","../../../rageval/rageval/metrics/answer_correctness/_answer_accuracy.py":"Accuracy","../../../rageval/rageval/metrics/answer_correctness/_answer_f1.py":"F1","../../../rageval/rageval/metrics/answer_correctness/_answer_bert_score.py":"BertScore","../../../rageval/rageval/metrics/answer_correctness/_answer_bleu.py":"Bleu","../../../rageval/rageval/metrics/answer_correctness/_answer_chrf.py":"Chrf","../../../rageval/rageval/metrics/answer_correctness/_answer_edit_distance.py":"EditDistance","../../../rageval/rageval/metrics/answer_correctness/_answer_exact_match.py":"ExactMatch","../../../rageval/rageval/metrics/answer_correctness/_answer_claim_recall.py":"ClaimRecall","../../../rageval/rageval/metrics/answer_correctness/_answer_disambig_f1.py":"DisambigF1","../../../rageval/rageval/metrics/answer_correctness/_answer_lcs_ratio.py":"LcsRatio","../../../rageval/rageval/metrics/answer_correctness/_answer_ter.py":"Ter"},xC=async()=>await ac(EC),TC={"../../../rageval/rageval/metrics/answer_groundedness/_answer_citation_precision.py":"CitationPrecision","../../../rageval/rageval/metrics/answer_groundedness/_answer_citation_recall.py":"CitationRecall","../../../rageval/rageval/metrics/answer_groundedness/_context_reject_rate.py":"ContextRejectRate"},wC=async()=>await ac(TC),vC={"../../../rageval/rageval/metrics/answer_informativeness/_text_length.py":"TextLength","../../../rageval/rageval/metrics/answer_informativeness/_answer_distinct12.py":"AnswerDistinct"},AC=async()=>await ac(vC),CC={"../../../rageval/rageval/metrics/context_adequacy/_context_recall.py":"TextLength"},SC=async()=>await ac(CC),mp=async()=>{try{const[e,t,n,r]=await Promise.all([xC(),wC(),AC(),SC()]);return{answer_correctness:e,answer_groundedness:t,answer_informativeness:n,context_adequacy:r}}catch(e){return console.error("Error loading metrics:",e),{answer_correctness:[],answer_groundedness:[],answer_informativeness:[],context_adequacy:[]}}},Ky=G.createContext(),kC=({children:e})=>{const[t,n]=G.useState(null),r=async()=>{const{answer_correctness:i,answer_groundedness:s,answer_informativeness:a,context_adequacy:o}=await mp(),l=[...i.map(u=>({...u,category:"answer_correctness"})),...s.map(u=>({...u,category:"answer_groundedness"})),...a.map(u=>({...u,category:"answer_informativeness"})),...o.map(u=>({...u,category:"context_adequacy"}))];n(l)};return G.useEffect(()=>{t||r()},[t]),C.jsx(Ky.Provider,{value:t,children:e})},IC=()=>G.useContext(Ky);/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jf.apply(this,arguments)}var xu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xu||(xu={}));function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Vg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Vg||(Vg={}));function RC(e,t,n){return n===void 0&&(n="/"),LC(e,t,n,!1)}function LC(e,t,n,r){let i=typeof t=="string"?wo(t):t,s=eE(i.pathname||"/",n);if(s==null)return null;let a=Jy(e);NC(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=WC(s);o=UC(a[l],u,r)}return o}function Jy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ii([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jy(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:HC(u,s.index),routesMeta:c})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Zy(s.path))i(s,a,l)}),t}function Zy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Zy(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function NC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PC=/^:[\w-]+$/,OC=3,DC=2,MC=1,FC=10,BC=-2,Yg=e=>e==="*";function HC(e,t){let n=e.split("/"),r=n.length;return n.some(Yg)&&(r+=BC),t&&(r+=DC),n.filter(i=>!Yg(i)).reduce((i,s)=>i+(PC.test(s)?OC:s===""?MC:FC),r)}function zC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function UC(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=qg({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=qg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:ii([s,d.pathname]),pathnameBase:qC(ii([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=ii([s,d.pathnameBase]))}return a}function qg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=jC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let y=o[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[d];return m&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function jC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Xy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function WC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function eE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function GC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?wo(e):e;return{pathname:n?n.startsWith("/")?n:VC(n,t):t,search:QC(r),hash:$C(i)}}function VC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _d(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tE(e,t){let n=YC(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nE(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=wo(e):(i=jf({},e),Ct(!i.pathname||!i.pathname.includes("?"),_d("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),_d("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),_d("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}o=d>=0?t[d]:"/"}let l=GC(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ii=e=>e.join("/").replace(/\/\/+/g,"/"),qC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$C=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function KC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rE=["post","put","patch","delete"];new Set(rE);const XC=["get",...rE];new Set(XC);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oo.apply(this,arguments)}const oc=G.createContext(null),iE=G.createContext(null),hi=G.createContext(null),lc=G.createContext(null),pi=G.createContext({outlet:null,matches:[],isDataRoute:!1}),sE=G.createContext(null);function JC(e,t){let{relative:n}=t===void 0?{}:t;vo()||Ct(!1);let{basename:r,navigator:i}=G.useContext(hi),{hash:s,pathname:a,search:o}=uc(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:ii([r,a])),i.createHref({pathname:l,search:o,hash:s})}function vo(){return G.useContext(lc)!=null}function Vi(){return vo()||Ct(!1),G.useContext(lc).location}function aE(e){G.useContext(hi).static||G.useLayoutEffect(e)}function gp(){let{isDataRoute:e}=G.useContext(pi);return e?dS():ZC()}function ZC(){vo()||Ct(!1);let e=G.useContext(oc),{basename:t,future:n,navigator:r}=G.useContext(hi),{matches:i}=G.useContext(pi),{pathname:s}=Vi(),a=JSON.stringify(tE(i,n.v7_relativeSplatPath)),o=G.useRef(!1);return aE(()=>{o.current=!0}),G.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=nE(u,JSON.parse(a),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ii([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,a,s,e])}function _p(){let{matches:e}=G.useContext(pi),t=e[e.length-1];return t?t.params:{}}function uc(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=G.useContext(hi),{matches:i}=G.useContext(pi),{pathname:s}=Vi(),a=JSON.stringify(tE(i,r.v7_relativeSplatPath));return G.useMemo(()=>nE(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function eS(e,t){return tS(e,t)}function tS(e,t,n,r){vo()||Ct(!1);let{navigator:i}=G.useContext(hi),{matches:s}=G.useContext(pi),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Vi(),c;if(t){var d;let w=typeof t=="string"?wo(t):t;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||Ct(!1),c=w}else c=u;let p=c.pathname||"/",m=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=RC(e,{pathname:m}),y=aS(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:ii([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:ii([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&y?G.createElement(lc.Provider,{value:{location:oo({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:xu.Pop}},y):y}function nS(){let e=cS(),t=KC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:i},n):null,s)}const rS=G.createElement(nS,null);class iS extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?G.createElement(pi.Provider,{value:this.props.routeContext},G.createElement(sE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sS(e){let{routeContext:t,match:n,children:r}=e,i=G.useContext(oc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),G.createElement(pi.Provider,{value:t},r)}function aS(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||Ct(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:m}=n,g=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,p)=>{let m,g=!1,y=null,w=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||rS,l&&(u<0&&p===0?(fS("route-fallback",!1),g=!0,w=null):u===p&&(g=!0,w=d.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,p+1)),E=()=>{let T;return m?T=y:g?T=w:d.route.Component?T=G.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=c,G.createElement(sS,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?G.createElement(iS,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var oE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oE||{}),Tu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tu||{});function oS(e){let t=G.useContext(oc);return t||Ct(!1),t}function lS(e){let t=G.useContext(iE);return t||Ct(!1),t}function uS(e){let t=G.useContext(pi);return t||Ct(!1),t}function lE(e){let t=uS(),n=t.matches[t.matches.length-1];return n.route.id||Ct(!1),n.route.id}function cS(){var e;let t=G.useContext(sE),n=lS(Tu.UseRouteError),r=lE(Tu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function dS(){let{router:e}=oS(oE.UseNavigateStable),t=lE(Tu.UseNavigateStable),n=G.useRef(!1);return aE(()=>{n.current=!0}),G.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,oo({fromRouteId:t},s)))},[e,t])}const Qg={};function fS(e,t,n){!t&&!Qg[e]&&(Qg[e]=!0)}const $g={};function hS(e,t){$g[t]||($g[t]=!0,console.warn(t))}const Ki=(e,t,n)=>hS(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function pS(e,t){e!=null&&e.v7_startTransition||Ki("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&(!t||!t.v7_relativeSplatPath)&&Ki("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||Ki("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||Ki("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||Ki("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||Ki("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function cn(e){Ct(!1)}function mS(e){let{basename:t="/",children:n=null,location:r,navigationType:i=xu.Pop,navigator:s,static:a=!1,future:o}=e;vo()&&Ct(!1);let l=t.replace(/^\/*/,"/"),u=G.useMemo(()=>({basename:l,navigator:s,static:a,future:oo({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=wo(r));let{pathname:c="/",search:d="",hash:p="",state:m=null,key:g="default"}=r,y=G.useMemo(()=>{let w=eE(c,l);return w==null?null:{location:{pathname:w,search:d,hash:p,state:m,key:g},navigationType:i}},[l,c,d,p,m,g,i]);return y==null?null:G.createElement(hi.Provider,{value:u},G.createElement(lc.Provider,{children:n,value:y}))}function gS(e){let{children:t,location:n}=e;return eS(Wf(t),n)}new Promise(()=>{});function Wf(e,t){t===void 0&&(t=[]);let n=[];return G.Children.forEach(e,(r,i)=>{if(!G.isValidElement(r))return;let s=[...t,i];if(r.type===G.Fragment){n.push.apply(n,Wf(r.props.children,s));return}r.type!==cn&&Ct(!1),!r.props.index||!r.props.children||Ct(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Wf(r.props.children,s)),n.push(a)}),n}/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wu.apply(this,arguments)}var hs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hs||(hs={}));const Kg="popstate";function _S(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return Gf("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uE(i)}return xS(t,n,null,e)}function bp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yS(){return Math.random().toString(36).substr(2,8)}function Xg(e,t){return{usr:e.state,key:e.key,idx:t}}function Gf(e,t,n,r){return n===void 0&&(n=null),wu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ES(t):t,{state:n,key:t&&t.key||r||yS()})}function uE(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ES(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=hs.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(wu({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=hs.Pop;let w=c(),_=w==null?null:w-u;u=w,l&&l({action:o,location:y.location,delta:_})}function p(w,_){o=hs.Push;let E=Gf(y.location,w,_);n&&n(E,w),u=c()+1;let T=Xg(E,u),P=y.createHref(E);try{a.pushState(T,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}s&&l&&l({action:o,location:y.location,delta:1})}function m(w,_){o=hs.Replace;let E=Gf(y.location,w,_);n&&n(E,w),u=c();let T=Xg(E,u),P=y.createHref(E);a.replaceState(T,"",P),s&&l&&l({action:o,location:y.location,delta:0})}function g(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof w=="string"?w:uE(w);return E=E.replace(/ $/,"%20"),bp(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let y={get action(){return o},get location(){return e(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Kg,d),l=w,()=>{i.removeEventListener(Kg,d),l=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let _=g(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(w){return a.go(w)}};return y}var Jg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jg||(Jg={}));function Zg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=TS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let y=o[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[d];return m&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function TS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),bS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const cE=["post","put","patch","delete"];new Set(cE);const wS=["get",...cE];new Set(wS);/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Au.apply(this,arguments)}function dE(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function vS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AS(e,t){return e.button===0&&(!t||t==="_self")&&!vS(e)}const CS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],kS="6";try{window.__reactRouterVersion=kS}catch{}const IS=G.createContext({isTransitioning:!1}),RS="startTransition",e0=Sw[RS];function LS(e){let{basename:t,children:n,future:r,window:i}=e,s=G.useRef();s.current==null&&(s.current=_S({window:i,v5Compat:!0}));let a=s.current,[o,l]=G.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=G.useCallback(d=>{u&&e0?e0(()=>l(d)):l(d)},[l,u]);return G.useLayoutEffect(()=>a.listen(c),[a,c]),G.useEffect(()=>pS(r),[r]),G.createElement(mS,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const NS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fE=G.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,p=dE(t,CS),{basename:m}=G.useContext(hi),g,y=!1;if(typeof u=="string"&&PS.test(u)&&(g=u,NS))try{let T=new URL(window.location.href),P=u.startsWith("//")?new URL(T.protocol+u):new URL(u),O=vu(P.pathname,m);P.origin===T.origin&&O!=null?u=O+P.search+P.hash:y=!0}catch{}let w=JC(u,{relative:i}),_=DS(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:d});function E(T){r&&r(T),T.defaultPrevented||_(T)}return G.createElement("a",Au({},p,{href:g||w,onClick:y||s?r:E,ref:n,target:l}))}),_a=G.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:c}=t,d=dE(t,SS),p=uc(l,{relative:d.relative}),m=Vi(),g=G.useContext(iE),{navigator:y,basename:w}=G.useContext(hi),_=g!=null&&MS(p)&&u===!0,E=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,T=m.pathname,P=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(T=T.toLowerCase(),P=P?P.toLowerCase():null,E=E.toLowerCase()),P&&w&&(P=vu(P,w)||P);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let R=T===E||!a&&T.startsWith(E)&&T.charAt(O)==="/",H=P!=null&&(P===E||!a&&P.startsWith(E)&&P.charAt(E.length)==="/"),z={isActive:R,isPending:H,isTransitioning:_},K=R?r:void 0,F;typeof s=="function"?F=s(z):F=[s,R?"active":null,H?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(z):o;return G.createElement(fE,Au({},d,{"aria-current":K,className:F,ref:n,style:q,to:l,viewTransition:u}),typeof c=="function"?c(z):c)});var Vf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vf||(Vf={}));var t0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(t0||(t0={}));function OS(e){let t=G.useContext(oc);return t||bp(!1),t}function DS(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,l=gp(),u=Vi(),c=uc(e,{relative:a});return G.useCallback(d=>{if(AS(d,n)){d.preventDefault();let p=r!==void 0?r:Gg(u)===Gg(c);l(e,{replace:p,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,r,i,n,e,s,a,o])}function MS(e,t){t===void 0&&(t={});let n=G.useContext(IS);n==null&&bp(!1);let{basename:r}=OS(Vf.useViewTransitionState),i=uc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=vu(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=vu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zg(i.pathname,a)!=null||Zg(i.pathname,s)!=null}const FS=`# Rageval-Studio\r
\r
Rageval-Studio is the front-end interface for the [Rageval](https://github.com/gomate-community/rageval), allowing users to view various metrics, datasets, and evaluation results in the project. The interface also supports real-time dataset uploads for evaluation, enabling users to quickly receive feedback on their data.\r
\r
## Installation\r
\r
Follow the steps below to set up and run the Rageval Studio.\r
\r
### Prerequisites\r
\r
- **Node.js**: Version 22.x or higher\r
- **npm**: Version 10.x or higher\r
\r
> **Note:** Ensure that you have the required versions of Node.js and npm installed. You can download the latest version of Node.js from [nodejs.org](https://nodejs.org/), which comes bundled with npm.\r
\r
### Installation Steps\r
\r
1. **Clone the Repository**\r
\r
   Clone the project repository to your local machine using Git:\r
\r
   \`\`\`bash\r
   git clone https://github.com/gomate-community/RAGEval-Studio --recursive\r
   \`\`\`\r
2. **Navigate to the Project Directory**\r
\r
   \`\`\`bash\r
   cd RAGEval-Studio/\r
   \`\`\`\r
3. **Install Dependencies**\r
\r
   Install all the necessary packages required for the project:\r
\r
   \`\`\`bash\r
   npm install\r
   \`\`\`\r
\r
   This may take a few minutes.\r
\r
### Running the Development Server\r
\r
To start the frontend development server with hot reloading, run:\r
\r
\`\`\`bash\r
npm run dev\r
\`\`\`\r
\r
This will launch the Vite development server. By default, the app will be available at [http://localhost:5173](http://localhost:5173), but the port may vary. Check the terminal output to confirm the running port.\r
\r
## Sample Data\r
\r
Sample datasets that alreadly processed is located in the \`public\` directory, the summary of existing datasets is located in the \`public/summary\` directory. You can use them in \`/processed data\` page.\r
\r
\`\`\`\r
RAGEval-Studio/\r
 public/\r
|   summary/\r
      wikieval.json\r
      ...\r
    wikieval.json\r
    ...\r
 src/\r
 ...\r
\`\`\`\r
\r
## Linting and Formatting\r
\r
To check and fix the code syntax and formatting issues, run the following command:\r
\r
\`\`\`bash\r
npx eslint . --fix\r
\`\`\`\r
\r
This will automatically fix any linting errors in your codebase.\r
`;function n0(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const a=n.slice(i,r).trim();(a||!s)&&t.push(a),i=r+1,r=n.indexOf(",",i)}return t}function hE(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const BS=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HS=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zS={};function r0(e,t){return((t||zS).jsx?HS:BS).test(e)}const US=/[ \t\n\f\r]/g;function jS(e){return typeof e=="object"?e.type==="text"?i0(e.value):!1:i0(e)}function i0(e){return e.replace(US,"")===""}class Ao{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}Ao.prototype.property={};Ao.prototype.normal={};Ao.prototype.space=null;function pE(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Ao(n,r,t)}function lo(e){return e.toLowerCase()}class Mn{constructor(t,n){this.property=t,this.attribute=n}}Mn.prototype.space=null;Mn.prototype.boolean=!1;Mn.prototype.booleanish=!1;Mn.prototype.overloadedBoolean=!1;Mn.prototype.number=!1;Mn.prototype.commaSeparated=!1;Mn.prototype.spaceSeparated=!1;Mn.prototype.commaOrSpaceSeparated=!1;Mn.prototype.mustUseProperty=!1;Mn.prototype.defined=!1;let WS=0;const Re=Yi(),xt=Yi(),mE=Yi(),ee=Yi(),et=Yi(),Ts=Yi(),dn=Yi();function Yi(){return 2**++WS}const Yf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Re,booleanish:xt,commaOrSpaceSeparated:dn,commaSeparated:Ts,number:ee,overloadedBoolean:mE,spaceSeparated:et},Symbol.toStringTag,{value:"Module"})),bd=Object.keys(Yf);class yp extends Mn{constructor(t,n,r,i){let s=-1;if(super(t,n),s0(this,"space",i),typeof r=="number")for(;++s<bd.length;){const a=bd[s];s0(this,bd[s],(r&Yf[a])===Yf[a])}}}yp.prototype.defined=!0;function s0(e,t,n){n&&(e[t]=n)}const GS={}.hasOwnProperty;function js(e){const t={},n={};let r;for(r in e.properties)if(GS.call(e.properties,r)){const i=e.properties[r],s=new yp(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[lo(r)]=r,n[lo(s.attribute)]=r}return new Ao(t,n,e.space)}const gE=js({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),_E=js({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function bE(e,t){return t in e?e[t]:t}function yE(e,t){return bE(e,t.toLowerCase())}const EE=js({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:yE,properties:{xmlns:null,xmlnsXLink:null}}),xE=js({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:xt,ariaAutoComplete:null,ariaBusy:xt,ariaChecked:xt,ariaColCount:ee,ariaColIndex:ee,ariaColSpan:ee,ariaControls:et,ariaCurrent:null,ariaDescribedBy:et,ariaDetails:null,ariaDisabled:xt,ariaDropEffect:et,ariaErrorMessage:null,ariaExpanded:xt,ariaFlowTo:et,ariaGrabbed:xt,ariaHasPopup:null,ariaHidden:xt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:et,ariaLevel:ee,ariaLive:null,ariaModal:xt,ariaMultiLine:xt,ariaMultiSelectable:xt,ariaOrientation:null,ariaOwns:et,ariaPlaceholder:null,ariaPosInSet:ee,ariaPressed:xt,ariaReadOnly:xt,ariaRelevant:null,ariaRequired:xt,ariaRoleDescription:et,ariaRowCount:ee,ariaRowIndex:ee,ariaRowSpan:ee,ariaSelected:xt,ariaSetSize:ee,ariaSort:null,ariaValueMax:ee,ariaValueMin:ee,ariaValueNow:ee,ariaValueText:null,role:null}}),VS=js({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:yE,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ts,acceptCharset:et,accessKey:et,action:null,allow:null,allowFullScreen:Re,allowPaymentRequest:Re,allowUserMedia:Re,alt:null,as:null,async:Re,autoCapitalize:null,autoComplete:et,autoFocus:Re,autoPlay:Re,blocking:et,capture:null,charSet:null,checked:Re,cite:null,className:et,cols:ee,colSpan:null,content:null,contentEditable:xt,controls:Re,controlsList:et,coords:ee|Ts,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Re,defer:Re,dir:null,dirName:null,disabled:Re,download:mE,draggable:xt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Re,formTarget:null,headers:et,height:ee,hidden:Re,high:ee,href:null,hrefLang:null,htmlFor:et,httpEquiv:et,id:null,imageSizes:null,imageSrcSet:null,inert:Re,inputMode:null,integrity:null,is:null,isMap:Re,itemId:null,itemProp:et,itemRef:et,itemScope:Re,itemType:et,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Re,low:ee,manifest:null,max:null,maxLength:ee,media:null,method:null,min:null,minLength:ee,multiple:Re,muted:Re,name:null,nonce:null,noModule:Re,noValidate:Re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Re,optimum:ee,pattern:null,ping:et,placeholder:null,playsInline:Re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Re,referrerPolicy:null,rel:et,required:Re,reversed:Re,rows:ee,rowSpan:ee,sandbox:et,scope:null,scoped:Re,seamless:Re,selected:Re,shadowRootClonable:Re,shadowRootDelegatesFocus:Re,shadowRootMode:null,shape:null,size:ee,sizes:null,slot:null,span:ee,spellCheck:xt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ee,step:null,style:null,tabIndex:ee,target:null,title:null,translate:null,type:null,typeMustMatch:Re,useMap:null,value:xt,width:ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:et,axis:null,background:null,bgColor:null,border:ee,borderColor:null,bottomMargin:ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Re,declare:Re,event:null,face:null,frame:null,frameBorder:null,hSpace:ee,leftMargin:ee,link:null,longDesc:null,lowSrc:null,marginHeight:ee,marginWidth:ee,noResize:Re,noHref:Re,noShade:Re,noWrap:Re,object:null,profile:null,prompt:null,rev:null,rightMargin:ee,rules:null,scheme:null,scrolling:xt,standby:null,summary:null,text:null,topMargin:ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Re,disableRemotePlayback:Re,prefix:null,property:null,results:ee,security:null,unselectable:null}}),YS=js({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:bE,properties:{about:dn,accentHeight:ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ee,amplitude:ee,arabicForm:null,ascent:ee,attributeName:null,attributeType:null,azimuth:ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ee,by:null,calcMode:null,capHeight:ee,className:et,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ee,diffuseConstant:ee,direction:null,display:null,dur:null,divisor:ee,dominantBaseline:null,download:Re,dx:null,dy:null,edgeMode:null,editable:null,elevation:ee,enableBackground:null,end:null,event:null,exponent:ee,externalResourcesRequired:null,fill:null,fillOpacity:ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ts,g2:Ts,glyphName:Ts,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ee,horizOriginX:ee,horizOriginY:ee,id:null,ideographic:ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ee,k:ee,k1:ee,k2:ee,k3:ee,k4:ee,kernelMatrix:dn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ee,overlineThickness:ee,paintOrder:null,panose1:null,path:null,pathLength:ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:et,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ee,pointsAtY:ee,pointsAtZ:ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:dn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:dn,rev:dn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:dn,requiredFeatures:dn,requiredFonts:dn,requiredFormats:dn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ee,specularExponent:ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ee,strikethroughThickness:ee,string:null,stroke:null,strokeDashArray:dn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ee,strokeOpacity:ee,strokeWidth:null,style:null,surfaceScale:ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:dn,tabIndex:ee,tableValues:null,target:null,targetX:ee,targetY:ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:dn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ee,underlineThickness:ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ee,values:null,vAlphabetic:ee,vMathematical:ee,vectorEffect:null,vHanging:ee,vIdeographic:ee,version:null,vertAdvY:ee,vertOriginX:ee,vertOriginY:ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),qS=/^data[-\w.:]+$/i,a0=/-[a-z]/g,QS=/[A-Z]/g;function cc(e,t){const n=lo(t);let r=t,i=Mn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&qS.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(a0,KS);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!a0.test(s)){let a=s.replace(QS,$S);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=yp}return new i(r,t)}function $S(e){return"-"+e.toLowerCase()}function KS(e){return e.charAt(1).toUpperCase()}const XS={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Co=pE([_E,gE,EE,xE,VS],"html"),mi=pE([_E,gE,EE,xE,YS],"svg");function o0(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function TE(e){return e.join(" ").trim()}var wE={},l0=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,JS=/\n/g,ZS=/^\s*/,ek=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,tk=/^:\s*/,nk=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,rk=/^[;\s]*/,ik=/^\s+|\s+$/g,sk=`
`,u0="/",c0="*",Si="",ak="comment",ok="declaration",lk=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var y=g.match(JS);y&&(n+=y.length);var w=g.lastIndexOf(sk);r=~w?g.length-w:r+g.length}function s(){var g={line:n,column:r};return function(y){return y.position=new a(g),u(),y}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(g){var y=new Error(t.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(g){var y=g.exec(e);if(y){var w=y[0];return i(w),e=e.slice(w.length),y}}function u(){l(ZS)}function c(g){var y;for(g=g||[];y=d();)y!==!1&&g.push(y);return g}function d(){var g=s();if(!(u0!=e.charAt(0)||c0!=e.charAt(1))){for(var y=2;Si!=e.charAt(y)&&(c0!=e.charAt(y)||u0!=e.charAt(y+1));)++y;if(y+=2,Si===e.charAt(y-1))return o("End of comment missing");var w=e.slice(2,y-2);return r+=2,i(w),e=e.slice(y),r+=2,g({type:ak,comment:w})}}function p(){var g=s(),y=l(ek);if(y){if(d(),!l(tk))return o("property missing ':'");var w=l(nk),_=g({type:ok,property:d0(y[0].replace(l0,Si)),value:w?d0(w[0].replace(l0,Si)):Si});return l(rk),_}}function m(){var g=[];c(g);for(var y;y=p();)y!==!1&&(g.push(y),c(g));return g}return u(),m()};function d0(e){return e?e.replace(ik,Si):Si}var uk=qd&&qd.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wE,"__esModule",{value:!0});var f0=wE.default=dk,ck=uk(lk);function dk(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,ck.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?t(a,o,s):o&&(n=n||{},n[a]=o)}}),n}const fk=f0.default||f0,dc=vE("end"),ir=vE("start");function vE(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function hk(e){const t=ir(e),n=dc(e);if(t&&n)return{start:t,end:n}}function Na(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?h0(e.position):"start"in e||"end"in e?h0(e):"line"in e||"column"in e?qf(e):""}function qf(e){return p0(e&&e.line)+":"+p0(e&&e.column)}function h0(e){return qf(e&&e.start)+"-"+qf(e&&e.end)}function p0(e){return e&&typeof e=="number"?e:1}class Wt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=Na(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Wt.prototype.file="";Wt.prototype.name="";Wt.prototype.reason="";Wt.prototype.message="";Wt.prototype.stack="";Wt.prototype.column=void 0;Wt.prototype.line=void 0;Wt.prototype.ancestors=void 0;Wt.prototype.cause=void 0;Wt.prototype.fatal=void 0;Wt.prototype.place=void 0;Wt.prototype.ruleId=void 0;Wt.prototype.source=void 0;const Ep={}.hasOwnProperty,pk=new Map,mk=/[A-Z]/g,gk=/-([a-z])/g,_k=new Set(["table","tbody","thead","tfoot","tr"]),bk=new Set(["td","th"]),AE="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function yk(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Sk(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Ck(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?mi:Co,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=CE(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function CE(e,t,n){if(t.type==="element")return Ek(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return xk(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return wk(e,t,n);if(t.type==="mdxjsEsm")return Tk(e,t);if(t.type==="root")return vk(e,t,n);if(t.type==="text")return Ak(e,t)}function Ek(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=mi,e.schema=i),e.ancestors.push(t);const s=kE(e,t.tagName,!1),a=kk(e,t);let o=Tp(e,t);return _k.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!jS(l):!0})),SE(e,a,s,t),xp(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function xk(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}uo(e,t.position)}function Tk(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);uo(e,t.position)}function wk(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=mi,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:kE(e,t.name,!0),a=Ik(e,t),o=Tp(e,t);return SE(e,a,s,t),xp(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function vk(e,t,n){const r={};return xp(r,Tp(e,t)),e.create(t,e.Fragment,r,n)}function Ak(e,t){return t.value}function SE(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function xp(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Ck(e,t,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:t;return o?u(s,a,o):u(s,a)}}function Sk(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),l=ir(r);return t(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function kk(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Ep.call(t.properties,i)){const s=Rk(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&bk.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Ik(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else uo(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else uo(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Tp(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:pk;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const o=CE(e,s,a);o!==void 0&&n.push(o)}return n}function Rk(e,t,n){const r=cc(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?hE(n):TE(n)),r.property==="style"){let i=typeof n=="object"?n:Lk(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Nk(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?XS[r.property]||r.property:r.attribute,n]}}function Lk(e,t){const n={};try{fk(t,r)}catch(i){if(!e.ignoreInvalidStyle){const s=i,a=new Wt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=AE+"#cannot-parse-style-attribute",a}}return n;function r(i,s){let a=i;a.slice(0,2)!=="--"&&(a.slice(0,4)==="-ms-"&&(a="ms-"+a.slice(4)),a=a.replace(gk,Ok)),n[a]=s}}function kE(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=r0(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=r0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Ep.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);uo(e)}function uo(e,t){const n=new Wt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=AE+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Nk(e){const t={};let n;for(n in e)Ep.call(e,n)&&(t[Pk(n)]=e[n]);return t}function Pk(e){let t=e.replace(mk,Dk);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Ok(e,t){return t.toUpperCase()}function Dk(e){return"-"+e.toLowerCase()}const yd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Mk={};function wp(e,t){const n=t||Mk,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return IE(e,r,i)}function IE(e,t,n){if(Fk(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return m0(e.children,t,n)}return Array.isArray(e)?m0(e,t,n):""}function m0(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=IE(e[i],t,n);return r.join("")}function Fk(e){return!!(e&&typeof e=="object")}const g0=document.createElement("i");function vp(e){const t="&"+e+";";g0.innerHTML=t;const n=g0.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function yn(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Rn(e,t){return e.length>0?(yn(e,e.length,0,t),e):t}const _0={}.hasOwnProperty;function RE(e){const t={};let n=-1;for(;++n<e.length;)Bk(t,e[n]);return t}function Bk(e,t){let n;for(n in t){const i=(_0.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){_0.call(i,a)||(i[a]=[]);const o=s[a];Hk(i[a],Array.isArray(o)?o:o?[o]:[])}}}function Hk(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);yn(e,0,0,r)}function LE(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Gn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qt=gi(/[A-Za-z]/),Ut=gi(/[\dA-Za-z]/),zk=gi(/[#-'*+\--9=?A-Z^-~]/);function Cu(e){return e!==null&&(e<32||e===127)}const Qf=gi(/\d/),Uk=gi(/[\dA-Fa-f]/),jk=gi(/[!-/:-@[-`{-~]/);function ye(e){return e!==null&&e<-2}function Ze(e){return e!==null&&(e<0||e===32)}function Be(e){return e===-2||e===-1||e===32}const fc=gi(/\p{P}|\p{S}/u),Ui=gi(/\s/);function gi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ws(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Ut(e.charCodeAt(n+1))&&Ut(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ge(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return Be(l)?(e.enter(n),o(l)):t(l)}function o(l){return Be(l)&&s++<i?(e.consume(l),o):(e.exit(n),t(l))}}const Wk={tokenize:Gk};function Gk(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Ge(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ye(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const Vk={tokenize:Yk},b0={tokenize:qk};function Yk(e){const t=this,n=[];let r=0,i,s,a;return o;function o(T){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,l,u)(T)}return u(T)}function l(T){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&E();const P=t.events.length;let O=P,R;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){R=t.events[O][1].end;break}_(r);let H=P;for(;H<t.events.length;)t.events[H][1].end={...R},H++;return yn(t.events,O+1,0,t.events.slice(P)),t.events.length=H,u(T)}return o(T)}function u(T){if(r===n.length){if(!i)return p(T);if(i.currentConstruct&&i.currentConstruct.concrete)return g(T);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(b0,c,d)(T)}function c(T){return i&&E(),_(r),p(T)}function d(T){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(T)}function p(T){return t.containerState={},e.attempt(b0,m,g)(T)}function m(T){return r++,n.push([t.currentConstruct,t.containerState]),p(T)}function g(T){if(T===null){i&&E(),_(0),e.consume(T);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),y(T)}function y(T){if(T===null){w(e.exit("chunkFlow"),!0),_(0),e.consume(T);return}return ye(T)?(e.consume(T),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(T),y)}function w(T,P){const O=t.sliceStream(T);if(P&&O.push(null),T.previous=s,s&&(s.next=T),s=T,i.defineSkip(T.start),i.write(O),t.parser.lazy[T.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<a&&(!i.events[R][1].end||i.events[R][1].end.offset>a))return;const H=t.events.length;let z=H,K,F;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(K){F=t.events[z][1].end;break}K=!0}for(_(r),R=H;R<t.events.length;)t.events[R][1].end={...F},R++;yn(t.events,z+1,0,t.events.slice(H)),t.events.length=R}}function _(T){let P=n.length;for(;P-- >T;){const O=n[P];t.containerState=O[1],O[0].exit.call(t,e)}n.length=T}function E(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function qk(e,t,n){return Ge(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ns(e){if(e===null||Ze(e)||Ui(e))return 1;if(fc(e))return 2}function hc(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const $f={name:"attention",resolveAll:Qk,tokenize:$k};function Qk(e,t){let n=-1,r,i,s,a,o,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},p={...e[n][1].start};y0(d,-l),y0(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Rn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Rn(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=Rn(u,hc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Rn(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Rn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,yn(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function $k(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ns(r);let s;return a;function a(l){return s=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===s)return e.consume(l),o;const u=e.exit("attentionSequence"),c=Ns(l),d=!c||c===2&&i||n.includes(l),p=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!p)),u._close=!!(s===42?p:p&&(c||!d)),t(l)}}function y0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Kk={name:"autolink",tokenize:Xk};function Xk(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(m){return Qt(m)?(e.consume(m),a):m===64?n(m):u(m)}function a(m){return m===43||m===45||m===46||Ut(m)?(r=1,o(m)):u(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ut(m))&&r++<32?(e.consume(m),o):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Cu(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),c):zk(m)?(e.consume(m),u):n(m)}function c(m){return Ut(m)?d(m):n(m)}function d(m){return m===46?(e.consume(m),r=0,c):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Ut(m))&&r++<63){const g=m===45?p:d;return e.consume(m),g}return n(m)}}const So={partial:!0,tokenize:Jk};function Jk(e,t,n){return r;function r(s){return Be(s)?Ge(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ye(s)?t(s):n(s)}}const NE={continuation:{tokenize:e3},exit:t3,name:"blockQuote",tokenize:Zk};function Zk(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Be(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function e3(e,t,n){const r=this;return i;function i(a){return Be(a)?Ge(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(NE,t,n)(a)}}function t3(e){e.exit("blockQuote")}const PE={name:"characterEscape",tokenize:n3};function n3(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return jk(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const OE={name:"characterReference",tokenize:r3};function r3(e,t,n){const r=this;let i=0,s,a;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=Ut,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=Uk,c):(e.enter("characterReferenceValue"),s=7,a=Qf,c(d))}function c(d){if(d===59&&i){const p=e.exit("characterReferenceValue");return a===Ut&&!vp(r.sliceSerialize(p))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(d)&&i++<s?(e.consume(d),c):n(d)}}const E0={partial:!0,tokenize:s3},x0={concrete:!0,name:"codeFenced",tokenize:i3};function i3(e,t,n){const r=this,i={partial:!0,tokenize:O};let s=0,a=0,o;return l;function l(R){return u(R)}function u(R){const H=r.events[r.events.length-1];return s=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,o=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(R)}function c(R){return R===o?(a++,e.consume(R),c):a<3?n(R):(e.exit("codeFencedFenceSequence"),Be(R)?Ge(e,d,"whitespace")(R):d(R))}function d(R){return R===null||ye(R)?(e.exit("codeFencedFence"),r.interrupt?t(R):e.check(E0,y,P)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(R))}function p(R){return R===null||ye(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(R)):Be(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ge(e,m,"whitespace")(R)):R===96&&R===o?n(R):(e.consume(R),p)}function m(R){return R===null||ye(R)?d(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(R))}function g(R){return R===null||ye(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(R)):R===96&&R===o?n(R):(e.consume(R),g)}function y(R){return e.attempt(i,P,w)(R)}function w(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),_}function _(R){return s>0&&Be(R)?Ge(e,E,"linePrefix",s+1)(R):E(R)}function E(R){return R===null||ye(R)?e.check(E0,y,P)(R):(e.enter("codeFlowValue"),T(R))}function T(R){return R===null||ye(R)?(e.exit("codeFlowValue"),E(R)):(e.consume(R),T)}function P(R){return e.exit("codeFenced"),t(R)}function O(R,H,z){let K=0;return F;function F(fe){return R.enter("lineEnding"),R.consume(fe),R.exit("lineEnding"),q}function q(fe){return R.enter("codeFencedFence"),Be(fe)?Ge(R,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(fe):J(fe)}function J(fe){return fe===o?(R.enter("codeFencedFenceSequence"),Ee(fe)):z(fe)}function Ee(fe){return fe===o?(K++,R.consume(fe),Ee):K>=a?(R.exit("codeFencedFenceSequence"),Be(fe)?Ge(R,we,"whitespace")(fe):we(fe)):z(fe)}function we(fe){return fe===null||ye(fe)?(R.exit("codeFencedFence"),H(fe)):z(fe)}}}function s3(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Ed={name:"codeIndented",tokenize:o3},a3={partial:!0,tokenize:l3};function o3(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Ge(e,s,"linePrefix",4+1)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):ye(u)?e.attempt(a3,a,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||ye(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function l3(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):ye(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Ge(e,s,"linePrefix",4+1)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):ye(a)?i(a):n(a)}}const u3={name:"codeText",previous:d3,resolve:c3,tokenize:f3};function c3(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function d3(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function f3(e,t,n){let r=0,i,s;return a;function a(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),r++,o):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,c(d)):ye(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||ye(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}class h3{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ia(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ia(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ia(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ia(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ia(this.left,n.reverse())}}}function ia(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function DE(e){const t={};let n=-1,r,i,s,a,o,l,u;const c=new h3(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,p3(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(a=c.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);i&&(r[1].end={...c.get(i)[1].start},o=c.slice(i,n),o.unshift(r),c.splice(i,n-i+1,o))}}return yn(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function p3(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],a=n._tokenizer||r.parser[n.contentType](n.start),o=a.events,l=[],u={};let c,d,p=-1,m=n,g=0,y=0;const w=[y];for(;m;){for(;e.get(++i)[1]!==m;);s.push(i),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),d&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=n;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(y=p+1,w.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):w.pop(),p=w.length;p--;){const _=o.slice(w[p],w[p+1]),E=s.pop();l.push([E,E+_.length-1]),e.splice(E,2,_)}for(l.reverse(),p=-1;++p<l.length;)u[g+l[p][0]]=g+l[p][1],g+=l[p][1]-l[p][0]-1;return u}const m3={resolve:_3,tokenize:b3},g3={partial:!0,tokenize:y3};function _3(e){return DE(e),e}function b3(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):ye(o)?e.check(g3,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function y3(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ge(e,s,"linePrefix")}function s(a){if(a===null||ye(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function ME(e,t,n,r,i,s,a,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(_){return _===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(_),e.exit(s),p):_===null||_===32||_===41||Cu(_)?n(_):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),y(_))}function p(_){return _===62?(e.enter(s),e.consume(_),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===62?(e.exit("chunkString"),e.exit(o),p(_)):_===null||_===60||ye(_)?n(_):(e.consume(_),_===92?g:m)}function g(_){return _===60||_===62||_===92?(e.consume(_),m):m(_)}function y(_){return!c&&(_===null||_===41||Ze(_))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(_)):c<u&&_===40?(e.consume(_),c++,y):_===41?(e.consume(_),c--,y):_===null||_===32||_===40||Cu(_)?n(_):(e.consume(_),_===92?w:y)}function w(_){return _===40||_===41||_===92?(e.consume(_),y):y(_)}}function FE(e,t,n,r,i,s){const a=this;let o=0,l;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(s),c}function c(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(m):m===93?(e.exit(s),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):ye(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===null||m===91||m===93||ye(m)||o++>999?(e.exit("chunkString"),c(m)):(e.consume(m),l||(l=!Be(m)),m===92?p:d)}function p(m){return m===91||m===92||m===93?(e.consume(m),o++,d):d(m)}}function BE(e,t,n,r,i,s){let a;return o;function o(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),a=p===40?41:p,l):n(p)}function l(p){return p===a?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),u(p))}function u(p){return p===a?(e.exit(s),l(a)):p===null?n(p):ye(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Ge(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===a||p===null||ye(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?d:c)}function d(p){return p===a||p===92?(e.consume(p),c):c(p)}}function Pa(e,t){let n;return r;function r(i){return ye(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Be(i)?Ge(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const E3={name:"definition",tokenize:T3},x3={partial:!0,tokenize:w3};function T3(e,t,n){const r=this;let i;return s;function s(m){return e.enter("definition"),a(m)}function a(m){return FE.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Ze(m)?Pa(e,u)(m):u(m)}function u(m){return ME(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function c(m){return e.attempt(x3,d,d)(m)}function d(m){return Be(m)?Ge(e,p,"whitespace")(m):p(m)}function p(m){return m===null||ye(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function w3(e,t,n){return r;function r(o){return Ze(o)?Pa(e,i)(o):n(o)}function i(o){return BE(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Be(o)?Ge(e,a,"whitespace")(o):a(o)}function a(o){return o===null||ye(o)?t(o):n(o)}}const v3={name:"hardBreakEscape",tokenize:A3};function A3(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ye(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const C3={name:"headingAtx",resolve:S3,tokenize:k3};function S3(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},yn(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function k3(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(e.consume(c),a):c===null||Ze(c)?(e.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||ye(c)?(e.exit("atxHeading"),t(c)):Be(c)?Ge(e,o,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||Ze(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),u)}}const I3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],T0=["pre","script","style","textarea"],R3={concrete:!0,name:"htmlFlow",resolveTo:P3,tokenize:O3},L3={partial:!0,tokenize:M3},N3={partial:!0,tokenize:D3};function P3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function O3(e,t,n){const r=this;let i,s,a,o,l;return u;function u(D){return c(D)}function c(D){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(D),d}function d(D){return D===33?(e.consume(D),p):D===47?(e.consume(D),s=!0,y):D===63?(e.consume(D),i=3,r.interrupt?t:I):Qt(D)?(e.consume(D),a=String.fromCharCode(D),w):n(D)}function p(D){return D===45?(e.consume(D),i=2,m):D===91?(e.consume(D),i=5,o=0,g):Qt(D)?(e.consume(D),i=4,r.interrupt?t:I):n(D)}function m(D){return D===45?(e.consume(D),r.interrupt?t:I):n(D)}function g(D){const Qe="CDATA[";return D===Qe.charCodeAt(o++)?(e.consume(D),o===Qe.length?r.interrupt?t:J:g):n(D)}function y(D){return Qt(D)?(e.consume(D),a=String.fromCharCode(D),w):n(D)}function w(D){if(D===null||D===47||D===62||Ze(D)){const Qe=D===47,wt=a.toLowerCase();return!Qe&&!s&&T0.includes(wt)?(i=1,r.interrupt?t(D):J(D)):I3.includes(a.toLowerCase())?(i=6,Qe?(e.consume(D),_):r.interrupt?t(D):J(D)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):s?E(D):T(D))}return D===45||Ut(D)?(e.consume(D),a+=String.fromCharCode(D),w):n(D)}function _(D){return D===62?(e.consume(D),r.interrupt?t:J):n(D)}function E(D){return Be(D)?(e.consume(D),E):F(D)}function T(D){return D===47?(e.consume(D),F):D===58||D===95||Qt(D)?(e.consume(D),P):Be(D)?(e.consume(D),T):F(D)}function P(D){return D===45||D===46||D===58||D===95||Ut(D)?(e.consume(D),P):O(D)}function O(D){return D===61?(e.consume(D),R):Be(D)?(e.consume(D),O):T(D)}function R(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),l=D,H):Be(D)?(e.consume(D),R):z(D)}function H(D){return D===l?(e.consume(D),l=null,K):D===null||ye(D)?n(D):(e.consume(D),H)}function z(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||Ze(D)?O(D):(e.consume(D),z)}function K(D){return D===47||D===62||Be(D)?T(D):n(D)}function F(D){return D===62?(e.consume(D),q):n(D)}function q(D){return D===null||ye(D)?J(D):Be(D)?(e.consume(D),q):n(D)}function J(D){return D===45&&i===2?(e.consume(D),Le):D===60&&i===1?(e.consume(D),Oe):D===62&&i===4?(e.consume(D),Ie):D===63&&i===3?(e.consume(D),I):D===93&&i===5?(e.consume(D),he):ye(D)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(L3,De,Ee)(D)):D===null||ye(D)?(e.exit("htmlFlowData"),Ee(D)):(e.consume(D),J)}function Ee(D){return e.check(N3,we,De)(D)}function we(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),fe}function fe(D){return D===null||ye(D)?Ee(D):(e.enter("htmlFlowData"),J(D))}function Le(D){return D===45?(e.consume(D),I):J(D)}function Oe(D){return D===47?(e.consume(D),a="",ie):J(D)}function ie(D){if(D===62){const Qe=a.toLowerCase();return T0.includes(Qe)?(e.consume(D),Ie):J(D)}return Qt(D)&&a.length<8?(e.consume(D),a+=String.fromCharCode(D),ie):J(D)}function he(D){return D===93?(e.consume(D),I):J(D)}function I(D){return D===62?(e.consume(D),Ie):D===45&&i===2?(e.consume(D),I):J(D)}function Ie(D){return D===null||ye(D)?(e.exit("htmlFlowData"),De(D)):(e.consume(D),Ie)}function De(D){return e.exit("htmlFlow"),t(D)}}function D3(e,t,n){const r=this;return i;function i(a){return ye(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function M3(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(So,t,n)}}const F3={name:"htmlText",tokenize:B3};function B3(e,t,n){const r=this;let i,s,a;return o;function o(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),l}function l(I){return I===33?(e.consume(I),u):I===47?(e.consume(I),O):I===63?(e.consume(I),T):Qt(I)?(e.consume(I),z):n(I)}function u(I){return I===45?(e.consume(I),c):I===91?(e.consume(I),s=0,g):Qt(I)?(e.consume(I),E):n(I)}function c(I){return I===45?(e.consume(I),m):n(I)}function d(I){return I===null?n(I):I===45?(e.consume(I),p):ye(I)?(a=d,Oe(I)):(e.consume(I),d)}function p(I){return I===45?(e.consume(I),m):d(I)}function m(I){return I===62?Le(I):I===45?p(I):d(I)}function g(I){const Ie="CDATA[";return I===Ie.charCodeAt(s++)?(e.consume(I),s===Ie.length?y:g):n(I)}function y(I){return I===null?n(I):I===93?(e.consume(I),w):ye(I)?(a=y,Oe(I)):(e.consume(I),y)}function w(I){return I===93?(e.consume(I),_):y(I)}function _(I){return I===62?Le(I):I===93?(e.consume(I),_):y(I)}function E(I){return I===null||I===62?Le(I):ye(I)?(a=E,Oe(I)):(e.consume(I),E)}function T(I){return I===null?n(I):I===63?(e.consume(I),P):ye(I)?(a=T,Oe(I)):(e.consume(I),T)}function P(I){return I===62?Le(I):T(I)}function O(I){return Qt(I)?(e.consume(I),R):n(I)}function R(I){return I===45||Ut(I)?(e.consume(I),R):H(I)}function H(I){return ye(I)?(a=H,Oe(I)):Be(I)?(e.consume(I),H):Le(I)}function z(I){return I===45||Ut(I)?(e.consume(I),z):I===47||I===62||Ze(I)?K(I):n(I)}function K(I){return I===47?(e.consume(I),Le):I===58||I===95||Qt(I)?(e.consume(I),F):ye(I)?(a=K,Oe(I)):Be(I)?(e.consume(I),K):Le(I)}function F(I){return I===45||I===46||I===58||I===95||Ut(I)?(e.consume(I),F):q(I)}function q(I){return I===61?(e.consume(I),J):ye(I)?(a=q,Oe(I)):Be(I)?(e.consume(I),q):K(I)}function J(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),i=I,Ee):ye(I)?(a=J,Oe(I)):Be(I)?(e.consume(I),J):(e.consume(I),we)}function Ee(I){return I===i?(e.consume(I),i=void 0,fe):I===null?n(I):ye(I)?(a=Ee,Oe(I)):(e.consume(I),Ee)}function we(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||Ze(I)?K(I):(e.consume(I),we)}function fe(I){return I===47||I===62||Ze(I)?K(I):n(I)}function Le(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}function Oe(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),ie}function ie(I){return Be(I)?Ge(e,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):he(I)}function he(I){return e.enter("htmlTextData"),a(I)}}const Ap={name:"labelEnd",resolveAll:j3,resolveTo:W3,tokenize:G3},H3={tokenize:V3},z3={tokenize:Y3},U3={tokenize:q3};function j3(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&yn(e,0,e.length,n),e}function W3(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},c={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=Rn(o,e.slice(s+1,s+r+3)),o=Rn(o,[["enter",c,t]]),o=Rn(o,hc(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=Rn(o,[["exit",c,t],e[a-2],e[a-1],["exit",u,t]]),o=Rn(o,e.slice(a+1)),o=Rn(o,[["exit",l,t]]),yn(e,s,e.length,o),e}function G3(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(p){return s?s._inactive?d(p):(a=r.parser.defined.includes(Gn(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(H3,c,a?c:d)(p):p===91?e.attempt(z3,c,a?u:d)(p):a?c(p):d(p)}function u(p){return e.attempt(U3,c,d)(p)}function c(p){return t(p)}function d(p){return s._balanced=!0,n(p)}}function V3(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Ze(d)?Pa(e,s)(d):s(d)}function s(d){return d===41?c(d):ME(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Ze(d)?Pa(e,l)(d):c(d)}function o(d){return n(d)}function l(d){return d===34||d===39||d===40?BE(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Ze(d)?Pa(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function Y3(e,t,n){const r=this;return i;function i(o){return FE.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function q3(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Q3={name:"labelStartImage",resolveAll:Ap.resolveAll,tokenize:$3};function $3(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const K3={name:"labelStartLink",resolveAll:Ap.resolveAll,tokenize:X3};function X3(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const xd={name:"lineEnding",tokenize:J3};function J3(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ge(e,t,"linePrefix")}}const Wl={name:"thematicBreak",tokenize:Z3};function Z3(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ye(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Be(u)?Ge(e,o,"whitespace")(u):o(u))}}const tn={continuation:{tokenize:rI},exit:sI,name:"list",tokenize:nI},eI={partial:!0,tokenize:aI},tI={partial:!0,tokenize:iI};function nI(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(m){const g=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Qf(m)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Wl,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return Qf(m)&&++a<10?(e.consume(m),l):(!r.interrupt||a<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(So,r.interrupt?n:c,e.attempt(eI,p,d))}function c(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function d(m){return Be(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function rI(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(So,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ge(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Be(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(tI,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ge(e,e.attempt(tn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function iI(e,t,n){const r=this;return Ge(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function sI(e){e.exit(this.containerState.type)}function aI(e,t,n){const r=this;return Ge(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const a=r.events[r.events.length-1];return!Be(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const w0={name:"setextUnderline",resolveTo:oI,tokenize:lI};function oI(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function lI(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Be(u)?Ge(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ye(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const uI={tokenize:cI};function cI(e){const t=this,n=e.attempt(So,r,e.attempt(this.parser.constructs.flowInitial,i,Ge(e,e.attempt(this.parser.constructs.flow,i,e.attempt(m3,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const dI={resolveAll:zE()},fI=HE("string"),hI=HE("text");function HE(e){return{resolveAll:zE(e==="text"?pI:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(c){return u(c)?s(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let p=-1;if(d)for(;++p<d.length;){const m=d[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function zE(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function pI(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const mI={42:tn,43:tn,45:tn,48:tn,49:tn,50:tn,51:tn,52:tn,53:tn,54:tn,55:tn,56:tn,57:tn,62:NE},gI={91:E3},_I={[-2]:Ed,[-1]:Ed,32:Ed},bI={35:C3,42:Wl,45:[w0,Wl],60:R3,61:w0,95:Wl,96:x0,126:x0},yI={38:OE,92:PE},EI={[-5]:xd,[-4]:xd,[-3]:xd,33:Q3,38:OE,42:$f,60:[Kk,F3],91:K3,92:[v3,PE],93:Ap,95:$f,96:u3},xI={null:[$f,dI]},TI={null:[42,95]},wI={null:[]},vI=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:TI,contentInitial:gI,disable:wI,document:mI,flow:bI,flowInitial:_I,insideSpan:xI,string:yI,text:EI},Symbol.toStringTag,{value:"Module"}));function AI(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:H(O),check:H(R),consume:E,enter:T,exit:P,interrupt:H(R,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function d(q){return a=Rn(a,q),w(),a[a.length-1]!==null?[]:(z(t,0),u.events=hc(s,u.events,u),u.events)}function p(q,J){return SI(m(q),J)}function m(q){return CI(a,q)}function g(){const{_bufferIndex:q,_index:J,line:Ee,column:we,offset:fe}=r;return{_bufferIndex:q,_index:J,line:Ee,column:we,offset:fe}}function y(q){i[q.line]=q.column,F()}function w(){let q;for(;r._index<a.length;){const J=a[r._index];if(typeof J=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<J.length;)_(J.charCodeAt(r._bufferIndex));else _(J)}}function _(q){c=c(q)}function E(q){ye(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,F()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=q}function T(q,J){const Ee=J||{};return Ee.type=q,Ee.start=g(),u.events.push(["enter",Ee,u]),o.push(Ee),Ee}function P(q){const J=o.pop();return J.end=g(),u.events.push(["exit",J,u]),J}function O(q,J){z(q,J.from)}function R(q,J){J.restore()}function H(q,J){return Ee;function Ee(we,fe,Le){let Oe,ie,he,I;return Array.isArray(we)?De(we):"tokenize"in we?De([we]):Ie(we);function Ie(Ue){return vn;function vn(qn){const kr=qn!==null&&Ue[qn],Ir=qn!==null&&Ue.null,Qi=[...Array.isArray(kr)?kr:kr?[kr]:[],...Array.isArray(Ir)?Ir:Ir?[Ir]:[]];return De(Qi)(qn)}}function De(Ue){return Oe=Ue,ie=0,Ue.length===0?Le:D(Ue[ie])}function D(Ue){return vn;function vn(qn){return I=K(),he=Ue,Ue.partial||(u.currentConstruct=Ue),Ue.name&&u.parser.constructs.disable.null.includes(Ue.name)?wt():Ue.tokenize.call(J?Object.assign(Object.create(u),J):u,l,Qe,wt)(qn)}}function Qe(Ue){return q(he,I),fe}function wt(Ue){return I.restore(),++ie<Oe.length?D(Oe[ie]):Le}}}function z(q,J){q.resolveAll&&!s.includes(q)&&s.push(q),q.resolve&&yn(u.events,J,u.events.length-J,q.resolve(u.events.slice(J),u)),q.resolveTo&&(u.events=q.resolveTo(u.events,u))}function K(){const q=g(),J=u.previous,Ee=u.currentConstruct,we=u.events.length,fe=Array.from(o);return{from:we,restore:Le};function Le(){r=q,u.previous=J,u.currentConstruct=Ee,u.events.length=we,o=fe,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function CI(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function SI(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function kI(e){const r={constructs:RE([vI,...(e||{}).extensions||[]]),content:i(Wk),defined:[],document:i(Vk),flow:i(uI),lazy:{},string:i(fI),text:i(hI)};return r;function i(s){return a;function a(o){return AI(r,s,o)}}}function II(e){for(;!DE(e););return e}const v0=/[\0\t\n\r]/g;function RI(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const l=[];let u,c,d,p,m;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(v0.lastIndex=d,u=v0.exec(s),p=u&&u.index!==void 0?u.index:s.length,m=s.charCodeAt(p),!u){t=s.slice(d);break}if(m===10&&d===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<p&&(l.push(s.slice(d,p)),e+=p-d),m){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=p+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const LI=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function NI(e){return e.replace(LI,PI)}function PI(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return LE(n.slice(s?2:1),s?16:10)}return vp(n)||e}const UE={}.hasOwnProperty;function OI(e,t,n){return typeof t!="string"&&(n=t,t=void 0),DI(n)(II(kI(n).document().write(RI()(e,t,!0))))}function DI(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Bo),autolinkProtocol:K,autolinkEmail:K,atxHeading:s(Do),blockQuote:s(Ir),characterEscape:K,characterReference:K,codeFenced:s(Qi),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Qi,a),codeText:s(Ic,a),codeTextData:K,data:K,codeFlowValue:K,definition:s(Oo),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Rc),hardBreakEscape:s(Mo),hardBreakTrailing:s(Mo),htmlFlow:s(Fo,a),htmlFlowData:K,htmlText:s(Fo,a),htmlTextData:K,image:s(Lc),label:a,link:s(Bo),listItem:s(Nc),listItemValue:p,listOrdered:s(Ho,d),listUnordered:s(Ho),paragraph:s(Pc),reference:D,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Do),strong:s(Oc),thematicBreak:s(zo)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:kr,autolinkProtocol:qn,blockQuote:l(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:wt,characterReferenceMarkerNumeric:wt,characterReferenceValue:Ue,characterReference:vn,codeFenced:l(w),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:F,codeIndented:l(_),codeText:l(fe),codeTextData:F,data:F,definition:l(),definitionDestinationString:P,definitionLabelString:E,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(J),hardBreakTrailing:l(J),htmlFlow:l(Ee),htmlFlowData:F,htmlText:l(we),htmlTextData:F,image:l(Oe),label:he,labelText:ie,lineEnding:q,link:l(Le),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Qe,resourceDestinationString:I,resourceTitleString:Ie,resource:De,setextHeading:l(z),setextHeadingLineSequence:H,setextHeadingText:R,strong:l(),thematicBreak:l()}};jE(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(V){let oe={type:"root",children:[]};const Ce={stack:[oe],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:c,data:n},Me=[];let $e=-1;for(;++$e<V.length;)if(V[$e][1].type==="listOrdered"||V[$e][1].type==="listUnordered")if(V[$e][0]==="enter")Me.push($e);else{const un=Me.pop();$e=i(V,un,$e)}for($e=-1;++$e<V.length;){const un=t[V[$e][0]];UE.call(un,V[$e][1].type)&&un[V[$e][1].type].call(Object.assign({sliceSerialize:V[$e][2].sliceSerialize},Ce),V[$e][1])}if(Ce.tokenStack.length>0){const un=Ce.tokenStack[Ce.tokenStack.length-1];(un[1]||A0).call(Ce,void 0,un[0])}for(oe.position={start:Or(V.length>0?V[0][1].start:{line:1,column:1,offset:0}),end:Or(V.length>0?V[V.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<t.transforms.length;)oe=t.transforms[$e](oe)||oe;return oe}function i(V,oe,Ce){let Me=oe-1,$e=-1,un=!1,ar,Fn,Rr,Lr;for(;++Me<=Ce;){const Ft=V[Me];switch(Ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ft[0]==="enter"?$e++:$e--,Lr=void 0;break}case"lineEndingBlank":{Ft[0]==="enter"&&(ar&&!Lr&&!$e&&!Rr&&(Rr=Me),Lr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Lr=void 0}if(!$e&&Ft[0]==="enter"&&Ft[1].type==="listItemPrefix"||$e===-1&&Ft[0]==="exit"&&(Ft[1].type==="listUnordered"||Ft[1].type==="listOrdered")){if(ar){let or=Me;for(Fn=void 0;or--;){const An=V[or];if(An[1].type==="lineEnding"||An[1].type==="lineEndingBlank"){if(An[0]==="exit")continue;Fn&&(V[Fn][1].type="lineEndingBlank",un=!0),An[1].type="lineEnding",Fn=or}else if(!(An[1].type==="linePrefix"||An[1].type==="blockQuotePrefix"||An[1].type==="blockQuotePrefixWhitespace"||An[1].type==="blockQuoteMarker"||An[1].type==="listItemIndent"))break}Rr&&(!Fn||Rr<Fn)&&(ar._spread=!0),ar.end=Object.assign({},Fn?V[Fn][1].start:Ft[1].end),V.splice(Fn||Me,0,["exit",ar,Ft[2]]),Me++,Ce++}if(Ft[1].type==="listItemPrefix"){const or={type:"listItem",_spread:!1,start:Object.assign({},Ft[1].start),end:void 0};ar=or,V.splice(Me,0,["enter",or,Ft[2]]),Me++,Ce++,Rr=void 0,Lr=!0}}}return V[oe][1]._spread=un,Ce}function s(V,oe){return Ce;function Ce(Me){o.call(this,V(Me),Me),oe&&oe.call(this,Me)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(V,oe,Ce){this.stack[this.stack.length-1].children.push(V),this.stack.push(V),this.tokenStack.push([oe,Ce||void 0]),V.position={start:Or(oe.start),end:void 0}}function l(V){return oe;function oe(Ce){V&&V.call(this,Ce),u.call(this,Ce)}}function u(V,oe){const Ce=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==V.type&&(oe?oe.call(this,V,Me[0]):(Me[1]||A0).call(this,V,Me[0]));else throw new Error("Cannot close `"+V.type+"` ("+Na({start:V.start,end:V.end})+"): its not open");Ce.position.end=Or(V.end)}function c(){return wp(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(V){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(V),10),this.data.expectingFirstListItemValue=void 0}}function m(){const V=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=V}function g(){const V=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=V}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const V=this.resume(),oe=this.stack[this.stack.length-1];oe.value=V.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const V=this.resume(),oe=this.stack[this.stack.length-1];oe.value=V.replace(/(\r?\n|\r)$/g,"")}function E(V){const oe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=oe,Ce.identifier=Gn(this.sliceSerialize(V)).toLowerCase()}function T(){const V=this.resume(),oe=this.stack[this.stack.length-1];oe.title=V}function P(){const V=this.resume(),oe=this.stack[this.stack.length-1];oe.url=V}function O(V){const oe=this.stack[this.stack.length-1];if(!oe.depth){const Ce=this.sliceSerialize(V).length;oe.depth=Ce}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function H(V){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(V).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function K(V){const Ce=this.stack[this.stack.length-1].children;let Me=Ce[Ce.length-1];(!Me||Me.type!=="text")&&(Me=Dc(),Me.position={start:Or(V.start),end:void 0},Ce.push(Me)),this.stack.push(Me)}function F(V){const oe=this.stack.pop();oe.value+=this.sliceSerialize(V),oe.position.end=Or(V.end)}function q(V){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=oe.children[oe.children.length-1];Ce.position.end=Or(V.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(K.call(this,V),F.call(this,V))}function J(){this.data.atHardBreak=!0}function Ee(){const V=this.resume(),oe=this.stack[this.stack.length-1];oe.value=V}function we(){const V=this.resume(),oe=this.stack[this.stack.length-1];oe.value=V}function fe(){const V=this.resume(),oe=this.stack[this.stack.length-1];oe.value=V}function Le(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=oe,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function Oe(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=oe,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function ie(V){const oe=this.sliceSerialize(V),Ce=this.stack[this.stack.length-2];Ce.label=NI(oe),Ce.identifier=Gn(oe).toLowerCase()}function he(){const V=this.stack[this.stack.length-1],oe=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Me=V.children;Ce.children=Me}else Ce.alt=oe}function I(){const V=this.resume(),oe=this.stack[this.stack.length-1];oe.url=V}function Ie(){const V=this.resume(),oe=this.stack[this.stack.length-1];oe.title=V}function De(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function Qe(V){const oe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=oe,Ce.identifier=Gn(this.sliceSerialize(V)).toLowerCase(),this.data.referenceType="full"}function wt(V){this.data.characterReferenceType=V.type}function Ue(V){const oe=this.sliceSerialize(V),Ce=this.data.characterReferenceType;let Me;Ce?(Me=LE(oe,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=vp(oe);const $e=this.stack[this.stack.length-1];$e.value+=Me}function vn(V){const oe=this.stack.pop();oe.position.end=Or(V.end)}function qn(V){F.call(this,V);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(V)}function kr(V){F.call(this,V);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(V)}function Ir(){return{type:"blockquote",children:[]}}function Qi(){return{type:"code",lang:null,meta:null,value:""}}function Ic(){return{type:"inlineCode",value:""}}function Oo(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Rc(){return{type:"emphasis",children:[]}}function Do(){return{type:"heading",depth:0,children:[]}}function Mo(){return{type:"break"}}function Fo(){return{type:"html",value:""}}function Lc(){return{type:"image",title:null,url:"",alt:null}}function Bo(){return{type:"link",title:null,url:"",children:[]}}function Ho(V){return{type:"list",ordered:V.type==="listOrdered",start:null,spread:V._spread,children:[]}}function Nc(V){return{type:"listItem",spread:V._spread,checked:null,children:[]}}function Pc(){return{type:"paragraph",children:[]}}function Oc(){return{type:"strong",children:[]}}function Dc(){return{type:"text",value:""}}function zo(){return{type:"thematicBreak"}}}function Or(e){return{line:e.line,column:e.column,offset:e.offset}}function jE(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?jE(e,r):MI(e,r)}}function MI(e,t){let n;for(n in t)if(UE.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function A0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Na({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Na({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Na({start:t.start,end:t.end})+") is still open")}function FI(e){const t=this;t.parser=n;function n(r){return OI(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function BI(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function HI(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function zI(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function UI(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jI(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WI(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ws(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function GI(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VI(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function WE(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function YI(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return WE(e,t);const i={src:Ws(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function qI(e,t){const n={src:Ws(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function QI(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function $I(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return WE(e,t);const i={href:Ws(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function KI(e,t){const n={href:Ws(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function XI(e,t,n){const r=e.all(t),i=n?JI(n):GE(t),s={},a=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?a.push(...c.children):a.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function JI(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=GE(n[r])}return t}function GE(e){const t=e.spread;return t??e.children.length>1}function ZI(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function eR(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tR(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function nR(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rR(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=ir(t.children[1]),l=dc(t.children[t.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function iR(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const d=t.children[l],p={},m=a?a[l]:void 0;m&&(p.align=m);let g={type:"element",tagName:s,properties:p,children:[]};d&&(g.children=e.all(d),e.patch(d,g),g=e.applyData(d,g)),u.push(g)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function sR(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const C0=9,S0=32;function aR(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(k0(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(k0(t.slice(i),i>0,!1)),s.join("")}function k0(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===C0||s===S0;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===C0||s===S0;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function oR(e,t){const n={type:"text",value:aR(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function lR(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const uR={blockquote:BI,break:HI,code:zI,delete:UI,emphasis:jI,footnoteReference:WI,heading:GI,html:VI,imageReference:YI,image:qI,inlineCode:QI,linkReference:$I,link:KI,listItem:XI,list:ZI,paragraph:eR,root:tR,strong:nR,table:rR,tableCell:sR,tableRow:iR,text:oR,thematicBreak:lR,toml:cl,yaml:cl,definition:cl,footnoteDefinition:cl};function cl(){}const VE=-1,pc=0,Su=1,ku=2,Cp=3,Sp=4,kp=5,Ip=6,YE=7,qE=8,I0=typeof self=="object"?self:globalThis,cR=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case pc:case VE:return n(a,i);case Su:{const o=n([],i);for(const l of a)o.push(r(l));return o}case ku:{const o=n({},i);for(const[l,u]of a)o[r(l)]=r(u);return o}case Cp:return n(new Date(a),i);case Sp:{const{source:o,flags:l}=a;return n(new RegExp(o,l),i)}case kp:{const o=n(new Map,i);for(const[l,u]of a)o.set(r(l),r(u));return o}case Ip:{const o=n(new Set,i);for(const l of a)o.add(r(l));return o}case YE:{const{name:o,message:l}=a;return n(new I0[o](l),i)}case qE:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i)}return n(new I0[s](a),i)};return r},R0=e=>cR(new Map,e)(0),Xi="",{toString:dR}={},{keys:fR}=Object,sa=e=>{const t=typeof e;if(t!=="object"||!e)return[pc,t];const n=dR.call(e).slice(8,-1);switch(n){case"Array":return[Su,Xi];case"Object":return[ku,Xi];case"Date":return[Cp,Xi];case"RegExp":return[Sp,Xi];case"Map":return[kp,Xi];case"Set":return[Ip,Xi]}return n.includes("Array")?[Su,n]:n.includes("Error")?[YE,n]:[ku,n]},dl=([e,t])=>e===pc&&(t==="function"||t==="symbol"),hR=(e,t,n,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=sa(a);switch(o){case pc:{let c=a;switch(l){case"bigint":o=qE,c=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([VE],a)}return i([o,c],a)}case Su:{if(l)return i([l,[...a]],a);const c=[],d=i([o,c],a);for(const p of a)c.push(s(p));return d}case ku:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const c=[],d=i([o,c],a);for(const p of fR(a))(e||!dl(sa(a[p])))&&c.push([s(p),s(a[p])]);return d}case Cp:return i([o,a.toISOString()],a);case Sp:{const{source:c,flags:d}=a;return i([o,{source:c,flags:d}],a)}case kp:{const c=[],d=i([o,c],a);for(const[p,m]of a)(e||!(dl(sa(p))||dl(sa(m))))&&c.push([s(p),s(m)]);return d}case Ip:{const c=[],d=i([o,c],a);for(const p of a)(e||!dl(sa(p)))&&c.push(s(p));return d}}const{message:u}=a;return i([o,{name:l,message:u}],a)};return s},L0=(e,{json:t,lossy:n}={})=>{const r=[];return hR(!(t||n),!!t,new Map,r)(e),r},Ps=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?R0(L0(e,t)):structuredClone(e):(e,t)=>R0(L0(e,t));function pR(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function mR(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function gR(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||pR,r=e.options.footnoteBackLabel||mR,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),p=Ws(d.toLowerCase());let m=0;const g=[],y=e.footnoteCounts.get(d);for(;y!==void 0&&++m<=y;){g.length>0&&g.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,m);typeof E=="string"&&(E={type:"text",value:E}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const w=c[c.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const E=w.children[w.children.length-1];E&&E.type==="text"?E.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else c.push(...g);const _={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(c,!0)};e.patch(u,_),o.push(_)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ps(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const mc=function(e){if(e==null)return ER;if(typeof e=="function")return gc(e);if(typeof e=="object")return Array.isArray(e)?_R(e):bR(e);if(typeof e=="string")return yR(e);throw new Error("Expected function, string, or object as test")};function _R(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=mc(e[n]);return gc(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function bR(e){const t=e;return gc(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function yR(e){return gc(t);function t(n){return n&&n.type===e}}function gc(e){return t;function t(n,r,i){return!!(xR(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function ER(){return!0}function xR(e){return e!==null&&typeof e=="object"&&"type"in e}const QE=[],TR=!0,Kf=!1,wR="skip";function $E(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=mc(i),a=r?-1:1;o(e,void 0,[])();function o(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const m=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=QE,g,y,w;if((!t||s(l,u,c[c.length-1]||void 0))&&(m=vR(n(l,c)),m[0]===Kf))return m;if("children"in l&&l.children){const _=l;if(_.children&&m[0]!==wR)for(y=(r?_.children.length:-1)+a,w=c.concat(_);y>-1&&y<_.children.length;){const E=_.children[y];if(g=o(E,y,w)(),g[0]===Kf)return g;y=typeof g[1]=="number"?g[1]:y+a}}return m}}}function vR(e){return Array.isArray(e)?e:typeof e=="number"?[TR,e]:e==null?QE:[e]}function _c(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),$E(e,s,o,i);function o(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return a(l,d,c)}}const Xf={}.hasOwnProperty,AR={};function CR(e,t){const n=t||AR,r=new Map,i=new Map,s=new Map,a={...uR,...n.handlers},o={all:u,applyData:kR,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:SR,wrap:RR};return _c(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,p=String(c.identifier).toUpperCase();d.has(p)||d.set(p,c)}}),o;function l(c,d){const p=c.type,m=o.handlers[p];if(Xf.call(o.handlers,p)&&m)return m(o,c,d);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in c){const{children:y,...w}=c,_=Ps(w);return _.children=o.all(c),_}return Ps(c)}return(o.options.unknownHandler||IR)(o,c,d)}function u(c){const d=[];if("children"in c){const p=c.children;let m=-1;for(;++m<p.length;){const g=o.one(p[m],c);if(g){if(m&&p[m-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=N0(g.value)),!Array.isArray(g)&&g.type==="element")){const y=g.children[0];y&&y.type==="text"&&(y.value=N0(y.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function SR(e,t){e.position&&(t.position=hk(e))}function kR(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Ps(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function IR(e,t){const n=t.data||{},r="value"in t&&!(Xf.call(n,"hProperties")||Xf.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function RR(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function N0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function P0(e,t){const n=CR(e,t),r=n.one(e,void 0),i=gR(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function LR(e,t){return e&&"run"in e?async function(n,r){const i=P0(n,{file:r,...t});await e.run(i,r)}:function(n,r){return P0(n,{file:r,...e||t})}}function O0(e){if(e)throw e}var Gl=Object.prototype.hasOwnProperty,KE=Object.prototype.toString,D0=Object.defineProperty,M0=Object.getOwnPropertyDescriptor,F0=function(t){return typeof Array.isArray=="function"?Array.isArray(t):KE.call(t)==="[object Array]"},B0=function(t){if(!t||KE.call(t)!=="[object Object]")return!1;var n=Gl.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Gl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Gl.call(t,i)},H0=function(t,n){D0&&n.name==="__proto__"?D0(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},z0=function(t,n){if(n==="__proto__")if(Gl.call(t,n)){if(M0)return M0(t,n).value}else return;return t[n]},NR=function e(){var t,n,r,i,s,a,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=z0(o,n),i=z0(t,n),o!==i&&(c&&i&&(B0(i)||(s=F0(i)))?(s?(s=!1,a=r&&F0(r)?r:[]):a=r&&B0(r)?r:{},H0(o,{name:n,newValue:e(c,a,i)})):typeof i<"u"&&H0(o,{name:n,newValue:i}));return o};const Td=yh(NR);function Jf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function PR(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...u){const c=e[++s];let d=-1;if(l){a(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?OR(c,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function OR(e,t){let n;return r;function r(...a){const o=e.length>a.length;let l;o&&a.push(i);try{l=e.apply(this,a)}catch(u){const c=u;if(o&&n)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const Jn={basename:DR,dirname:MR,extname:FR,join:BR,sep:"/"};function DR(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ko(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function MR(e){if(ko(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function FR(e){ko(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function BR(...e){let t=-1,n;for(;++t<e.length;)ko(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":HR(n)}function HR(e){ko(e);const t=e.codePointAt(0)===47;let n=zR(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function zR(e,t){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function ko(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const UR={cwd:jR};function jR(){return"/"}function Zf(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function WR(e){if(typeof e=="string")e=new URL(e);else if(!Zf(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return GR(e)}function GR(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const wd=["history","path","basename","stem","extname","dirname"];class XE{constructor(t){let n;t?Zf(t)?n={path:t}:typeof t=="string"||VR(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":UR.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<wd.length;){const s=wd[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)wd.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Jn.basename(this.path):void 0}set basename(t){Ad(t,"basename"),vd(t,"basename"),this.path=Jn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Jn.dirname(this.path):void 0}set dirname(t){U0(this.basename,"dirname"),this.path=Jn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Jn.extname(this.path):void 0}set extname(t){if(vd(t,"extname"),U0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Jn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Zf(t)&&(t=WR(t)),Ad(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Jn.basename(this.path,this.extname):void 0}set stem(t){Ad(t,"stem"),vd(t,"stem"),this.path=Jn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Wt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function vd(e,t){if(e&&e.includes(Jn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Jn.sep+"`")}function Ad(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function U0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function VR(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const YR=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},qR={}.hasOwnProperty;class Rp extends YR{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=PR()}copy(){const t=new Rp;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Td(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(kd("data",this.frozen),this.namespace[t]=n,this):qR.call(this.namespace,t)&&this.namespace[t]||void 0:t?(kd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=fl(t),r=this.parser||this.Parser;return Cd("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Cd("process",this.parser||this.Parser),Sd("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=fl(t),l=r.parse(o);r.run(l,o,function(c,d,p){if(c||!d||!p)return u(c);const m=d,g=r.stringify(m,p);KR(g)?p.value=g:p.result=g,u(c,p)});function u(c,d){c||!d?a(c):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),Cd("processSync",this.parser||this.Parser),Sd("processSync",this.compiler||this.Compiler),this.process(t,i),W0("processSync","process",n),r;function i(s,a){n=!0,O0(s),r=a}}run(t,n,r){j0(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=fl(n);i.run(t,l,u);function u(c,d,p){const m=d||t;c?o(c):a?a(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),W0("runSync","run",r),i;function s(a,o){O0(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=fl(n),i=this.compiler||this.Compiler;return Sd("stringify",i),j0(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(kd("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Td(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===u){p=d;break}if(p===-1)r.push([u,...c]);else if(c.length>0){let[m,...g]=c;const y=r[p][1];Jf(y)&&Jf(m)&&(m=Td(!0,y,m)),r[p]=[u,m,...g]}}}}const QR=new Rp().freeze();function Cd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Sd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function kd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function j0(e){if(!Jf(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function W0(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function fl(e){return $R(e)?e:new XE(e)}function $R(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function KR(e){return typeof e=="string"||XR(e)}function XR(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const JR="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",G0=[],V0={allowDangerousHtml:!0},ZR=/^(https?|ircs?|mailto|xmpp)$/i,eL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Io(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,s=e.components,a=e.disallowedElements,o=e.rehypePlugins||G0,l=e.remarkPlugins||G0,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...V0}:V0,c=e.skipHtml,d=e.unwrapDisallowed,p=e.urlTransform||tL,m=QR().use(FI).use(l).use(LR,u).use(o),g=new XE;typeof r=="string"&&(g.value=r);for(const E of eL)Object.hasOwn(e,E.from)&&(""+E.from+(E.to?"use `"+E.to+"` instead":"remove it")+JR+E.id,void 0);const y=m.parse(g);let w=m.runSync(y,g);return i&&(w={type:"element",tagName:"div",properties:{className:i},children:w.type==="root"?w.children:[w]}),_c(w,_),yk(w,{Fragment:C.Fragment,components:s,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function _(E,T,P){if(E.type==="raw"&&P&&typeof T=="number")return c?P.children.splice(T,1):P.children[T]={type:"text",value:E.value},T;if(E.type==="element"){let O;for(O in yd)if(Object.hasOwn(yd,O)&&Object.hasOwn(E.properties,O)){const R=E.properties[O],H=yd[O];(H===null||H.includes(E.tagName))&&(E.properties[O]=p(String(R||""),O,E))}}if(E.type==="element"){let O=t?!t.includes(E.tagName):a?a.includes(E.tagName):!1;if(!O&&n&&typeof T=="number"&&(O=!n(E,T,P)),O&&P&&typeof T=="number")return d&&E.children?P.children.splice(T,1,...E.children):P.children.splice(T,1),T}}}function tL(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||ZR.test(e.slice(0,t))?e:""}const Y0=/[#.]/g;function nL(e,t){const n=e||"",r={};let i=0,s,a;for(;i<n.length;){Y0.lastIndex=i;const o=Y0.exec(n),l=n.slice(i,o?o.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:a=l,i+=l.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}const eh={}.hasOwnProperty;function JE(e,t,n){const r=n&&aL(n);function i(s,a,...o){let l=-1,u;if(s==null){u={type:"root",children:[]};const c=a;o.unshift(c)}else if(u=nL(s,t),u.tagName=u.tagName.toLowerCase(),r&&eh.call(r,u.tagName)&&(u.tagName=r[u.tagName]),rL(a))o.unshift(a);else{let c;for(c in a)eh.call(a,c)&&iL(e,u.properties,c,a[c])}for(;++l<o.length;)th(u.children,o[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function rL(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function iL(e,t,n,r){const i=cc(e,n);let s=-1,a;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;a=r}else typeof r=="boolean"?a=r:typeof r=="string"?i.spaceSeparated?a=o0(r):i.commaSeparated?a=n0(r):i.commaOrSpaceSeparated?a=o0(n0(r).join(" ")):a=q0(i,i.property,r):Array.isArray(r)?a=r.concat():a=i.property==="style"?sL(r):String(r);if(Array.isArray(a)){const o=[];for(;++s<a.length;){const l=q0(i,i.property,a[s]);o[s]=l}a=o}if(i.property==="className"&&Array.isArray(t.className)){const o=a;a=t.className.concat(o)}t[i.property]=a}}function th(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)th(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?th(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function q0(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||lo(n)===lo(t)))return!0}return n}function sL(e){const t=[];let n;for(n in e)eh.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function aL(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const oL=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],lL=JE(Co,"div"),uL=JE(mi,"g",oL);function cL(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=n[a];if(o===void 0){const l=Q0(t,n[a-1]);o=l===-1?t.length+1:l+1,n[a]=o}if(o>s)return{line:a+1,column:s-(a>0?n[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],l=Q0(t,o),u=l===-1?t.length+1:l+1;if(o===u)break;n.push(u)}const a=(s.line>1?n[s.line-2]:0)+s.column-1;if(a<n[s.line-1])return a}}}function Q0(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Li={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ZE={}.hasOwnProperty,dL=Object.prototype;function fL(e,t){const n=t||{};return Lp({file:n.file||void 0,location:!1,schema:n.space==="svg"?mi:Co,verbose:n.verbose||!1},e)}function Lp(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Vl(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:ex(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=cL(s),o=a.toPoint(0),l=a.toPoint(s.length);n.position={start:o,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Vl(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Vl(e,r,n),n}default:return n=hL(e,t),n}}function ex(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=Lp(e,t[n]);r.push(i)}return r}function hL(e,t){const n=e.schema;e.schema=t.namespaceURI===Li.svg?mi:Co;let r=-1;const i={};for(;++r<t.attrs.length;){const o=t.attrs[r],l=(o.prefix?o.prefix+":":"")+o.name;ZE.call(dL,l)||(i[l]=o.value)}const a=(e.schema.space==="svg"?uL:lL)(t.tagName,i,ex(e,t.childNodes));if(Vl(e,t,a),a.tagName==="template"){const o=t,l=o.sourceCodeLocation,u=l&&l.startTag&&ps(l.startTag),c=l&&l.endTag&&ps(l.endTag),d=Lp(e,o.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),a.content=d}return e.schema=n,a}function Vl(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=pL(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function pL(e,t,n){const r=ps(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(n.attrs)for(a in n.attrs)ZE.call(n.attrs,a)&&(s[cc(e.schema,a).property]=ps(n.attrs[a]));n.startTag;const o=ps(n.startTag),l=n.endTag?ps(n.endTag):void 0,u={opening:o};l&&(u.closing=l),u.properties=s,t.data={position:u}}}return r}function ps(e){const t=$0({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=$0({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function $0(e){return e.line&&e.column?e:void 0}const K0={}.hasOwnProperty;function tx(e,t){const n=t||{};function r(i,...s){let a=r.invalid;const o=r.handlers;if(i&&K0.call(i,e)){const l=String(i[e]);a=K0.call(o,l)?o[l]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const mL={},gL={}.hasOwnProperty,nx=tx("type",{handlers:{root:bL,element:wL,text:xL,comment:TL,doctype:EL}});function _L(e,t){const r=(t||mL).space;return nx(e,r==="svg"?mi:Co)}function bL(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Np(e.children,n,t),Gs(e,n),n}function yL(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Np(e.children,n,t),Gs(e,n),n}function EL(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Gs(e,t),t}function xL(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Gs(e,t),t}function TL(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Gs(e,t),t}function wL(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=mi);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&gL.call(e.properties,s)){const l=vL(r,s,e.properties[s]);l&&i.push(l)}}const a=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Li[a],childNodes:[],parentNode:null};return o.childNodes=Np(e.children,o,r),Gs(e,o),e.tagName==="template"&&e.content&&(o.content=yL(e.content,r)),o}function vL(e,t,n){const r=cc(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?hE(n):TE(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Li[r.space]}return i}function Np(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=nx(e[r],n);s.parentNode=t,i.push(s)}return i}function Gs(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const AL=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],CL=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),at="";var A;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(A||(A={}));const Zt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function rx(e){return e>=55296&&e<=57343}function SL(e){return e>=56320&&e<=57343}function kL(e,t){return(e-55296)*1024+9216+t}function ix(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function sx(e){return e>=64976&&e<=65007||CL.has(e)}var U;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(U||(U={}));const IL=65536;class RL{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=IL,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,a=i+n,o=s+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(SL(n))return this.pos++,this._addGap(),kL(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,A.EOF;return this._err(U.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;const r=this.html.charCodeAt(n);return r===A.CARRIAGE_RETURN?A.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;let t=this.html.charCodeAt(this.pos);return t===A.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,A.LINE_FEED):t===A.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,rx(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===A.LINE_FEED||t===A.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){ix(t)?this._err(U.controlCharacterInInputStream):sx(t)&&this._err(U.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Pe;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Pe||(Pe={}));function ax(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const ox=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),LL=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Id;const NL=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),PL=(Id=String.fromCodePoint)!==null&&Id!==void 0?Id:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function OL(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=NL.get(e))!==null&&t!==void 0?t:e}var Rt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Rt||(Rt={}));const DL=32;var Gr;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Gr||(Gr={}));function nh(e){return e>=Rt.ZERO&&e<=Rt.NINE}function ML(e){return e>=Rt.UPPER_A&&e<=Rt.UPPER_F||e>=Rt.LOWER_A&&e<=Rt.LOWER_F}function FL(e){return e>=Rt.UPPER_A&&e<=Rt.UPPER_Z||e>=Rt.LOWER_A&&e<=Rt.LOWER_Z||nh(e)}function BL(e){return e===Rt.EQUALS||FL(e)}var kt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(kt||(kt={}));var mr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(mr||(mr={}));class lx{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=kt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=mr.Strict}startEntity(t){this.decodeMode=t,this.state=kt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case kt.EntityStart:return t.charCodeAt(n)===Rt.NUM?(this.state=kt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=kt.NamedEntity,this.stateNamedEntity(t,n));case kt.NumericStart:return this.stateNumericStart(t,n);case kt.NumericDecimal:return this.stateNumericDecimal(t,n);case kt.NumericHex:return this.stateNumericHex(t,n);case kt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|DL)===Rt.LOWER_X?(this.state=kt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=kt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(nh(i)||ML(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(nh(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Rt.SEMI)this.consumed+=1;else if(this.decodeMode===mr.Strict)return 0;return this.emitCodePoint(OL(this.result),this.consumed),this.errors&&(t!==Rt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Gr.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=HL(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===mr.Attribute&&(s===0||BL(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Gr.VALUE_LENGTH)>>14,s!==0){if(a===Rt.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==mr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Gr.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Gr.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case kt.NamedEntity:return this.result!==0&&(this.decodeMode!==mr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case kt.NumericDecimal:return this.emitNumericEntity(0,2);case kt.NumericHex:return this.emitNumericEntity(0,3);case kt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case kt.EntityStart:return 0}}}function ux(e){let t="";const n=new lx(e,r=>t+=PL(r));return function(i,s){let a=0,o=0;for(;(o=i.indexOf("&",o))>=0;){t+=i.slice(a,o),n.startEntity(s);const u=n.write(i,o+1);if(u<0){a=o+n.end();break}a=o+u,o=u===0?a+1:a}const l=t+i.slice(a);return t="",l}}function HL(e,t,n,r){const i=(t&Gr.BRANCH_LENGTH)>>7,s=t&Gr.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:e[n+l]-1}let a=n,o=a+i-1;for(;a<=o;){const l=a+o>>>1,u=e[l];if(u<r)a=l+1;else if(u>r)o=l-1;else return e[l+i]}return-1}ux(ox);ux(LL);var $;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})($||($={}));var Oi;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Oi||(Oi={}));var Ln;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Ln||(Ln={}));var B;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(B||(B={}));var f;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(f||(f={}));const zL=new Map([[B.A,f.A],[B.ADDRESS,f.ADDRESS],[B.ANNOTATION_XML,f.ANNOTATION_XML],[B.APPLET,f.APPLET],[B.AREA,f.AREA],[B.ARTICLE,f.ARTICLE],[B.ASIDE,f.ASIDE],[B.B,f.B],[B.BASE,f.BASE],[B.BASEFONT,f.BASEFONT],[B.BGSOUND,f.BGSOUND],[B.BIG,f.BIG],[B.BLOCKQUOTE,f.BLOCKQUOTE],[B.BODY,f.BODY],[B.BR,f.BR],[B.BUTTON,f.BUTTON],[B.CAPTION,f.CAPTION],[B.CENTER,f.CENTER],[B.CODE,f.CODE],[B.COL,f.COL],[B.COLGROUP,f.COLGROUP],[B.DD,f.DD],[B.DESC,f.DESC],[B.DETAILS,f.DETAILS],[B.DIALOG,f.DIALOG],[B.DIR,f.DIR],[B.DIV,f.DIV],[B.DL,f.DL],[B.DT,f.DT],[B.EM,f.EM],[B.EMBED,f.EMBED],[B.FIELDSET,f.FIELDSET],[B.FIGCAPTION,f.FIGCAPTION],[B.FIGURE,f.FIGURE],[B.FONT,f.FONT],[B.FOOTER,f.FOOTER],[B.FOREIGN_OBJECT,f.FOREIGN_OBJECT],[B.FORM,f.FORM],[B.FRAME,f.FRAME],[B.FRAMESET,f.FRAMESET],[B.H1,f.H1],[B.H2,f.H2],[B.H3,f.H3],[B.H4,f.H4],[B.H5,f.H5],[B.H6,f.H6],[B.HEAD,f.HEAD],[B.HEADER,f.HEADER],[B.HGROUP,f.HGROUP],[B.HR,f.HR],[B.HTML,f.HTML],[B.I,f.I],[B.IMG,f.IMG],[B.IMAGE,f.IMAGE],[B.INPUT,f.INPUT],[B.IFRAME,f.IFRAME],[B.KEYGEN,f.KEYGEN],[B.LABEL,f.LABEL],[B.LI,f.LI],[B.LINK,f.LINK],[B.LISTING,f.LISTING],[B.MAIN,f.MAIN],[B.MALIGNMARK,f.MALIGNMARK],[B.MARQUEE,f.MARQUEE],[B.MATH,f.MATH],[B.MENU,f.MENU],[B.META,f.META],[B.MGLYPH,f.MGLYPH],[B.MI,f.MI],[B.MO,f.MO],[B.MN,f.MN],[B.MS,f.MS],[B.MTEXT,f.MTEXT],[B.NAV,f.NAV],[B.NOBR,f.NOBR],[B.NOFRAMES,f.NOFRAMES],[B.NOEMBED,f.NOEMBED],[B.NOSCRIPT,f.NOSCRIPT],[B.OBJECT,f.OBJECT],[B.OL,f.OL],[B.OPTGROUP,f.OPTGROUP],[B.OPTION,f.OPTION],[B.P,f.P],[B.PARAM,f.PARAM],[B.PLAINTEXT,f.PLAINTEXT],[B.PRE,f.PRE],[B.RB,f.RB],[B.RP,f.RP],[B.RT,f.RT],[B.RTC,f.RTC],[B.RUBY,f.RUBY],[B.S,f.S],[B.SCRIPT,f.SCRIPT],[B.SEARCH,f.SEARCH],[B.SECTION,f.SECTION],[B.SELECT,f.SELECT],[B.SOURCE,f.SOURCE],[B.SMALL,f.SMALL],[B.SPAN,f.SPAN],[B.STRIKE,f.STRIKE],[B.STRONG,f.STRONG],[B.STYLE,f.STYLE],[B.SUB,f.SUB],[B.SUMMARY,f.SUMMARY],[B.SUP,f.SUP],[B.TABLE,f.TABLE],[B.TBODY,f.TBODY],[B.TEMPLATE,f.TEMPLATE],[B.TEXTAREA,f.TEXTAREA],[B.TFOOT,f.TFOOT],[B.TD,f.TD],[B.TH,f.TH],[B.THEAD,f.THEAD],[B.TITLE,f.TITLE],[B.TR,f.TR],[B.TRACK,f.TRACK],[B.TT,f.TT],[B.U,f.U],[B.UL,f.UL],[B.SVG,f.SVG],[B.VAR,f.VAR],[B.WBR,f.WBR],[B.XMP,f.XMP]]);function Vs(e){var t;return(t=zL.get(e))!==null&&t!==void 0?t:f.UNKNOWN}const X=f,UL={[$.HTML]:new Set([X.ADDRESS,X.APPLET,X.AREA,X.ARTICLE,X.ASIDE,X.BASE,X.BASEFONT,X.BGSOUND,X.BLOCKQUOTE,X.BODY,X.BR,X.BUTTON,X.CAPTION,X.CENTER,X.COL,X.COLGROUP,X.DD,X.DETAILS,X.DIR,X.DIV,X.DL,X.DT,X.EMBED,X.FIELDSET,X.FIGCAPTION,X.FIGURE,X.FOOTER,X.FORM,X.FRAME,X.FRAMESET,X.H1,X.H2,X.H3,X.H4,X.H5,X.H6,X.HEAD,X.HEADER,X.HGROUP,X.HR,X.HTML,X.IFRAME,X.IMG,X.INPUT,X.LI,X.LINK,X.LISTING,X.MAIN,X.MARQUEE,X.MENU,X.META,X.NAV,X.NOEMBED,X.NOFRAMES,X.NOSCRIPT,X.OBJECT,X.OL,X.P,X.PARAM,X.PLAINTEXT,X.PRE,X.SCRIPT,X.SECTION,X.SELECT,X.SOURCE,X.STYLE,X.SUMMARY,X.TABLE,X.TBODY,X.TD,X.TEMPLATE,X.TEXTAREA,X.TFOOT,X.TH,X.THEAD,X.TITLE,X.TR,X.TRACK,X.UL,X.WBR,X.XMP]),[$.MATHML]:new Set([X.MI,X.MO,X.MN,X.MS,X.MTEXT,X.ANNOTATION_XML]),[$.SVG]:new Set([X.TITLE,X.FOREIGN_OBJECT,X.DESC]),[$.XLINK]:new Set,[$.XML]:new Set,[$.XMLNS]:new Set},rh=new Set([X.H1,X.H2,X.H3,X.H4,X.H5,X.H6]);B.STYLE,B.SCRIPT,B.XMP,B.IFRAME,B.NOEMBED,B.NOFRAMES,B.PLAINTEXT;var k;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(k||(k={}));const bt={DATA:k.DATA,RCDATA:k.RCDATA,RAWTEXT:k.RAWTEXT,SCRIPT_DATA:k.SCRIPT_DATA,PLAINTEXT:k.PLAINTEXT,CDATA_SECTION:k.CDATA_SECTION};function jL(e){return e>=A.DIGIT_0&&e<=A.DIGIT_9}function ba(e){return e>=A.LATIN_CAPITAL_A&&e<=A.LATIN_CAPITAL_Z}function WL(e){return e>=A.LATIN_SMALL_A&&e<=A.LATIN_SMALL_Z}function Mr(e){return WL(e)||ba(e)}function X0(e){return Mr(e)||jL(e)}function hl(e){return e+32}function cx(e){return e===A.SPACE||e===A.LINE_FEED||e===A.TABULATION||e===A.FORM_FEED}function J0(e){return cx(e)||e===A.SOLIDUS||e===A.GREATER_THAN_SIGN}function GL(e){return e===A.NULL?U.nullCharacterReference:e>1114111?U.characterReferenceOutsideUnicodeRange:rx(e)?U.surrogateCharacterReference:sx(e)?U.noncharacterCharacterReference:ix(e)||e===A.CARRIAGE_RETURN?U.controlCharacterReference:null}class VL{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=k.DATA,this.returnState=k.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new RL(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new lx(ox,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(U.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(U.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=GL(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Pe.START_TAG,tagName:"",tagID:f.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Pe.END_TAG,tagName:"",tagID:f.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Pe.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Pe.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(ax(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(U.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Vs(t.tagName),t.type===Pe.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(U.endTagWithAttributes),t.selfClosing&&this._err(U.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Pe.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Pe.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Pe.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Pe.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=cx(t)?Pe.WHITESPACE_CHARACTER:t===A.NULL?Pe.NULL_CHARACTER:Pe.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Pe.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=k.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?mr.Attribute:mr.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===k.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===k.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===k.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case k.DATA:{this._stateData(t);break}case k.RCDATA:{this._stateRcdata(t);break}case k.RAWTEXT:{this._stateRawtext(t);break}case k.SCRIPT_DATA:{this._stateScriptData(t);break}case k.PLAINTEXT:{this._statePlaintext(t);break}case k.TAG_OPEN:{this._stateTagOpen(t);break}case k.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case k.TAG_NAME:{this._stateTagName(t);break}case k.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case k.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case k.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case k.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case k.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case k.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case k.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case k.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case k.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case k.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case k.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case k.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case k.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case k.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case k.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case k.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case k.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case k.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case k.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case k.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case k.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case k.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case k.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case k.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case k.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case k.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case k.BOGUS_COMMENT:{this._stateBogusComment(t);break}case k.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case k.COMMENT_START:{this._stateCommentStart(t);break}case k.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case k.COMMENT:{this._stateComment(t);break}case k.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case k.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case k.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case k.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case k.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case k.COMMENT_END:{this._stateCommentEnd(t);break}case k.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case k.DOCTYPE:{this._stateDoctype(t);break}case k.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case k.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case k.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case k.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case k.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case k.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case k.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case k.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case k.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case k.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case k.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case k.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case k.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case k.CDATA_SECTION:{this._stateCdataSection(t);break}case k.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case k.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case k.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case k.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=k.TAG_OPEN;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(U.unexpectedNullCharacter),this._emitCodePoint(t);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case A.AMPERSAND:{this._startCharacterReference();break}case A.LESS_THAN_SIGN:{this.state=k.RCDATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(U.unexpectedNullCharacter),this._emitChars(at);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case A.LESS_THAN_SIGN:{this.state=k.RAWTEXT_LESS_THAN_SIGN;break}case A.NULL:{this._err(U.unexpectedNullCharacter),this._emitChars(at);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(U.unexpectedNullCharacter),this._emitChars(at);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case A.NULL:{this._err(U.unexpectedNullCharacter),this._emitChars(at);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Mr(t))this._createStartTagToken(),this.state=k.TAG_NAME,this._stateTagName(t);else switch(t){case A.EXCLAMATION_MARK:{this.state=k.MARKUP_DECLARATION_OPEN;break}case A.SOLIDUS:{this.state=k.END_TAG_OPEN;break}case A.QUESTION_MARK:{this._err(U.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=k.BOGUS_COMMENT,this._stateBogusComment(t);break}case A.EOF:{this._err(U.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(U.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=k.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Mr(t))this._createEndTagToken(),this.state=k.TAG_NAME,this._stateTagName(t);else switch(t){case A.GREATER_THAN_SIGN:{this._err(U.missingEndTagName),this.state=k.DATA;break}case A.EOF:{this._err(U.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(U.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=k.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=k.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this.state=k.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(U.unexpectedNullCharacter),n.tagName+=at;break}case A.EOF:{this._err(U.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(ba(t)?hl(t):t)}}_stateRcdataLessThanSign(t){t===A.SOLIDUS?this.state=k.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=k.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Mr(t)?(this.state=k.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=k.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=k.BEFORE_ATTRIBUTE_NAME,!1;case A.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=k.SELF_CLOSING_START_TAG,!1;case A.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=k.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=k.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===A.SOLIDUS?this.state=k.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=k.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Mr(t)?(this.state=k.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=k.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=k.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case A.SOLIDUS:{this.state=k.SCRIPT_DATA_END_TAG_OPEN;break}case A.EXCLAMATION_MARK:{this.state=k.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=k.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Mr(t)?(this.state=k.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=k.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=k.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===A.HYPHEN_MINUS?(this.state=k.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=k.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===A.HYPHEN_MINUS?(this.state=k.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=k.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=k.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(U.unexpectedNullCharacter),this._emitChars(at);break}case A.EOF:{this._err(U.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=k.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(U.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_ESCAPED,this._emitChars(at);break}case A.EOF:{this._err(U.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=k.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.GREATER_THAN_SIGN:{this.state=k.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(U.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_ESCAPED,this._emitChars(at);break}case A.EOF:{this._err(U.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=k.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===A.SOLIDUS?this.state=k.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Mr(t)?(this._emitChars("<"),this.state=k.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Mr(t)?(this.state=k.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Zt.SCRIPT,!1)&&J0(this.preprocessor.peek(Zt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Zt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(U.unexpectedNullCharacter),this._emitChars(at);break}case A.EOF:{this._err(U.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(U.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(at);break}case A.EOF:{this._err(U.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.GREATER_THAN_SIGN:{this.state=k.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(U.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(at);break}case A.EOF:{this._err(U.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===A.SOLIDUS?(this.state=k.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Zt.SCRIPT,!1)&&J0(this.preprocessor.peek(Zt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Zt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=k.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this.state=k.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._err(U.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=k.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=k.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this._leaveAttrName(),this.state=k.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._leaveAttrName(),this.state=k.BEFORE_ATTRIBUTE_VALUE;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:{this._err(U.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case A.NULL:{this._err(U.unexpectedNullCharacter),this.currentAttr.name+=at;break}default:this.currentAttr.name+=String.fromCodePoint(ba(t)?hl(t):t)}}_stateAfterAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:{this.state=k.SELF_CLOSING_START_TAG;break}case A.EQUALS_SIGN:{this.state=k.BEFORE_ATTRIBUTE_VALUE;break}case A.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(U.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=k.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{this.state=k.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this.state=k.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(U.missingAttributeValue),this.state=k.DATA,this.emitCurrentTagToken();break}default:this.state=k.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case A.QUOTATION_MARK:{this.state=k.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(U.unexpectedNullCharacter),this.currentAttr.value+=at;break}case A.EOF:{this._err(U.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case A.APOSTROPHE:{this.state=k.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(U.unexpectedNullCharacter),this.currentAttr.value+=at;break}case A.EOF:{this._err(U.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=k.BEFORE_ATTRIBUTE_NAME;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=k.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(U.unexpectedNullCharacter),this.currentAttr.value+=at;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:case A.EQUALS_SIGN:case A.GRAVE_ACCENT:{this._err(U.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case A.EOF:{this._err(U.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=k.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this._leaveAttrValue(),this.state=k.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=k.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(U.eofInTag),this._emitEOFToken();break}default:this._err(U.missingWhitespaceBetweenAttributes),this.state=k.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case A.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=k.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(U.eofInTag),this._emitEOFToken();break}default:this._err(U.unexpectedSolidusInTag),this.state=k.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentComment(n);break}case A.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case A.NULL:{this._err(U.unexpectedNullCharacter),n.data+=at;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Zt.DASH_DASH,!0)?(this._createCommentToken(Zt.DASH_DASH.length+1),this.state=k.COMMENT_START):this._consumeSequenceIfMatch(Zt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Zt.DOCTYPE.length+1),this.state=k.DOCTYPE):this._consumeSequenceIfMatch(Zt.CDATA_START,!0)?this.inForeignNode?this.state=k.CDATA_SECTION:(this._err(U.cdataInHtmlContent),this._createCommentToken(Zt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=k.BOGUS_COMMENT):this._ensureHibernation()||(this._err(U.incorrectlyOpenedComment),this._createCommentToken(2),this.state=k.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case A.HYPHEN_MINUS:{this.state=k.COMMENT_START_DASH;break}case A.GREATER_THAN_SIGN:{this._err(U.abruptClosingOfEmptyComment),this.state=k.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=k.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=k.COMMENT_END;break}case A.GREATER_THAN_SIGN:{this._err(U.abruptClosingOfEmptyComment),this.state=k.DATA,this.emitCurrentComment(n);break}case A.EOF:{this._err(U.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=k.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=k.COMMENT_END_DASH;break}case A.LESS_THAN_SIGN:{n.data+="<",this.state=k.COMMENT_LESS_THAN_SIGN;break}case A.NULL:{this._err(U.unexpectedNullCharacter),n.data+=at;break}case A.EOF:{this._err(U.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case A.EXCLAMATION_MARK:{n.data+="!",this.state=k.COMMENT_LESS_THAN_SIGN_BANG;break}case A.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=k.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===A.HYPHEN_MINUS?this.state=k.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=k.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===A.HYPHEN_MINUS?this.state=k.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=k.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==A.GREATER_THAN_SIGN&&t!==A.EOF&&this._err(U.nestedComment),this.state=k.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=k.COMMENT_END;break}case A.EOF:{this._err(U.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=k.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentComment(n);break}case A.EXCLAMATION_MARK:{this.state=k.COMMENT_END_BANG;break}case A.HYPHEN_MINUS:{n.data+="-";break}case A.EOF:{this._err(U.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=k.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case A.HYPHEN_MINUS:{n.data+="--!",this.state=k.COMMENT_END_DASH;break}case A.GREATER_THAN_SIGN:{this._err(U.incorrectlyClosedComment),this.state=k.DATA,this.emitCurrentComment(n);break}case A.EOF:{this._err(U.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=k.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=k.BEFORE_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=k.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case A.EOF:{this._err(U.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(U.missingWhitespaceBeforeDoctypeName),this.state=k.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(ba(t))this._createDoctypeToken(String.fromCharCode(hl(t))),this.state=k.DOCTYPE_NAME;else switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.NULL:{this._err(U.unexpectedNullCharacter),this._createDoctypeToken(at),this.state=k.DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this._err(U.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=k.DATA;break}case A.EOF:{this._err(U.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=k.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=k.AFTER_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentDoctype(n);break}case A.NULL:{this._err(U.unexpectedNullCharacter),n.name+=at;break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(ba(t)?hl(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Zt.PUBLIC,!1)?this.state=k.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Zt.SYSTEM,!1)?this.state=k.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(U.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=k.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(U.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(U.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(U.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(U.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{n.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(U.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(U.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=k.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(U.unexpectedNullCharacter),n.publicId+=at;break}case A.GREATER_THAN_SIGN:{this._err(U.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=k.DATA;break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=k.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(U.unexpectedNullCharacter),n.publicId+=at;break}case A.GREATER_THAN_SIGN:{this._err(U.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=k.DATA;break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=k.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case A.GREATER_THAN_SIGN:{this.state=k.DATA,this.emitCurrentDoctype(n);break}case A.QUOTATION_MARK:{this._err(U.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(U.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(U.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=k.DATA;break}case A.QUOTATION_MARK:{n.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(U.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=k.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(U.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(U.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(U.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(U.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{n.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{n.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(U.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(n);break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(U.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=k.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(U.unexpectedNullCharacter),n.systemId+=at;break}case A.GREATER_THAN_SIGN:{this._err(U.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=k.DATA;break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=k.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(U.unexpectedNullCharacter),n.systemId+=at;break}case A.GREATER_THAN_SIGN:{this._err(U.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=k.DATA;break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=k.DATA;break}case A.EOF:{this._err(U.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(U.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=k.DATA;break}case A.NULL:{this._err(U.unexpectedNullCharacter);break}case A.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case A.RIGHT_SQUARE_BRACKET:{this.state=k.CDATA_SECTION_BRACKET;break}case A.EOF:{this._err(U.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===A.RIGHT_SQUARE_BRACKET?this.state=k.CDATA_SECTION_END:(this._emitChars("]"),this.state=k.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case A.GREATER_THAN_SIGN:{this.state=k.DATA;break}case A.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=k.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(A.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&X0(this.preprocessor.peek(1))?k.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){X0(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===A.SEMICOLON&&this._err(U.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const dx=new Set([f.DD,f.DT,f.LI,f.OPTGROUP,f.OPTION,f.P,f.RB,f.RP,f.RT,f.RTC]),Z0=new Set([...dx,f.CAPTION,f.COLGROUP,f.TBODY,f.TD,f.TFOOT,f.TH,f.THEAD,f.TR]),Iu=new Set([f.APPLET,f.CAPTION,f.HTML,f.MARQUEE,f.OBJECT,f.TABLE,f.TD,f.TEMPLATE,f.TH]),YL=new Set([...Iu,f.OL,f.UL]),qL=new Set([...Iu,f.BUTTON]),e1=new Set([f.ANNOTATION_XML,f.MI,f.MN,f.MO,f.MS,f.MTEXT]),t1=new Set([f.DESC,f.FOREIGN_OBJECT,f.TITLE]),QL=new Set([f.TR,f.TEMPLATE,f.HTML]),$L=new Set([f.TBODY,f.TFOOT,f.THEAD,f.TEMPLATE,f.HTML]),KL=new Set([f.TABLE,f.TEMPLATE,f.HTML]),XL=new Set([f.TD,f.TH]);class JL{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=f.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===f.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===$.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==$.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(rh,$.HTML)}popUntilTableCellPopped(){this.popUntilPopped(XL,$.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(KL,$.HTML)}clearBackToTableBodyContext(){this.clearBackTo($L,$.HTML)}clearBackToTableRowContext(){this.clearBackTo(QL,$.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===f.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===f.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case $.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case $.SVG:{if(t1.has(i))return!1;break}case $.MATHML:{if(e1.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Iu)}hasInListItemScope(t){return this.hasInDynamicScope(t,YL)}hasInButtonScope(t){return this.hasInDynamicScope(t,qL)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case $.HTML:{if(rh.has(n))return!0;if(Iu.has(n))return!1;break}case $.SVG:{if(t1.has(n))return!1;break}case $.MATHML:{if(e1.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===$.HTML)switch(this.tagIDs[n]){case t:return!0;case f.TABLE:case f.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===$.HTML)switch(this.tagIDs[t]){case f.TBODY:case f.THEAD:case f.TFOOT:return!0;case f.TABLE:case f.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===$.HTML)switch(this.tagIDs[n]){case t:return!0;case f.OPTION:case f.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;dx.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Z0.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Z0.has(this.currentTagId);)this.pop()}}const Rd=3;var er;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(er||(er={}));const n1={type:er.Marker};class ZL{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===er.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===a){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:o,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Rd)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Rd)return;const i=new Map(n.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=Rd&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(n1)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:er.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:er.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(n1);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===er.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===er.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===er.Element&&n.element===t)}}const Fr={createDocument(){return{nodeName:"#document",mode:Ln.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Fr.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Fr.isTextNode(n)){n.value+=t;return}}Fr.appendChild(e,Fr.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Fr.isTextNode(r)?r.value+=t:Fr.insertBefore(e,Fr.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},fx="html",eN="about:legacy-compat",tN="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",hx=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],nN=[...hx,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],rN=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),px=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],iN=[...px,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function r1(e,t){return t.some(n=>e.startsWith(n))}function sN(e){return e.name===fx&&e.publicId===null&&(e.systemId===null||e.systemId===eN)}function aN(e){if(e.name!==fx)return Ln.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===tN)return Ln.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),rN.has(n))return Ln.QUIRKS;let r=t===null?nN:hx;if(r1(n,r))return Ln.QUIRKS;if(r=t===null?px:iN,r1(n,r))return Ln.LIMITED_QUIRKS}return Ln.NO_QUIRKS}const i1={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},oN="definitionurl",lN="definitionURL",uN=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),cN=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:$.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:$.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:$.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:$.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:$.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:$.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:$.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:$.XML}],["xml:space",{prefix:"xml",name:"space",namespace:$.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:$.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:$.XMLNS}]]),dN=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),fN=new Set([f.B,f.BIG,f.BLOCKQUOTE,f.BODY,f.BR,f.CENTER,f.CODE,f.DD,f.DIV,f.DL,f.DT,f.EM,f.EMBED,f.H1,f.H2,f.H3,f.H4,f.H5,f.H6,f.HEAD,f.HR,f.I,f.IMG,f.LI,f.LISTING,f.MENU,f.META,f.NOBR,f.OL,f.P,f.PRE,f.RUBY,f.S,f.SMALL,f.SPAN,f.STRONG,f.STRIKE,f.SUB,f.SUP,f.TABLE,f.TT,f.U,f.UL,f.VAR]);function hN(e){const t=e.tagID;return t===f.FONT&&e.attrs.some(({name:r})=>r===Oi.COLOR||r===Oi.SIZE||r===Oi.FACE)||fN.has(t)}function mx(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===oN){e.attrs[t].name=lN;break}}function gx(e){for(let t=0;t<e.attrs.length;t++){const n=uN.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Pp(e){for(let t=0;t<e.attrs.length;t++){const n=cN.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function pN(e){const t=dN.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Vs(e.tagName))}function mN(e,t){return t===$.MATHML&&(e===f.MI||e===f.MO||e===f.MN||e===f.MS||e===f.MTEXT)}function gN(e,t,n){if(t===$.MATHML&&e===f.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Oi.ENCODING){const i=n[r].value.toLowerCase();return i===i1.TEXT_HTML||i===i1.APPLICATION_XML}}return t===$.SVG&&(e===f.FOREIGN_OBJECT||e===f.DESC||e===f.TITLE)}function _N(e,t,n,r){return(!r||r===$.HTML)&&gN(e,t,n)||(!r||r===$.MATHML)&&mN(e,t)}const bN="hidden",yN=8,EN=3;var L;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(L||(L={}));const xN={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},_x=new Set([f.TABLE,f.TBODY,f.TFOOT,f.THEAD,f.TR]),s1={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Fr,onParseError:null};class a1{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=L.INITIAL,this.originalInsertionMode=L.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...s1,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new VL(this.options,this),this.activeFormattingElements=new ZL(this.treeAdapter),this.fragmentContextID=r?Vs(this.treeAdapter.getTagName(r)):f.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new JL(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...s1,...n};t??(t=r.treeAdapter.createElement(B.TEMPLATE,$.HTML,[]));const i=r.treeAdapter.createElement("documentmock",$.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===f.TEMPLATE&&s.tmplInsertionModeStack.unshift(L.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:xN,a={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===$.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,$.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=L.TEXT}switchToPlaintextParsing(){this.insertionMode=L.TEXT,this.originalInsertionMode=L.IN_BODY,this.tokenizer.state=bt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===B.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==$.HTML))switch(this.fragmentContextID){case f.TITLE:case f.TEXTAREA:{this.tokenizer.state=bt.RCDATA;break}case f.STYLE:case f.XMP:case f.IFRAME:case f.NOEMBED:case f.NOFRAMES:case f.NOSCRIPT:{this.tokenizer.state=bt.RAWTEXT;break}case f.SCRIPT:{this.tokenizer.state=bt.SCRIPT_DATA;break}case f.PLAINTEXT:{this.tokenizer.state=bt.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,$.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,$.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(B.HTML,$.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,f.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Pe.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===f.SVG&&this.treeAdapter.getTagName(n)===B.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===$.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===f.MGLYPH||t.tagID===f.MALIGNMARK)&&!this._isIntegrationPoint(r,n,$.HTML)}_processToken(t){switch(t.type){case Pe.CHARACTER:{this.onCharacter(t);break}case Pe.NULL_CHARACTER:{this.onNullCharacter(t);break}case Pe.COMMENT:{this.onComment(t);break}case Pe.DOCTYPE:{this.onDoctype(t);break}case Pe.START_TAG:{this._processStartTag(t);break}case Pe.END_TAG:{this.onEndTag(t);break}case Pe.EOF:{this.onEof(t);break}case Pe.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return _N(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===er.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=L.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(f.P),this.openElements.popUntilTagNamePopped(f.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case f.TR:{this.insertionMode=L.IN_ROW;return}case f.TBODY:case f.THEAD:case f.TFOOT:{this.insertionMode=L.IN_TABLE_BODY;return}case f.CAPTION:{this.insertionMode=L.IN_CAPTION;return}case f.COLGROUP:{this.insertionMode=L.IN_COLUMN_GROUP;return}case f.TABLE:{this.insertionMode=L.IN_TABLE;return}case f.BODY:{this.insertionMode=L.IN_BODY;return}case f.FRAMESET:{this.insertionMode=L.IN_FRAMESET;return}case f.SELECT:{this._resetInsertionModeForSelect(t);return}case f.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case f.HTML:{this.insertionMode=this.headElement?L.AFTER_HEAD:L.BEFORE_HEAD;return}case f.TD:case f.TH:{if(t>0){this.insertionMode=L.IN_CELL;return}break}case f.HEAD:{if(t>0){this.insertionMode=L.IN_HEAD;return}break}}this.insertionMode=L.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===f.TEMPLATE)break;if(r===f.TABLE){this.insertionMode=L.IN_SELECT_IN_TABLE;return}}this.insertionMode=L.IN_SELECT}_isElementCausesFosterParenting(t){return _x.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case f.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===$.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case f.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return UL[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){X6(this,t);return}switch(this.insertionMode){case L.INITIAL:{aa(this,t);break}case L.BEFORE_HTML:{Oa(this,t);break}case L.BEFORE_HEAD:{Da(this,t);break}case L.IN_HEAD:{Ma(this,t);break}case L.IN_HEAD_NO_SCRIPT:{Fa(this,t);break}case L.AFTER_HEAD:{Ba(this,t);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:{yx(this,t);break}case L.TEXT:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Ld(this,t);break}case L.IN_TABLE_TEXT:{Ax(this,t);break}case L.IN_COLUMN_GROUP:{Ru(this,t);break}case L.AFTER_BODY:{Lu(this,t);break}case L.AFTER_AFTER_BODY:{Yl(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){K6(this,t);return}switch(this.insertionMode){case L.INITIAL:{aa(this,t);break}case L.BEFORE_HTML:{Oa(this,t);break}case L.BEFORE_HEAD:{Da(this,t);break}case L.IN_HEAD:{Ma(this,t);break}case L.IN_HEAD_NO_SCRIPT:{Fa(this,t);break}case L.AFTER_HEAD:{Ba(this,t);break}case L.TEXT:{this._insertCharacters(t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Ld(this,t);break}case L.IN_COLUMN_GROUP:{Ru(this,t);break}case L.AFTER_BODY:{Lu(this,t);break}case L.AFTER_AFTER_BODY:{Yl(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){ih(this,t);return}switch(this.insertionMode){case L.INITIAL:case L.BEFORE_HTML:case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_TEMPLATE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{ih(this,t);break}case L.IN_TABLE_TEXT:{oa(this,t);break}case L.AFTER_BODY:{kN(this,t);break}case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{IN(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case L.INITIAL:{RN(this,t);break}case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:{this._err(t,U.misplacedDoctype);break}case L.IN_TABLE_TEXT:{oa(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,U.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?J6(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case L.INITIAL:{aa(this,t);break}case L.BEFORE_HTML:{LN(this,t);break}case L.BEFORE_HEAD:{PN(this,t);break}case L.IN_HEAD:{Yn(this,t);break}case L.IN_HEAD_NO_SCRIPT:{MN(this,t);break}case L.AFTER_HEAD:{BN(this,t);break}case L.IN_BODY:{Gt(this,t);break}case L.IN_TABLE:{Os(this,t);break}case L.IN_TABLE_TEXT:{oa(this,t);break}case L.IN_CAPTION:{O6(this,t);break}case L.IN_COLUMN_GROUP:{Mp(this,t);break}case L.IN_TABLE_BODY:{Ec(this,t);break}case L.IN_ROW:{xc(this,t);break}case L.IN_CELL:{F6(this,t);break}case L.IN_SELECT:{kx(this,t);break}case L.IN_SELECT_IN_TABLE:{H6(this,t);break}case L.IN_TEMPLATE:{U6(this,t);break}case L.AFTER_BODY:{W6(this,t);break}case L.IN_FRAMESET:{G6(this,t);break}case L.AFTER_FRAMESET:{Y6(this,t);break}case L.AFTER_AFTER_BODY:{Q6(this,t);break}case L.AFTER_AFTER_FRAMESET:{$6(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Z6(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case L.INITIAL:{aa(this,t);break}case L.BEFORE_HTML:{NN(this,t);break}case L.BEFORE_HEAD:{ON(this,t);break}case L.IN_HEAD:{DN(this,t);break}case L.IN_HEAD_NO_SCRIPT:{FN(this,t);break}case L.AFTER_HEAD:{HN(this,t);break}case L.IN_BODY:{yc(this,t);break}case L.TEXT:{v6(this,t);break}case L.IN_TABLE:{co(this,t);break}case L.IN_TABLE_TEXT:{oa(this,t);break}case L.IN_CAPTION:{D6(this,t);break}case L.IN_COLUMN_GROUP:{M6(this,t);break}case L.IN_TABLE_BODY:{sh(this,t);break}case L.IN_ROW:{Sx(this,t);break}case L.IN_CELL:{B6(this,t);break}case L.IN_SELECT:{Ix(this,t);break}case L.IN_SELECT_IN_TABLE:{z6(this,t);break}case L.IN_TEMPLATE:{j6(this,t);break}case L.AFTER_BODY:{Lx(this,t);break}case L.IN_FRAMESET:{V6(this,t);break}case L.AFTER_FRAMESET:{q6(this,t);break}case L.AFTER_AFTER_BODY:{Yl(this,t);break}}}onEof(t){switch(this.insertionMode){case L.INITIAL:{aa(this,t);break}case L.BEFORE_HTML:{Oa(this,t);break}case L.BEFORE_HEAD:{Da(this,t);break}case L.IN_HEAD:{Ma(this,t);break}case L.IN_HEAD_NO_SCRIPT:{Fa(this,t);break}case L.AFTER_HEAD:{Ba(this,t);break}case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{wx(this,t);break}case L.TEXT:{A6(this,t);break}case L.IN_TABLE_TEXT:{oa(this,t);break}case L.IN_TEMPLATE:{Rx(this,t);break}case L.AFTER_BODY:case L.IN_FRAMESET:case L.AFTER_FRAMESET:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{Dp(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===A.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.TEXT:case L.IN_COLUMN_GROUP:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{this._insertCharacters(t);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:case L.AFTER_BODY:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{bx(this,t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Ld(this,t);break}case L.IN_TABLE_TEXT:{vx(this,t);break}}}}function TN(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Tx(e,t),n}function wN(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function vN(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==n;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),l=o&&s>=EN;!o||l?(l&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=AN(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function AN(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function CN(e,t,n){const r=e.treeAdapter.getTagName(t),i=Vs(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===f.TEMPLATE&&s===$.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function SN(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function Op(e,t){for(let n=0;n<yN;n++){const r=TN(e,t);if(!r)break;const i=wN(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=vN(e,i,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),a&&CN(e,a,s),SN(e,i,r)}}function ih(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function kN(e,t){e._appendCommentNode(t,e.openElements.items[0])}function IN(e,t){e._appendCommentNode(t,e.document)}function Dp(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function RN(e,t){e._setDocumentType(t);const n=t.forceQuirks?Ln.QUIRKS:aN(t);sN(t)||e._err(t,U.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=L.BEFORE_HTML}function aa(e,t){e._err(t,U.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Ln.QUIRKS),e.insertionMode=L.BEFORE_HTML,e._processToken(t)}function LN(e,t){t.tagID===f.HTML?(e._insertElement(t,$.HTML),e.insertionMode=L.BEFORE_HEAD):Oa(e,t)}function NN(e,t){const n=t.tagID;(n===f.HTML||n===f.HEAD||n===f.BODY||n===f.BR)&&Oa(e,t)}function Oa(e,t){e._insertFakeRootElement(),e.insertionMode=L.BEFORE_HEAD,e._processToken(t)}function PN(e,t){switch(t.tagID){case f.HTML:{Gt(e,t);break}case f.HEAD:{e._insertElement(t,$.HTML),e.headElement=e.openElements.current,e.insertionMode=L.IN_HEAD;break}default:Da(e,t)}}function ON(e,t){const n=t.tagID;n===f.HEAD||n===f.BODY||n===f.HTML||n===f.BR?Da(e,t):e._err(t,U.endTagWithoutMatchingOpenElement)}function Da(e,t){e._insertFakeElement(B.HEAD,f.HEAD),e.headElement=e.openElements.current,e.insertionMode=L.IN_HEAD,e._processToken(t)}function Yn(e,t){switch(t.tagID){case f.HTML:{Gt(e,t);break}case f.BASE:case f.BASEFONT:case f.BGSOUND:case f.LINK:case f.META:{e._appendElement(t,$.HTML),t.ackSelfClosing=!0;break}case f.TITLE:{e._switchToTextParsing(t,bt.RCDATA);break}case f.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,bt.RAWTEXT):(e._insertElement(t,$.HTML),e.insertionMode=L.IN_HEAD_NO_SCRIPT);break}case f.NOFRAMES:case f.STYLE:{e._switchToTextParsing(t,bt.RAWTEXT);break}case f.SCRIPT:{e._switchToTextParsing(t,bt.SCRIPT_DATA);break}case f.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=L.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(L.IN_TEMPLATE);break}case f.HEAD:{e._err(t,U.misplacedStartTagForHeadElement);break}default:Ma(e,t)}}function DN(e,t){switch(t.tagID){case f.HEAD:{e.openElements.pop(),e.insertionMode=L.AFTER_HEAD;break}case f.BODY:case f.BR:case f.HTML:{Ma(e,t);break}case f.TEMPLATE:{qi(e,t);break}default:e._err(t,U.endTagWithoutMatchingOpenElement)}}function qi(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==f.TEMPLATE&&e._err(t,U.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(f.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,U.endTagWithoutMatchingOpenElement)}function Ma(e,t){e.openElements.pop(),e.insertionMode=L.AFTER_HEAD,e._processToken(t)}function MN(e,t){switch(t.tagID){case f.HTML:{Gt(e,t);break}case f.BASEFONT:case f.BGSOUND:case f.HEAD:case f.LINK:case f.META:case f.NOFRAMES:case f.STYLE:{Yn(e,t);break}case f.NOSCRIPT:{e._err(t,U.nestedNoscriptInHead);break}default:Fa(e,t)}}function FN(e,t){switch(t.tagID){case f.NOSCRIPT:{e.openElements.pop(),e.insertionMode=L.IN_HEAD;break}case f.BR:{Fa(e,t);break}default:e._err(t,U.endTagWithoutMatchingOpenElement)}}function Fa(e,t){const n=t.type===Pe.EOF?U.openElementsLeftAfterEof:U.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=L.IN_HEAD,e._processToken(t)}function BN(e,t){switch(t.tagID){case f.HTML:{Gt(e,t);break}case f.BODY:{e._insertElement(t,$.HTML),e.framesetOk=!1,e.insertionMode=L.IN_BODY;break}case f.FRAMESET:{e._insertElement(t,$.HTML),e.insertionMode=L.IN_FRAMESET;break}case f.BASE:case f.BASEFONT:case f.BGSOUND:case f.LINK:case f.META:case f.NOFRAMES:case f.SCRIPT:case f.STYLE:case f.TEMPLATE:case f.TITLE:{e._err(t,U.abandonedHeadElementChild),e.openElements.push(e.headElement,f.HEAD),Yn(e,t),e.openElements.remove(e.headElement);break}case f.HEAD:{e._err(t,U.misplacedStartTagForHeadElement);break}default:Ba(e,t)}}function HN(e,t){switch(t.tagID){case f.BODY:case f.HTML:case f.BR:{Ba(e,t);break}case f.TEMPLATE:{qi(e,t);break}default:e._err(t,U.endTagWithoutMatchingOpenElement)}}function Ba(e,t){e._insertFakeElement(B.BODY,f.BODY),e.insertionMode=L.IN_BODY,bc(e,t)}function bc(e,t){switch(t.type){case Pe.CHARACTER:{yx(e,t);break}case Pe.WHITESPACE_CHARACTER:{bx(e,t);break}case Pe.COMMENT:{ih(e,t);break}case Pe.START_TAG:{Gt(e,t);break}case Pe.END_TAG:{yc(e,t);break}case Pe.EOF:{wx(e,t);break}}}function bx(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function yx(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function zN(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function UN(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function jN(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,$.HTML),e.insertionMode=L.IN_FRAMESET)}function WN(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,$.HTML)}function GN(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),rh.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,$.HTML)}function VN(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,$.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function YN(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,$.HTML),n||(e.formElement=e.openElements.current))}function qN(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===f.LI&&i===f.LI||(n===f.DD||n===f.DT)&&(i===f.DD||i===f.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==f.ADDRESS&&i!==f.DIV&&i!==f.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,$.HTML)}function QN(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,$.HTML),e.tokenizer.state=bt.PLAINTEXT}function $N(e,t){e.openElements.hasInScope(f.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,$.HTML),e.framesetOk=!1}function KN(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(B.A);n&&(Op(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,$.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function XN(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,$.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function JN(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(f.NOBR)&&(Op(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,$.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ZN(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,$.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function e6(e,t){e.treeAdapter.getDocumentMode(e.document)!==Ln.QUIRKS&&e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,$.HTML),e.framesetOk=!1,e.insertionMode=L.IN_TABLE}function Ex(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,$.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function xx(e){const t=ax(e,Oi.TYPE);return t!=null&&t.toLowerCase()===bN}function t6(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,$.HTML),xx(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function n6(e,t){e._appendElement(t,$.HTML),t.ackSelfClosing=!0}function r6(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._appendElement(t,$.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function i6(e,t){t.tagName=B.IMG,t.tagID=f.IMG,Ex(e,t)}function s6(e,t){e._insertElement(t,$.HTML),e.skipNextNewLine=!0,e.tokenizer.state=bt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=L.TEXT}function a6(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,bt.RAWTEXT)}function o6(e,t){e.framesetOk=!1,e._switchToTextParsing(t,bt.RAWTEXT)}function o1(e,t){e._switchToTextParsing(t,bt.RAWTEXT)}function l6(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,$.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===L.IN_TABLE||e.insertionMode===L.IN_CAPTION||e.insertionMode===L.IN_TABLE_BODY||e.insertionMode===L.IN_ROW||e.insertionMode===L.IN_CELL?L.IN_SELECT_IN_TABLE:L.IN_SELECT}function u6(e,t){e.openElements.currentTagId===f.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,$.HTML)}function c6(e,t){e.openElements.hasInScope(f.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,$.HTML)}function d6(e,t){e.openElements.hasInScope(f.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(f.RTC),e._insertElement(t,$.HTML)}function f6(e,t){e._reconstructActiveFormattingElements(),mx(t),Pp(t),t.selfClosing?e._appendElement(t,$.MATHML):e._insertElement(t,$.MATHML),t.ackSelfClosing=!0}function h6(e,t){e._reconstructActiveFormattingElements(),gx(t),Pp(t),t.selfClosing?e._appendElement(t,$.SVG):e._insertElement(t,$.SVG),t.ackSelfClosing=!0}function l1(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,$.HTML)}function Gt(e,t){switch(t.tagID){case f.I:case f.S:case f.B:case f.U:case f.EM:case f.TT:case f.BIG:case f.CODE:case f.FONT:case f.SMALL:case f.STRIKE:case f.STRONG:{XN(e,t);break}case f.A:{KN(e,t);break}case f.H1:case f.H2:case f.H3:case f.H4:case f.H5:case f.H6:{GN(e,t);break}case f.P:case f.DL:case f.OL:case f.UL:case f.DIV:case f.DIR:case f.NAV:case f.MAIN:case f.MENU:case f.ASIDE:case f.CENTER:case f.FIGURE:case f.FOOTER:case f.HEADER:case f.HGROUP:case f.DIALOG:case f.DETAILS:case f.ADDRESS:case f.ARTICLE:case f.SEARCH:case f.SECTION:case f.SUMMARY:case f.FIELDSET:case f.BLOCKQUOTE:case f.FIGCAPTION:{WN(e,t);break}case f.LI:case f.DD:case f.DT:{qN(e,t);break}case f.BR:case f.IMG:case f.WBR:case f.AREA:case f.EMBED:case f.KEYGEN:{Ex(e,t);break}case f.HR:{r6(e,t);break}case f.RB:case f.RTC:{c6(e,t);break}case f.RT:case f.RP:{d6(e,t);break}case f.PRE:case f.LISTING:{VN(e,t);break}case f.XMP:{a6(e,t);break}case f.SVG:{h6(e,t);break}case f.HTML:{zN(e,t);break}case f.BASE:case f.LINK:case f.META:case f.STYLE:case f.TITLE:case f.SCRIPT:case f.BGSOUND:case f.BASEFONT:case f.TEMPLATE:{Yn(e,t);break}case f.BODY:{UN(e,t);break}case f.FORM:{YN(e,t);break}case f.NOBR:{JN(e,t);break}case f.MATH:{f6(e,t);break}case f.TABLE:{e6(e,t);break}case f.INPUT:{t6(e,t);break}case f.PARAM:case f.TRACK:case f.SOURCE:{n6(e,t);break}case f.IMAGE:{i6(e,t);break}case f.BUTTON:{$N(e,t);break}case f.APPLET:case f.OBJECT:case f.MARQUEE:{ZN(e,t);break}case f.IFRAME:{o6(e,t);break}case f.SELECT:{l6(e,t);break}case f.OPTION:case f.OPTGROUP:{u6(e,t);break}case f.NOEMBED:case f.NOFRAMES:{o1(e,t);break}case f.FRAMESET:{jN(e,t);break}case f.TEXTAREA:{s6(e,t);break}case f.NOSCRIPT:{e.options.scriptingEnabled?o1(e,t):l1(e,t);break}case f.PLAINTEXT:{QN(e,t);break}case f.COL:case f.TH:case f.TD:case f.TR:case f.HEAD:case f.FRAME:case f.TBODY:case f.TFOOT:case f.THEAD:case f.CAPTION:case f.COLGROUP:break;default:l1(e,t)}}function p6(e,t){if(e.openElements.hasInScope(f.BODY)&&(e.insertionMode=L.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function m6(e,t){e.openElements.hasInScope(f.BODY)&&(e.insertionMode=L.AFTER_BODY,Lx(e,t))}function g6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function _6(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(f.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(f.FORM):n&&e.openElements.remove(n))}function b6(e){e.openElements.hasInButtonScope(f.P)||e._insertFakeElement(B.P,f.P),e._closePElement()}function y6(e){e.openElements.hasInListItemScope(f.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(f.LI),e.openElements.popUntilTagNamePopped(f.LI))}function E6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function x6(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function T6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function w6(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(B.BR,f.BR),e.openElements.pop(),e.framesetOk=!1}function Tx(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(r===a&&(r!==f.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function yc(e,t){switch(t.tagID){case f.A:case f.B:case f.I:case f.S:case f.U:case f.EM:case f.TT:case f.BIG:case f.CODE:case f.FONT:case f.NOBR:case f.SMALL:case f.STRIKE:case f.STRONG:{Op(e,t);break}case f.P:{b6(e);break}case f.DL:case f.UL:case f.OL:case f.DIR:case f.DIV:case f.NAV:case f.PRE:case f.MAIN:case f.MENU:case f.ASIDE:case f.BUTTON:case f.CENTER:case f.FIGURE:case f.FOOTER:case f.HEADER:case f.HGROUP:case f.DIALOG:case f.ADDRESS:case f.ARTICLE:case f.DETAILS:case f.SEARCH:case f.SECTION:case f.SUMMARY:case f.LISTING:case f.FIELDSET:case f.BLOCKQUOTE:case f.FIGCAPTION:{g6(e,t);break}case f.LI:{y6(e);break}case f.DD:case f.DT:{E6(e,t);break}case f.H1:case f.H2:case f.H3:case f.H4:case f.H5:case f.H6:{x6(e);break}case f.BR:{w6(e);break}case f.BODY:{p6(e,t);break}case f.HTML:{m6(e,t);break}case f.FORM:{_6(e);break}case f.APPLET:case f.OBJECT:case f.MARQUEE:{T6(e,t);break}case f.TEMPLATE:{qi(e,t);break}default:Tx(e,t)}}function wx(e,t){e.tmplInsertionModeStack.length>0?Rx(e,t):Dp(e,t)}function v6(e,t){var n;t.tagID===f.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function A6(e,t){e._err(t,U.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Ld(e,t){if(_x.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=L.IN_TABLE_TEXT,t.type){case Pe.CHARACTER:{Ax(e,t);break}case Pe.WHITESPACE_CHARACTER:{vx(e,t);break}}else Ro(e,t)}function C6(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,$.HTML),e.insertionMode=L.IN_CAPTION}function S6(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,$.HTML),e.insertionMode=L.IN_COLUMN_GROUP}function k6(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(B.COLGROUP,f.COLGROUP),e.insertionMode=L.IN_COLUMN_GROUP,Mp(e,t)}function I6(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,$.HTML),e.insertionMode=L.IN_TABLE_BODY}function R6(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(B.TBODY,f.TBODY),e.insertionMode=L.IN_TABLE_BODY,Ec(e,t)}function L6(e,t){e.openElements.hasInTableScope(f.TABLE)&&(e.openElements.popUntilTagNamePopped(f.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function N6(e,t){xx(t)?e._appendElement(t,$.HTML):Ro(e,t),t.ackSelfClosing=!0}function P6(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,$.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Os(e,t){switch(t.tagID){case f.TD:case f.TH:case f.TR:{R6(e,t);break}case f.STYLE:case f.SCRIPT:case f.TEMPLATE:{Yn(e,t);break}case f.COL:{k6(e,t);break}case f.FORM:{P6(e,t);break}case f.TABLE:{L6(e,t);break}case f.TBODY:case f.TFOOT:case f.THEAD:{I6(e,t);break}case f.INPUT:{N6(e,t);break}case f.CAPTION:{C6(e,t);break}case f.COLGROUP:{S6(e,t);break}default:Ro(e,t)}}function co(e,t){switch(t.tagID){case f.TABLE:{e.openElements.hasInTableScope(f.TABLE)&&(e.openElements.popUntilTagNamePopped(f.TABLE),e._resetInsertionMode());break}case f.TEMPLATE:{qi(e,t);break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:case f.TBODY:case f.TD:case f.TFOOT:case f.TH:case f.THEAD:case f.TR:break;default:Ro(e,t)}}function Ro(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,bc(e,t),e.fosterParentingEnabled=n}function vx(e,t){e.pendingCharacterTokens.push(t)}function Ax(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function oa(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Ro(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Cx=new Set([f.CAPTION,f.COL,f.COLGROUP,f.TBODY,f.TD,f.TFOOT,f.TH,f.THEAD,f.TR]);function O6(e,t){const n=t.tagID;Cx.has(n)?e.openElements.hasInTableScope(f.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_TABLE,Os(e,t)):Gt(e,t)}function D6(e,t){const n=t.tagID;switch(n){case f.CAPTION:case f.TABLE:{e.openElements.hasInTableScope(f.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_TABLE,n===f.TABLE&&co(e,t));break}case f.BODY:case f.COL:case f.COLGROUP:case f.HTML:case f.TBODY:case f.TD:case f.TFOOT:case f.TH:case f.THEAD:case f.TR:break;default:yc(e,t)}}function Mp(e,t){switch(t.tagID){case f.HTML:{Gt(e,t);break}case f.COL:{e._appendElement(t,$.HTML),t.ackSelfClosing=!0;break}case f.TEMPLATE:{Yn(e,t);break}default:Ru(e,t)}}function M6(e,t){switch(t.tagID){case f.COLGROUP:{e.openElements.currentTagId===f.COLGROUP&&(e.openElements.pop(),e.insertionMode=L.IN_TABLE);break}case f.TEMPLATE:{qi(e,t);break}case f.COL:break;default:Ru(e,t)}}function Ru(e,t){e.openElements.currentTagId===f.COLGROUP&&(e.openElements.pop(),e.insertionMode=L.IN_TABLE,e._processToken(t))}function Ec(e,t){switch(t.tagID){case f.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,$.HTML),e.insertionMode=L.IN_ROW;break}case f.TH:case f.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(B.TR,f.TR),e.insertionMode=L.IN_ROW,xc(e,t);break}case f.CAPTION:case f.COL:case f.COLGROUP:case f.TBODY:case f.TFOOT:case f.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE,Os(e,t));break}default:Os(e,t)}}function sh(e,t){const n=t.tagID;switch(t.tagID){case f.TBODY:case f.TFOOT:case f.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE);break}case f.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE,co(e,t));break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:case f.TD:case f.TH:case f.TR:break;default:co(e,t)}}function xc(e,t){switch(t.tagID){case f.TH:case f.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,$.HTML),e.insertionMode=L.IN_CELL,e.activeFormattingElements.insertMarker();break}case f.CAPTION:case f.COL:case f.COLGROUP:case f.TBODY:case f.TFOOT:case f.THEAD:case f.TR:{e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,Ec(e,t));break}default:Os(e,t)}}function Sx(e,t){switch(t.tagID){case f.TR:{e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY);break}case f.TABLE:{e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,sh(e,t));break}case f.TBODY:case f.TFOOT:case f.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(f.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,sh(e,t));break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:case f.TD:case f.TH:break;default:co(e,t)}}function F6(e,t){const n=t.tagID;Cx.has(n)?(e.openElements.hasInTableScope(f.TD)||e.openElements.hasInTableScope(f.TH))&&(e._closeTableCell(),xc(e,t)):Gt(e,t)}function B6(e,t){const n=t.tagID;switch(n){case f.TD:case f.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_ROW);break}case f.TABLE:case f.TBODY:case f.TFOOT:case f.THEAD:case f.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Sx(e,t));break}case f.BODY:case f.CAPTION:case f.COL:case f.COLGROUP:case f.HTML:break;default:yc(e,t)}}function kx(e,t){switch(t.tagID){case f.HTML:{Gt(e,t);break}case f.OPTION:{e.openElements.currentTagId===f.OPTION&&e.openElements.pop(),e._insertElement(t,$.HTML);break}case f.OPTGROUP:{e.openElements.currentTagId===f.OPTION&&e.openElements.pop(),e.openElements.currentTagId===f.OPTGROUP&&e.openElements.pop(),e._insertElement(t,$.HTML);break}case f.HR:{e.openElements.currentTagId===f.OPTION&&e.openElements.pop(),e.openElements.currentTagId===f.OPTGROUP&&e.openElements.pop(),e._appendElement(t,$.HTML),t.ackSelfClosing=!0;break}case f.INPUT:case f.KEYGEN:case f.TEXTAREA:case f.SELECT:{e.openElements.hasInSelectScope(f.SELECT)&&(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),t.tagID!==f.SELECT&&e._processStartTag(t));break}case f.SCRIPT:case f.TEMPLATE:{Yn(e,t);break}}}function Ix(e,t){switch(t.tagID){case f.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===f.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===f.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===f.OPTGROUP&&e.openElements.pop();break}case f.OPTION:{e.openElements.currentTagId===f.OPTION&&e.openElements.pop();break}case f.SELECT:{e.openElements.hasInSelectScope(f.SELECT)&&(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode());break}case f.TEMPLATE:{qi(e,t);break}}}function H6(e,t){const n=t.tagID;n===f.CAPTION||n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR||n===f.TD||n===f.TH?(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),e._processStartTag(t)):kx(e,t)}function z6(e,t){const n=t.tagID;n===f.CAPTION||n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR||n===f.TD||n===f.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Ix(e,t)}function U6(e,t){switch(t.tagID){case f.BASE:case f.BASEFONT:case f.BGSOUND:case f.LINK:case f.META:case f.NOFRAMES:case f.SCRIPT:case f.STYLE:case f.TEMPLATE:case f.TITLE:{Yn(e,t);break}case f.CAPTION:case f.COLGROUP:case f.TBODY:case f.TFOOT:case f.THEAD:{e.tmplInsertionModeStack[0]=L.IN_TABLE,e.insertionMode=L.IN_TABLE,Os(e,t);break}case f.COL:{e.tmplInsertionModeStack[0]=L.IN_COLUMN_GROUP,e.insertionMode=L.IN_COLUMN_GROUP,Mp(e,t);break}case f.TR:{e.tmplInsertionModeStack[0]=L.IN_TABLE_BODY,e.insertionMode=L.IN_TABLE_BODY,Ec(e,t);break}case f.TD:case f.TH:{e.tmplInsertionModeStack[0]=L.IN_ROW,e.insertionMode=L.IN_ROW,xc(e,t);break}default:e.tmplInsertionModeStack[0]=L.IN_BODY,e.insertionMode=L.IN_BODY,Gt(e,t)}}function j6(e,t){t.tagID===f.TEMPLATE&&qi(e,t)}function Rx(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(f.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Dp(e,t)}function W6(e,t){t.tagID===f.HTML?Gt(e,t):Lu(e,t)}function Lx(e,t){var n;if(t.tagID===f.HTML){if(e.fragmentContext||(e.insertionMode=L.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===f.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Lu(e,t)}function Lu(e,t){e.insertionMode=L.IN_BODY,bc(e,t)}function G6(e,t){switch(t.tagID){case f.HTML:{Gt(e,t);break}case f.FRAMESET:{e._insertElement(t,$.HTML);break}case f.FRAME:{e._appendElement(t,$.HTML),t.ackSelfClosing=!0;break}case f.NOFRAMES:{Yn(e,t);break}}}function V6(e,t){t.tagID===f.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==f.FRAMESET&&(e.insertionMode=L.AFTER_FRAMESET))}function Y6(e,t){switch(t.tagID){case f.HTML:{Gt(e,t);break}case f.NOFRAMES:{Yn(e,t);break}}}function q6(e,t){t.tagID===f.HTML&&(e.insertionMode=L.AFTER_AFTER_FRAMESET)}function Q6(e,t){t.tagID===f.HTML?Gt(e,t):Yl(e,t)}function Yl(e,t){e.insertionMode=L.IN_BODY,bc(e,t)}function $6(e,t){switch(t.tagID){case f.HTML:{Gt(e,t);break}case f.NOFRAMES:{Yn(e,t);break}}}function K6(e,t){t.chars=at,e._insertCharacters(t)}function X6(e,t){e._insertCharacters(t),e.framesetOk=!1}function Nx(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==$.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function J6(e,t){if(hN(t))Nx(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===$.MATHML?mx(t):r===$.SVG&&(pN(t),gx(t)),Pp(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function Z6(e,t){if(t.tagID===f.P||t.tagID===f.BR){Nx(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===$.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}B.AREA,B.BASE,B.BASEFONT,B.BGSOUND,B.BR,B.COL,B.EMBED,B.FRAME,B.HR,B.IMG,B.INPUT,B.KEYGEN,B.LINK,B.META,B.PARAM,B.SOURCE,B.TRACK,B.WBR;const eP=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,tP=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),u1={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Px(e,t){const n=dP(e),r=tx("type",{handlers:{root:nP,element:rP,text:iP,comment:Dx,doctype:sP,raw:oP},unknown:lP}),i={parser:n?new a1(u1):a1.getFragmentParser(void 0,u1),handle(o){r(o,i)},stitches:!1,options:t||{}};r(e,i),Ys(i,ir());const s=n?i.parser.document:i.parser.getFragment(),a=fL(s,{file:i.options.file});return i.stitches&&_c(a,"comment",function(o,l,u){const c=o;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function Ox(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function nP(e,t){Ox(e.children,t)}function rP(e,t){uP(e,t),Ox(e.children,t),cP(e,t)}function iP(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:Pe.CHARACTER,chars:e.value,location:Lo(e)};Ys(t,ir(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function sP(e,t){const n={type:Pe.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Lo(e)};Ys(t,ir(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function aP(e,t){t.stitches=!0;const n=fP(e);if("children"in e&&"children"in n){const r=Px({type:"root",children:e.children},t.options);n.children=r.children}Dx({type:"comment",value:{stitch:n}},t)}function Dx(e,t){const n=e.value,r={type:Pe.COMMENT,data:n,location:Lo(e)};Ys(t,ir(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function oP(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Mx(t,ir(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(eP,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function lP(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))aP(n,t);else{let r="";throw tP.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Ys(e,t){Mx(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=bt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Mx(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function uP(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===bt.PLAINTEXT)return;Ys(t,ir(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:Li.html;i===Li.html&&n==="svg"&&(i=Li.svg);const s=_L({...e,children:[]},{space:i===Li.svg?"svg":"html"}),a={type:Pe.START_TAG,tagName:n,tagID:Vs(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:Lo(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function cP(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&AL.includes(n)||t.parser.tokenizer.state===bt.PLAINTEXT)return;Ys(t,dc(e));const r={type:Pe.END_TAG,tagName:n,tagID:Vs(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Lo(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===bt.RCDATA||t.parser.tokenizer.state===bt.RAWTEXT||t.parser.tokenizer.state===bt.SCRIPT_DATA)&&(t.parser.tokenizer.state=bt.DATA)}function dP(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Lo(e){const t=ir(e)||{line:void 0,column:void 0,offset:void 0},n=dc(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function fP(e){return"children"in e?Ps({...e,children:[]}):Ps(e)}function Tc(e){return function(t,n){return Px(t,{...e,file:n})}}function c1(){return C.jsx("div",{children:C.jsx(Io,{className:"markdown-body",rehypePlugins:[Tc],children:FS})})}const hP=`# Rageval\r
\r
Evaluation tools for Retrieval-augmented Generation (RAG) methods.\r
\r
[![python](https://img.shields.io/badge/Python-3.8.18-3776AB.svg?style=flat&logo=python&logoColor=white)](https://www.python.org)\r
![workflow status](https://github.com/gomate-community/rageval/actions/workflows/makefile.yml/badge.svg)\r
[![codecov](https://codecov.io/gh/gomate-community/rageval/graph/badge.svg?token=AH4DNR46HL)](https://codecov.io/gh/gomate-community/rageval)\r
[![pydocstyle](https://img.shields.io/badge/pydocstyle-enabled-AD4CD3)](http://www.pydocstyle.org/en/stable/)\r
[![PEP8](https://img.shields.io/badge/code%20style-pep8-orange.svg)](https://www.python.org/dev/peps/pep-0008/)\r
\r
Rageval is a tool that helps you evaluate RAG system. The evaluation consists of six sub-tasks, including query rewriting, document ranking, information compression, evidence verify, answer generating, and result validating.\r
\r
## Definition of tasks and metrics\r
### 1. [The generate task](./rageval/tasks/_generate.py)\r
The generate task is to answer the question based on the contexts provided by retrieval modules in RAG. Typically, the context could be extracted/generated text snippets from the compressor, or relevant documents from the re-ranker. Here, we divide metrics used in the generate task into two categories, namely *answer correctness* and *answer groundedness*.\r
\r
(1) **Answer Correctness**: this category of metrics is to evaluate the correctness by comparing the generated answer with the groundtruth answer. Here are some commonly used metrics:\r
\r
* [Answer F1 Correctness](./rageval/metrics/_answer_f1.py): is widely used in [the paper (Jiang et al.)](https://arxiv.org/abs/2305.06983), [the paper (Yu et al.)](https://arxiv.org/abs/2311.09210), [the paper (Xu et al.)](https://arxiv.org/abs/2310.04408), and others.\r
* [Answer NLI Correctness](./rageval/metrics/_answer_claim_recall.py): also known as *claim recall* in [the paper (Tianyu et al.)](https://arxiv.org/abs/2305.14627).\r
* [Answer EM Correctness](./rageval/metrics/_answer_exact_match.py): also known as *Exact Match* as used in [the paper (Ivan Stelmakh et al.)](https://arxiv.org/abs/2204.06092).\r
* [Answer Bleu Score](./rageval/metrics/_answer_bleu.py): also known as *Bleu* as used in [the paper (Kishore Papineni et al.)](https://www.aclweb.org/anthology/P02-1040.pdf).\r
* [Answer Ter Score](./rageval/metrics/_answer_ter.py): also known as *Translation Edit Rate* as used in [the paper (Snover et al.)](https://aclanthology.org/2006.amta-papers.25).\r
* [Answer chrF Score](./rageval/metrics/_answer_chrf.py): also known as *character n-gram F-score* as used in [the paper (Popovic et al.)](https://aclanthology.org/W15-3049).\r
* [Answer Disambig-F1](./rageval/metrics/_answer_disambig_f1.py): also known as *Disambig-F1* as used in [the paper (Ivan Stelmakh et al.)](https://arxiv.org/abs/2204.06092) and [the paper (Zhengbao Jiang et al.)](https://arxiv.org/abs/2305.06983).\r
* [Answer Rouge Correctness](./rageval/metrics/_answer_rouge_correctness.py): also known as *Rouge* as used in [the paper (Chin-Yew Lin)](https://aclanthology.org/W04-1013.pdf).\r
* [Answer Accuracy](./rageval/metrics/_answer_accuracy.py): also known as *Accuracy* as used in [the paper (Dan Hendrycks et al.)](https://arxiv.org/abs/2009.03300).\r
* [Answer LCS Ratio](./rageval/metrics/_answer_lcs_ratio.py): also know as *LCS(%)* as used in [the paper (Nashid et al.)](https://ieeexplore.ieee.org/abstract/document/10172590).\r
* [Answer Edit Distance](./rageval/metrics/_answer_edit_distance.py): also know as *Edit distance* as used in [the paper (Nashid et al.)](https://ieeexplore.ieee.org/abstract/document/10172590).\r
\r
(2) **Answer Groundedness**: this category of metrics is to evaluate the groundedness (also known as factual consistency) by comparing the generated answer with the provided contexts. Here are some commonly used metrics:\r
\r
* [Answer Citation Precision](./rageval/metrics/_answer_citation_precision.py): also known as *citation precision* in [the paper (Tianyu et al.)](https://arxiv.org/abs/2305.14627).\r
* [Answer Citation Recall](./rageval/metrics/_answer_citation_recall.py): also known as *citation recall* in [the paper (Tianyu et al.)](https://arxiv.org/abs/2305.14627).\r
* [Context Reject Rate](./rageval/metrics/_context_reject_rate.py): also known as *reject rate* in [the paper (Wenhao Yu et al.)](https://arxiv.org/abs/2311.09210).\r
\r
### 2. [The rewrite task](./rageval/tasks/_rewrite.py)\r
The rewrite task is to reformulate user question into a set of queries, making them more friendly to the search module in RAG. \r
\r
### 3. [The search task](./rageval/tasks/_search.py)\r
The search task is to retrieve relevant documents from the knowledge base.\r
\r
(1) **Context Adequacy**: this category of metrics is to evaluate the adequacy by comparing the retrieved documents with the groundtruth contexts. Here are some commonly used metrics:\r
\r
(2) **Context Relevance**: this category of metrics is to evaluate the relevance by comparing the retrieved documents with the groundtruth answers. Here are some commonly used metrics:\r
\r
* [Context Recall](./rageval/metrics/_context_recall.py): also known as *Context Recall* in [RAGAS framework](https://github.com/explodinggradients/ragas).\r
\r
## Setup Evaluator LLMs\r
\r
Some metrics evaluations rely on LLMs as evaluators. You can either directly call OpenAI's API or deploy an open-source model as a RESTful API in the OpenAI format for evaluation.\r
\r
- OpenAI\r
\r
\`\`\`python\r
os.environ["OPENAI_API_KEY"] = "<your_openai_api_key>"\r
\`\`\`\r
\r
\r
- Open source LLMs\r
\r
Please use [vllm](https://github.com/vllm-project/vllm) to setup the API server for open source LLMs. For example, use the following command to deploy a Llama-3-8B model hosted on HuggingFace:\r
\r
\`\`\`bash\r
python -m vllm.entrypoints.openai.api_server \\\r
  --model meta-llama/Meta-Llama-3-8B-Instruct \\\r
  --tensor-parallel-size 8 \\\r
  --dtype auto \\\r
  --api-key sk-123456789 \\\r
  --gpu-memory-utilization 0.9 \\\r
  --port 5000\r
\`\`\`\r
\r
## Benchmark Results\r
\r
### 1. [ASQA benchmark](benchmarks/ASQA/README.md)\r
\r
[ASQA dataset](https://huggingface.co/datasets/din0s/asqa) is a question-answering dataset that contains factoid questions and long-form answers. The benchmark evaluates the correctness of the answer in the dataset. All detailed results can be download from [this repo](https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa). Besides, these results can be reproduced based on [the script](./benchmarks/ASQA/run.sh) in this repo.\r
\r
\r
<table>\r
 <col width=166>\r
 <col width=125>\r
 <col width=125 span=4>\r
 <tr>\r
  <td rowspan=2 align="center"><b>Model</b></td>\r
  <td rowspan=2 align="center"><b>Retriever</b></td>\r
  <td colspan=4 align="center"><b>Metric</b></td>\r
 </tr>\r
 <tr>\r
  <td align="center"><a href="rageval\\metrics\\_answer_exact_match.py">String EM</a></td>\r
  <td align="center"><a href="rageval\\metrics\\_answer_rouge_correctness.py">Rouge L</a></td>\r
  <td align="center"><a href="rageval\\metrics\\_answer_disambig_f1.py">Disambig F1</a></td>\r
  <td align="center"><a href="benchmarks\\ASQA\\asqa_benchmark.py">D-R Score</a></td>\r
 </tr>\r
 <tr>\r
  <td>gpt-3.5-turbo-instruct</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa/gpt_3.5_turbo_instruct">no-retrieval</a></td>\r
  <td align="center">33.8</td>\r
  <td align="center">30.2</td>\r
  <td align="center">30.7</td>\r
  <td align="center">30.5</td>\r
 </tr>\r
 <tr>\r
  <td>mistral-7b</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa/mistral_7b">no-retrieval</a></td>\r
  <td align="center">20.6</td>\r
  <td align="center">31.1</td>\r
  <td align="center">26.6</td>\r
  <td align="center">28.7</td>\r
 </tr>\r
 <tr>\r
  <td>llama2-7b-chat</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa/llama2_7b_chat">no-retrieval</a></td>\r
  <td align="center">21.7</td>\r
  <td align="center">30.7</td>\r
  <td align="center">28.0</td>\r
  <td align="center">29.3</td>\r
 </tr>\r
 <tr>\r
  <td>llama3-8b-base</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa/llama3_8b_base">no-retrieval</a></td>\r
  <td align="center">25.7</td>\r
  <td align="center">31.0</td>\r
  <td align="center">28.4</td>\r
  <td align="center">29.7</td>\r
 </tr>\r
 <tr>\r
  <td>llama3-8b-instruct</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa/llama3_8b_instruct">no-retrieval</a></td>\r
  <td align="center">27.1</td>\r
  <td align="center">30.9</td>\r
  <td align="center">29.4</td>\r
  <td align="center">30.1</td>\r
 </tr>\r
 <tr>\r
  <td>solar-10.7b-instruct</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa/solar_10.7b_instruct">no-retrieval</a></td>\r
  <td align="center">23.0</td>\r
  <td align="center">24.9</td>\r
  <td align="center">28.1</td>\r
  <td align="center">26.5</td>\r
 </tr>\r
</table>\r
\r
### 2. [ALCE Benchmark](benchmarks/ALCE)\r
\r
[ALCE](https://github.com/princeton-nlp/ALCE) is a benchmark for Automatic LLMs' Citation Evaluation. ALCE contains three datasets: ASQA, QAMPARI, and ELI5. All detailed results can be download from [this repo](https://huggingface.co/datasets/golaxy/rag-bench/viewer/alce_eli5_bm25). Besides, these results can be reproduced based on [the script](./benchmarks/ALCE/ASQA/run.sh) in this repo.\r
\r
For more evaluation results, please view the benchmark's README: [ALCE-ASQA](benchmarks/ALCE/ASQA/README.md) and [ALCE-ELI5](benchmarks/ALCE/ELI5/README.md).\r
\r
<table>\r
 <col width=75>\r
 <col width=125>\r
 <col width=85>\r
 <col width=145>\r
 <col width=125 span=5>\r
 <tr>\r
  <td rowspan=2 align="center"><b>Dataset</b></td>\r
  <td rowspan=2 align="center"><b>Model</b></td>\r
  <td colspan=2 align="center"><b>Method</b></td>\r
  <td colspan=5 align="center"><b>Metric</b></td>\r
 </tr>\r
 <tr>\r
  <td align="center">retriever</td>\r
  <td align="center">prompt</td>\r
  <td align="center">MAUVE</td>\r
  <td align="center"><a href="rageval\\metrics\\_answer_exact_match.py">EM Recall</a></td>\r
  <td align="center"><a href="rageval\\metrics\\_answer_claim_recall.py">Claim Recall</a></td>\r
  <td align="center"><a href="rageval\\metrics\\_answer_citation_recall.py">Citation Recall</a></td>\r
  <td align="center"><a href="rageval\\metrics\\_answer_citation_precision.py">Citation Precision</a></td>\r
 </tr>\r
 <tr>\r
  <!-- <td rowspan=7><a href="benchmarks/ALCE/ASQA/README.md">ASQA</a></td>\r
  <td rowspan=7>llama2-7b-chat</td>\r
  <td rowspan=5>GTR</td>   -->\r
  <td rowspan=3 style="text-align:left;padding-left:10px"><a href="benchmarks/ALCE/ASQA/README.md">ASQA</a></td>\r
  <td rowspan=3>llama2-7b-chat</td>\r
  <td rowspan=1>GTR</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/alce_asqa_gtr">vanilla(5-psg)</a></td>\r
  <td align="center">-</td>\r
  <td align="center">33.3</td>\r
  <td align="center">-</td>\r
  <td align="center">55.9</td>\r
  <td align="center">80.0</td>\r
 </tr>\r
 <!-- <tr>\r
  <td>summary(5-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>summary(10-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>snippet(5-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>snippet(10-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr> -->\r
 <tr>\r
  <td>DPR</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/alce_asqa_dpr">vanilla(5-psg)</a></td>\r
  <td align="center">-</td>\r
  <td align="center">29.2</td>\r
  <td align="center">-</td>\r
  <td align="center">49.2</td>\r
  <td align="center">81.0</td>\r
 </tr>\r
 <tr>\r
  <td>Oracle</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/alce_asqa_oracle">vanilla(5-psg)</a></td>\r
  <td align="center">-</td>\r
  <td align="center">41.7</td>\r
  <td align="center">-</td>\r
  <td align="center">58.1</td>\r
  <td align="center">78.9</td>\r
 </tr>\r
 <tr>\r
  <!-- <td rowspan=6><a href="benchmarks/ALCE/ELI5/README.md">ELI5</a></td>\r
  <td rowspan=6>llama2-7b-chat</td>\r
  <td rowspan=5>BM25</td> -->\r
  <td rowspan=3><a href="benchmarks/ALCE/ELI5/README.md">ELI5</a></td>\r
  <td rowspan=3>llama2-7b-chat</td>\r
  <td rowspan=1>BM25</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/alce_eli5_bm25">vanilla(5-psg)</a></td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">11.5</td>\r
  <td align="center">26.6</td>\r
  <td align="center">74.5</td>\r
 </tr>\r
 <!-- <tr>\r
  <td>summary(5-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>summary(10-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>snippet(5-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>snippet(10-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr> -->\r
 <tr>\r
  <td>Oracle</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/alce_eli5_oracle">vanilla(5-psg)</a></td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">17.8</td>\r
  <td align="center">34.0</td>\r
  <td align="center">75.6</td>\r
 </tr>\r
</table>\r
\r
\r
## Installation\r
\r
\`\`\`\r
git clone https://github.com/gomate-community/rageval.git\r
cd rageval\r
python setup.py install\r
\`\`\`\r
## Usage\r
\r
### 1. Metric\r
\r
Take F1 as an example.\r
\`\`\`\r
from datasets import Dataset\r
import rageval as rl\r
\r
sample = {\r
    "answers": [\r
        "Democrat rick kriseman won the 2016 mayoral election, while re- publican former mayor rick baker did so in the 2017 mayoral election."\r
    ],\r
    "gt_answers": [\r
        [\r
            "Kriseman",\r
            "Rick Kriseman"\r
        ]\r
    ]\r
}\r
dataset = Dataset.from_dict(sample)\r
metric = rl.metrics.AnswerF1Correctness()\r
score, dataset = metric.compute(dataset)\r
\`\`\`\r
\r
### 2. Benchmark\r
\r
Benchmarks can be run directly using scripts (Take ALCE-ELI5 as an example).\r
\`\`\`\r
bash benchmarks/ALCE/ELI5/run.sh\r
\`\`\`\r
\r
## Contribution\r
\r
Please make sure to read the [Contributing Guide](./CONTRIBUTING.md) before creating a pull request.\r
\r
## About\r
\r
This project is currently at its preliminary stage.\r
`;function pP(){return C.jsx("div",{children:C.jsx(Io,{className:"markdown-body",rehypePlugins:[Tc],children:hP})})}var Fx={exports:{}},ah={exports:{}};(function(e,t){(function(n,r){r(t,G)})(qd,function(n,r){function i(h,b,x,v,N,S,M){try{var j=h[S](M),W=j.value}catch(Y){return void x(Y)}j.done?b(W):Promise.resolve(W).then(v,N)}function s(h){return function(){var b=this,x=arguments;return new Promise(function(v,N){var S=h.apply(b,x);function M(W){i(S,v,N,M,j,"next",W)}function j(W){i(S,v,N,M,j,"throw",W)}M(void 0)})}}function a(){return(a=Object.assign||function(h){for(var b=1;b<arguments.length;b++){var x=arguments[b];for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(h[v]=x[v])}return h}).apply(this,arguments)}function o(h,b){if(h==null)return{};var x,v,N={},S=Object.keys(h);for(v=0;v<S.length;v++)x=S[v],b.indexOf(x)>=0||(N[x]=h[x]);return N}function l(h){var b=function(x,v){if(typeof x!="object"||x===null)return x;var N=x[Symbol.toPrimitive];if(N!==void 0){var S=N.call(x,v||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(x)}(h,"string");return typeof b=="symbol"?b:String(b)}r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var u={init:"init"},c=function(h){var b=h.value;return b===void 0?"":b},d=function(){return r.createElement(r.Fragment,null,"")},p={Cell:c,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function m(){for(var h=arguments.length,b=new Array(h),x=0;x<h;x++)b[x]=arguments[x];return b.reduce(function(v,N){var S=N.style,M=N.className;return v=a({},v,{},o(N,["style","className"])),S&&(v.style=v.style?a({},v.style||{},{},S||{}):S),M&&(v.className=v.className?v.className+" "+M:M),v.className===""&&delete v.className,v},{})}var g=function(h,b){return b===void 0&&(b={}),function(x){return x===void 0&&(x={}),[].concat(h,[x]).reduce(function(v,N){return function S(M,j,W){return typeof j=="function"?S({},j(M,W)):Array.isArray(j)?m.apply(void 0,[M].concat(j)):m(M,j)}(v,N,a({},b,{userProps:x}))},{})}},y=function(h,b,x,v){return x===void 0&&(x={}),h.reduce(function(N,S){return S(N,x)},b)},w=function(h,b,x){return x===void 0&&(x={}),h.forEach(function(v){v(b,x)})};function _(h,b,x,v){h.findIndex(function(N){return N.pluginName===x}),b.forEach(function(N){h.findIndex(function(S){return S.pluginName===N})})}function E(h,b){return typeof h=="function"?h(b):h}function T(h){var b=r.useRef();return b.current=h,r.useCallback(function(){return b.current},[])}var P=typeof document<"u"?r.useLayoutEffect:r.useEffect;function O(h,b){var x=r.useRef(!1);P(function(){x.current&&h(),x.current=!0},b)}function R(h,b,x){return x===void 0&&(x={}),function(v,N){N===void 0&&(N={});var S=typeof v=="string"?b[v]:v;if(S===void 0)throw console.info(b),new Error("Renderer Error ");return H(S,a({},h,{column:b},x,{},N))}}function H(h,b){return function(v){return typeof v=="function"&&(N=Object.getPrototypeOf(v)).prototype&&N.prototype.isReactComponent;var N}(x=h)||typeof x=="function"||function(v){return typeof v=="object"&&typeof v.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(v.$$typeof.description)}(x)?r.createElement(h,b):h;var x}function z(h,b,x){return x===void 0&&(x=0),h.map(function(v){return F(v=a({},v,{parent:b,depth:x})),v.columns&&(v.columns=z(v.columns,v,x+1)),v})}function K(h){return Le(h,"columns")}function F(h){var b=h.id,x=h.accessor,v=h.Header;if(typeof x=="string"){b=b||x;var N=x.split(".");x=function(S){return function(M,j,W){if(!j)return M;var Y,se=typeof j=="function"?j:JSON.stringify(j),te=Ee.get(se)||function(){var ne=function(Q){return function re(le,ue){if(ue===void 0&&(ue=[]),Array.isArray(le))for(var me=0;me<le.length;me+=1)re(le[me],ue);else ue.push(le);return ue}(Q).map(function(re){return String(re).replace(".","_")}).join(".").replace(De,".").replace(D,"").split(".")}(j);return Ee.set(se,ne),ne}();try{Y=te.reduce(function(ne,Q){return ne[Q]},M)}catch{}return Y!==void 0?Y:W}(S,N)}}if(!b&&typeof v=="string"&&v&&(b=v),!b&&h.columns)throw console.error(h),new Error('A column ID (or unique "Header" value) is required!');if(!b)throw console.error(h),new Error("A column ID (or string accessor) is required!");return Object.assign(h,{id:b,accessor:x}),h}function q(h,b){if(!b)throw new Error;return Object.assign(h,a({Header:d,Footer:d},p,{},b,{},h)),Object.assign(h,{originalWidth:h.width}),h}function J(h,b,x){x===void 0&&(x=function(){return{}});for(var v=[],N=h,S=0,M=function(){return S++},j=function(){var W={headers:[]},Y=[],se=N.some(function(te){return te.parent});N.forEach(function(te){var ne,Q=[].concat(Y).reverse()[0];se&&(te.parent?ne=a({},te.parent,{originalId:te.parent.id,id:te.parent.id+"_"+M(),headers:[te]},x(te)):ne=q(a({originalId:te.id+"_placeholder",id:te.id+"_placeholder_"+M(),placeholderOf:te,headers:[te]},x(te)),b),Q&&Q.originalId===ne.originalId?Q.headers.push(te):Y.push(ne)),W.headers.push(te)}),v.push(W),N=Y};N.length;)j();return v.reverse()}var Ee=new Map;function we(){for(var h=arguments.length,b=new Array(h),x=0;x<h;x++)b[x]=arguments[x];for(var v=0;v<b.length;v+=1)if(b[v]!==void 0)return b[v]}function fe(h){if(typeof h=="function")return h}function Le(h,b){var x=[];return function v(N){N.forEach(function(S){S[b]?v(S[b]):x.push(S)})}(h),x}function Oe(h,b){var x=b.manualExpandedKey,v=b.expanded,N=b.expandSubRows,S=N===void 0||N,M=[];return h.forEach(function(j){return function W(Y,se){se===void 0&&(se=!0),Y.isExpanded=Y.original&&Y.original[x]||v[Y.id],Y.canExpand=Y.subRows&&!!Y.subRows.length,se&&M.push(Y),Y.subRows&&Y.subRows.length&&Y.isExpanded&&Y.subRows.forEach(function(te){return W(te,S)})}(j)}),M}function ie(h,b,x){return fe(h)||b[h]||x[h]||x.text}function he(h,b,x){return h?h(b,x):b===void 0}function I(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var Ie=null,De=/\[/g,D=/\]/g,Qe=function(h){return a({role:"table"},h)},wt=function(h){return a({role:"rowgroup"},h)},Ue=function(h,b){var x=b.column;return a({key:"header_"+x.id,colSpan:x.totalVisibleHeaderCount,role:"columnheader"},h)},vn=function(h,b){var x=b.column;return a({key:"footer_"+x.id,colSpan:x.totalVisibleHeaderCount},h)},qn=function(h,b){return a({key:"headerGroup_"+b.index,role:"row"},h)},kr=function(h,b){return a({key:"footerGroup_"+b.index},h)},Ir=function(h,b){return a({key:"row_"+b.row.id,role:"row"},h)},Qi=function(h,b){var x=b.cell;return a({key:"cell_"+x.row.id+"_"+x.column.id,role:"cell"},h)};function Ic(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[Qe],getTableBodyProps:[wt],getHeaderGroupProps:[qn],getFooterGroupProps:[kr],getHeaderProps:[Ue],getFooterProps:[vn],getRowProps:[Ir],getCellProps:[Qi],useFinalInstance:[]}}u.resetHiddenColumns="resetHiddenColumns",u.toggleHideColumn="toggleHideColumn",u.setHiddenColumns="setHiddenColumns",u.toggleHideAllColumns="toggleHideAllColumns";var Oo=function(h){h.getToggleHiddenProps=[Rc],h.getToggleHideAllColumnsProps=[Do],h.stateReducers.push(Mo),h.useInstanceBeforeDimensions.push(Fo),h.headerGroupsDeps.push(function(b,x){var v=x.instance;return[].concat(b,[v.state.hiddenColumns])}),h.useInstance.push(Lc)};Oo.pluginName="useColumnVisibility";var Rc=function(h,b){var x=b.column;return[h,{onChange:function(v){x.toggleHidden(!v.target.checked)},style:{cursor:"pointer"},checked:x.isVisible,title:"Toggle Column Visible"}]},Do=function(h,b){var x=b.instance;return[h,{onChange:function(v){x.toggleHideAllColumns(!v.target.checked)},style:{cursor:"pointer"},checked:!x.allColumnsHidden&&!x.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!x.allColumnsHidden&&x.state.hiddenColumns.length}]};function Mo(h,b,x,v){if(b.type===u.init)return a({hiddenColumns:[]},h);if(b.type===u.resetHiddenColumns)return a({},h,{hiddenColumns:v.initialState.hiddenColumns||[]});if(b.type===u.toggleHideColumn){var N=(b.value!==void 0?b.value:!h.hiddenColumns.includes(b.columnId))?[].concat(h.hiddenColumns,[b.columnId]):h.hiddenColumns.filter(function(S){return S!==b.columnId});return a({},h,{hiddenColumns:N})}return b.type===u.setHiddenColumns?a({},h,{hiddenColumns:E(b.value,h.hiddenColumns)}):b.type===u.toggleHideAllColumns?a({},h,{hiddenColumns:(b.value!==void 0?b.value:!h.hiddenColumns.length)?v.allColumns.map(function(S){return S.id}):[]}):void 0}function Fo(h){var b=h.headers,x=h.state.hiddenColumns;r.useRef(!1).current;var v=0;b.forEach(function(N){return v+=function S(M,j){M.isVisible=j&&!x.includes(M.id);var W=0;return M.headers&&M.headers.length?M.headers.forEach(function(Y){return W+=S(Y,M.isVisible)}):W=M.isVisible?1:0,M.totalVisibleHeaderCount=W,W}(N,!0)})}function Lc(h){var b=h.columns,x=h.flatHeaders,v=h.dispatch,N=h.allColumns,S=h.getHooks,M=h.state.hiddenColumns,j=h.autoResetHiddenColumns,W=j===void 0||j,Y=T(h),se=N.length===M.length,te=r.useCallback(function(ue,me){return v({type:u.toggleHideColumn,columnId:ue,value:me})},[v]),ne=r.useCallback(function(ue){return v({type:u.setHiddenColumns,value:ue})},[v]),Q=r.useCallback(function(ue){return v({type:u.toggleHideAllColumns,value:ue})},[v]),re=g(S().getToggleHideAllColumnsProps,{instance:Y()});x.forEach(function(ue){ue.toggleHidden=function(me){v({type:u.toggleHideColumn,columnId:ue.id,value:me})},ue.getToggleHiddenProps=g(S().getToggleHiddenProps,{instance:Y(),column:ue})});var le=T(W);O(function(){le()&&v({type:u.resetHiddenColumns})},[v,b]),Object.assign(h,{allColumnsHidden:se,toggleHideColumn:te,setHiddenColumns:ne,toggleHideAllColumns:Q,getToggleHideAllColumnsProps:re})}var Bo={},Ho={},Nc=function(h,b,x){return h},Pc=function(h,b){return h.subRows||[]},Oc=function(h,b,x){return""+(x?[x.id,b].join("."):b)},Dc=function(h){return h};function zo(h){var b=h.initialState,x=b===void 0?Bo:b,v=h.defaultColumn,N=v===void 0?Ho:v,S=h.getSubRows,M=S===void 0?Pc:S,j=h.getRowId,W=j===void 0?Oc:j,Y=h.stateReducer,se=Y===void 0?Nc:Y,te=h.useControlledState,ne=te===void 0?Dc:te;return a({},o(h,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:x,defaultColumn:N,getSubRows:M,getRowId:W,stateReducer:se,useControlledState:ne})}function V(h,b){b===void 0&&(b=0);var x=0,v=0,N=0,S=0;return h.forEach(function(M){var j=M.headers;if(M.totalLeft=b,j&&j.length){var W=V(j,b),Y=W[0],se=W[1],te=W[2],ne=W[3];M.totalMinWidth=Y,M.totalWidth=se,M.totalMaxWidth=te,M.totalFlexWidth=ne}else M.totalMinWidth=M.minWidth,M.totalWidth=Math.min(Math.max(M.minWidth,M.width),M.maxWidth),M.totalMaxWidth=M.maxWidth,M.totalFlexWidth=M.canResize?M.totalWidth:0;M.isVisible&&(b+=M.totalWidth,x+=M.totalMinWidth,v+=M.totalWidth,N+=M.totalMaxWidth,S+=M.totalFlexWidth)}),[x,v,N,S]}function oe(h){var b=h.data,x=h.rows,v=h.flatRows,N=h.rowsById,S=h.column,M=h.getRowId,j=h.getSubRows,W=h.accessValueHooks,Y=h.getInstance;b.forEach(function(se,te){return function ne(Q,re,le,ue,me){le===void 0&&(le=0);var ke=Q,pe=M(Q,re,ue),ae=N[pe];if(ae)ae.subRows&&ae.originalSubRows.forEach(function(ce,Te){return ne(ce,Te,le+1,ae)});else if((ae={id:pe,original:ke,index:re,depth:le,cells:[{}]}).cells.map=I,ae.cells.filter=I,ae.cells.forEach=I,ae.cells[0].getCellProps=I,ae.values={},me.push(ae),v.push(ae),N[pe]=ae,ae.originalSubRows=j(Q,re),ae.originalSubRows){var Ae=[];ae.originalSubRows.forEach(function(ce,Te){return ne(ce,Te,le+1,ae,Ae)}),ae.subRows=Ae}S.accessor&&(ae.values[S.id]=S.accessor(Q,re,ae,me,b)),ae.values[S.id]=y(W,ae.values[S.id],{row:ae,column:S,instance:Y()})}(se,te,0,void 0,x)})}u.resetExpanded="resetExpanded",u.toggleRowExpanded="toggleRowExpanded",u.toggleAllRowsExpanded="toggleAllRowsExpanded";var Ce=function(h){h.getToggleAllRowsExpandedProps=[Me],h.getToggleRowExpandedProps=[$e],h.stateReducers.push(un),h.useInstance.push(ar),h.prepareRow.push(Fn)};Ce.pluginName="useExpanded";var Me=function(h,b){var x=b.instance;return[h,{onClick:function(v){x.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},$e=function(h,b){var x=b.row;return[h,{onClick:function(){x.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function un(h,b,x,v){if(b.type===u.init)return a({expanded:{}},h);if(b.type===u.resetExpanded)return a({},h,{expanded:v.initialState.expanded||{}});if(b.type===u.toggleAllRowsExpanded){var N=b.value,S=v.rowsById,M=Object.keys(S).length===Object.keys(h.expanded).length;if(N!==void 0?N:!M){var j={};return Object.keys(S).forEach(function(re){j[re]=!0}),a({},h,{expanded:j})}return a({},h,{expanded:{}})}if(b.type===u.toggleRowExpanded){var W,Y=b.id,se=b.value,te=h.expanded[Y],ne=se!==void 0?se:!te;if(!te&&ne)return a({},h,{expanded:a({},h.expanded,(W={},W[Y]=!0,W))});if(te&&!ne){var Q=h.expanded;return Q[Y],a({},h,{expanded:o(Q,[Y].map(l))})}return h}}function ar(h){var b=h.data,x=h.rows,v=h.rowsById,N=h.manualExpandedKey,S=N===void 0?"expanded":N,M=h.paginateExpandedRows,j=M===void 0||M,W=h.expandSubRows,Y=W===void 0||W,se=h.autoResetExpanded,te=se===void 0||se,ne=h.getHooks,Q=h.plugins,re=h.state.expanded,le=h.dispatch;_(Q,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var ue=T(te),me=!!(Object.keys(v).length&&Object.keys(re).length);me&&Object.keys(v).some(function(Ne){return!re[Ne]})&&(me=!1),O(function(){ue()&&le({type:u.resetExpanded})},[le,b]);var ke=r.useCallback(function(Ne,_e){le({type:u.toggleRowExpanded,id:Ne,value:_e})},[le]),pe=r.useCallback(function(Ne){return le({type:u.toggleAllRowsExpanded,value:Ne})},[le]),ae=r.useMemo(function(){return j?Oe(x,{manualExpandedKey:S,expanded:re,expandSubRows:Y}):x},[j,x,S,re,Y]),Ae=r.useMemo(function(){return function(Ne){var _e=0;return Object.keys(Ne).forEach(function(xe){var Ye=xe.split(".");_e=Math.max(_e,Ye.length)}),_e}(re)},[re]),ce=T(h),Te=g(ne().getToggleAllRowsExpandedProps,{instance:ce()});Object.assign(h,{preExpandedRows:x,expandedRows:ae,rows:ae,expandedDepth:Ae,isAllRowsExpanded:me,toggleRowExpanded:ke,toggleAllRowsExpanded:pe,getToggleAllRowsExpandedProps:Te})}function Fn(h,b){var x=b.instance.getHooks,v=b.instance;h.toggleRowExpanded=function(N){return v.toggleRowExpanded(h.id,N)},h.getToggleRowExpandedProps=g(x().getToggleRowExpandedProps,{instance:v,row:h})}var Rr=function(h,b,x){return h=h.filter(function(v){return b.some(function(N){var S=v.values[N];return String(S).toLowerCase().includes(String(x).toLowerCase())})})};Rr.autoRemove=function(h){return!h};var Lr=function(h,b,x){return h.filter(function(v){return b.some(function(N){var S=v.values[N];return S===void 0||String(S).toLowerCase()===String(x).toLowerCase()})})};Lr.autoRemove=function(h){return!h};var Ft=function(h,b,x){return h.filter(function(v){return b.some(function(N){var S=v.values[N];return S===void 0||String(S)===String(x)})})};Ft.autoRemove=function(h){return!h};var or=function(h,b,x){return h.filter(function(v){return b.some(function(N){return v.values[N].includes(x)})})};or.autoRemove=function(h){return!h||!h.length};var An=function(h,b,x){return h.filter(function(v){return b.some(function(N){var S=v.values[N];return S&&S.length&&x.every(function(M){return S.includes(M)})})})};An.autoRemove=function(h){return!h||!h.length};var tm=function(h,b,x){return h.filter(function(v){return b.some(function(N){var S=v.values[N];return S&&S.length&&x.some(function(M){return S.includes(M)})})})};tm.autoRemove=function(h){return!h||!h.length};var nm=function(h,b,x){return h.filter(function(v){return b.some(function(N){var S=v.values[N];return x.includes(S)})})};nm.autoRemove=function(h){return!h||!h.length};var rm=function(h,b,x){return h.filter(function(v){return b.some(function(N){return v.values[N]===x})})};rm.autoRemove=function(h){return h===void 0};var im=function(h,b,x){return h.filter(function(v){return b.some(function(N){return v.values[N]==x})})};im.autoRemove=function(h){return h==null};var sm=function(h,b,x){var v=x||[],N=v[0],S=v[1];if((N=typeof N=="number"?N:-1/0)>(S=typeof S=="number"?S:1/0)){var M=N;N=S,S=M}return h.filter(function(j){return b.some(function(W){var Y=j.values[W];return Y>=N&&Y<=S})})};sm.autoRemove=function(h){return!h||typeof h[0]!="number"&&typeof h[1]!="number"};var Qs=Object.freeze({__proto__:null,text:Rr,exactText:Lr,exactTextCase:Ft,includes:or,includesAll:An,includesSome:tm,includesValue:nm,exact:rm,equals:im,between:sm});u.resetFilters="resetFilters",u.setFilter="setFilter",u.setAllFilters="setAllFilters";var am=function(h){h.stateReducers.push(r2),h.useInstance.push(i2)};function r2(h,b,x,v){if(b.type===u.init)return a({filters:[]},h);if(b.type===u.resetFilters)return a({},h,{filters:v.initialState.filters||[]});if(b.type===u.setFilter){var N=b.columnId,S=b.filterValue,M=v.allColumns,j=v.filterTypes,W=M.find(function(le){return le.id===N});if(!W)throw new Error("React-Table: Could not find a column with id: "+N);var Y=ie(W.filter,j||{},Qs),se=h.filters.find(function(le){return le.id===N}),te=E(S,se&&se.value);return he(Y.autoRemove,te,W)?a({},h,{filters:h.filters.filter(function(le){return le.id!==N})}):a({},h,se?{filters:h.filters.map(function(le){return le.id===N?{id:N,value:te}:le})}:{filters:[].concat(h.filters,[{id:N,value:te}])})}if(b.type===u.setAllFilters){var ne=b.filters,Q=v.allColumns,re=v.filterTypes;return a({},h,{filters:E(ne,h.filters).filter(function(le){var ue=Q.find(function(me){return me.id===le.id});return!he(ie(ue.filter,re||{},Qs).autoRemove,le.value,ue)})})}}function i2(h){var b=h.data,x=h.rows,v=h.flatRows,N=h.rowsById,S=h.allColumns,M=h.filterTypes,j=h.manualFilters,W=h.defaultCanFilter,Y=W!==void 0&&W,se=h.disableFilters,te=h.state.filters,ne=h.dispatch,Q=h.autoResetFilters,re=Q===void 0||Q,le=r.useCallback(function(ce,Te){ne({type:u.setFilter,columnId:ce,filterValue:Te})},[ne]),ue=r.useCallback(function(ce){ne({type:u.setAllFilters,filters:ce})},[ne]);S.forEach(function(ce){var Te=ce.id,Ne=ce.accessor,_e=ce.defaultCanFilter,xe=ce.disableFilters;ce.canFilter=Ne?we(xe!==!0&&void 0,se!==!0&&void 0,!0):we(_e,Y,!1),ce.setFilter=function(ve){return le(ce.id,ve)};var Ye=te.find(function(ve){return ve.id===Te});ce.filterValue=Ye&&Ye.value});var me=r.useMemo(function(){if(j||!te.length)return[x,v,N];var ce=[],Te={};return[function Ne(_e,xe){xe===void 0&&(xe=0);var Ye=_e;return(Ye=te.reduce(function(ve,We){var ze=We.id,Je=We.value,ge=S.find(function(ht){return ht.id===ze});if(!ge)return ve;xe===0&&(ge.preFilteredRows=ve);var Fe=ie(ge.filter,M||{},Qs);return Fe?(ge.filteredRows=Fe(ve,[ze],Je),ge.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+ge.id+"."),ve)},_e)).forEach(function(ve){ce.push(ve),Te[ve.id]=ve,ve.subRows&&(ve.subRows=ve.subRows&&ve.subRows.length>0?Ne(ve.subRows,xe+1):ve.subRows)}),Ye}(x),ce,Te]},[j,te,x,v,N,S,M]),ke=me[0],pe=me[1],ae=me[2];r.useMemo(function(){S.filter(function(ce){return!te.find(function(Te){return Te.id===ce.id})}).forEach(function(ce){ce.preFilteredRows=ke,ce.filteredRows=ke})},[ke,te,S]);var Ae=T(re);O(function(){Ae()&&ne({type:u.resetFilters})},[ne,j?null:b]),Object.assign(h,{preFilteredRows:x,preFilteredFlatRows:v,preFilteredRowsById:N,filteredRows:ke,filteredFlatRows:pe,filteredRowsById:ae,rows:ke,flatRows:pe,rowsById:ae,setFilter:le,setAllFilters:ue})}am.pluginName="useFilters",u.resetGlobalFilter="resetGlobalFilter",u.setGlobalFilter="setGlobalFilter";var om=function(h){h.stateReducers.push(s2),h.useInstance.push(a2)};function s2(h,b,x,v){if(b.type===u.resetGlobalFilter)return a({},h,{globalFilter:v.initialState.globalFilter||void 0});if(b.type===u.setGlobalFilter){var N=b.filterValue,S=v.userFilterTypes,M=ie(v.globalFilter,S||{},Qs),j=E(N,h.globalFilter);return he(M.autoRemove,j)?(h.globalFilter,o(h,["globalFilter"])):a({},h,{globalFilter:j})}}function a2(h){var b=h.data,x=h.rows,v=h.flatRows,N=h.rowsById,S=h.allColumns,M=h.filterTypes,j=h.globalFilter,W=h.manualGlobalFilter,Y=h.state.globalFilter,se=h.dispatch,te=h.autoResetGlobalFilter,ne=te===void 0||te,Q=h.disableGlobalFilter,re=r.useCallback(function(ae){se({type:u.setGlobalFilter,filterValue:ae})},[se]),le=r.useMemo(function(){if(W||Y===void 0)return[x,v,N];var ae=[],Ae={},ce=ie(j,M||{},Qs);if(!ce)return console.warn("Could not find a valid 'globalFilter' option."),x;S.forEach(function(Ne){var _e=Ne.disableGlobalFilter;Ne.canFilter=we(_e!==!0&&void 0,Q!==!0&&void 0,!0)});var Te=S.filter(function(Ne){return Ne.canFilter===!0});return[function Ne(_e){return(_e=ce(_e,Te.map(function(xe){return xe.id}),Y)).forEach(function(xe){ae.push(xe),Ae[xe.id]=xe,xe.subRows=xe.subRows&&xe.subRows.length?Ne(xe.subRows):xe.subRows}),_e}(x),ae,Ae]},[W,Y,j,M,S,x,v,N,Q]),ue=le[0],me=le[1],ke=le[2],pe=T(ne);O(function(){pe()&&se({type:u.resetGlobalFilter})},[se,W?null:b]),Object.assign(h,{preGlobalFilteredRows:x,preGlobalFilteredFlatRows:v,preGlobalFilteredRowsById:N,globalFilteredRows:ue,globalFilteredFlatRows:me,globalFilteredRowsById:ke,rows:ue,flatRows:me,rowsById:ke,setGlobalFilter:re,disableGlobalFilter:Q})}function lm(h,b){return b.reduce(function(x,v){return x+(typeof v=="number"?v:0)},0)}om.pluginName="useGlobalFilter";var um=Object.freeze({__proto__:null,sum:lm,min:function(h){var b=h[0]||0;return h.forEach(function(x){typeof x=="number"&&(b=Math.min(b,x))}),b},max:function(h){var b=h[0]||0;return h.forEach(function(x){typeof x=="number"&&(b=Math.max(b,x))}),b},minMax:function(h){var b=h[0]||0,x=h[0]||0;return h.forEach(function(v){typeof v=="number"&&(b=Math.min(b,v),x=Math.max(x,v))}),b+".."+x},average:function(h){return lm(0,h)/h.length},median:function(h){if(!h.length)return null;var b=Math.floor(h.length/2),x=[].concat(h).sort(function(v,N){return v-N});return h.length%2!=0?x[b]:(x[b-1]+x[b])/2},unique:function(h){return Array.from(new Set(h).values())},uniqueCount:function(h){return new Set(h).size},count:function(h){return h.length}}),o2=[],l2={};u.resetGroupBy="resetGroupBy",u.setGroupBy="setGroupBy",u.toggleGroupBy="toggleGroupBy";var cm=function(h){h.getGroupByToggleProps=[u2],h.stateReducers.push(c2),h.visibleColumnsDeps.push(function(b,x){var v=x.instance;return[].concat(b,[v.state.groupBy])}),h.visibleColumns.push(d2),h.useInstance.push(h2),h.prepareRow.push(p2)};cm.pluginName="useGroupBy";var u2=function(h,b){var x=b.header;return[h,{onClick:x.canGroupBy?function(v){v.persist(),x.toggleGroupBy()}:void 0,style:{cursor:x.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function c2(h,b,x,v){if(b.type===u.init)return a({groupBy:[]},h);if(b.type===u.resetGroupBy)return a({},h,{groupBy:v.initialState.groupBy||[]});if(b.type===u.setGroupBy)return a({},h,{groupBy:b.value});if(b.type===u.toggleGroupBy){var N=b.columnId,S=b.value,M=S!==void 0?S:!h.groupBy.includes(N);return a({},h,M?{groupBy:[].concat(h.groupBy,[N])}:{groupBy:h.groupBy.filter(function(j){return j!==N})})}}function d2(h,b){var x=b.instance.state.groupBy,v=x.map(function(S){return h.find(function(M){return M.id===S})}).filter(Boolean),N=h.filter(function(S){return!x.includes(S.id)});return(h=[].concat(v,N)).forEach(function(S){S.isGrouped=x.includes(S.id),S.groupedIndex=x.indexOf(S.id)}),h}var f2={};function h2(h){var b=h.data,x=h.rows,v=h.flatRows,N=h.rowsById,S=h.allColumns,M=h.flatHeaders,j=h.groupByFn,W=j===void 0?dm:j,Y=h.manualGroupBy,se=h.aggregations,te=se===void 0?f2:se,ne=h.plugins,Q=h.state.groupBy,re=h.dispatch,le=h.autoResetGroupBy,ue=le===void 0||le,me=h.disableGroupBy,ke=h.defaultCanGroupBy,pe=h.getHooks;_(ne,["useColumnOrder","useFilters"],"useGroupBy");var ae=T(h);S.forEach(function(ge){var Fe=ge.accessor,ht=ge.defaultGroupBy,Vt=ge.disableGroupBy;ge.canGroupBy=Fe?we(ge.canGroupBy,Vt!==!0&&void 0,me!==!0&&void 0,!0):we(ge.canGroupBy,ht,ke,!1),ge.canGroupBy&&(ge.toggleGroupBy=function(){return h.toggleGroupBy(ge.id)}),ge.Aggregated=ge.Aggregated||ge.Cell});var Ae=r.useCallback(function(ge,Fe){re({type:u.toggleGroupBy,columnId:ge,value:Fe})},[re]),ce=r.useCallback(function(ge){re({type:u.setGroupBy,value:ge})},[re]);M.forEach(function(ge){ge.getGroupByToggleProps=g(pe().getGroupByToggleProps,{instance:ae(),header:ge})});var Te=r.useMemo(function(){if(Y||!Q.length)return[x,v,N,o2,l2,v,N];var ge=Q.filter(function(St){return S.find(function(Nr){return Nr.id===St})}),Fe=[],ht={},Vt=[],be={},st=[],yt={},Yt=function St(Nr,lr,Im){if(lr===void 0&&(lr=0),lr===ge.length)return Nr.map(function(jo){return a({},jo,{depth:lr})});var jc=ge[lr],nw=W(Nr,jc);return Object.entries(nw).map(function(jo,rw){var Rm=jo[0],Wo=jo[1],Go=jc+":"+Rm,Lm=St(Wo,lr+1,Go=Im?Im+">"+Go:Go),Nm=lr?Le(Wo,"leafRows"):Wo,iw=function(Cn,Wc,aw){var Vo={};return S.forEach(function(Et){if(ge.includes(Et.id))Vo[Et.id]=Wc[0]?Wc[0].values[Et.id]:null;else{var Pm=typeof Et.aggregate=="function"?Et.aggregate:te[Et.aggregate]||um[Et.aggregate];if(Pm){var ow=Wc.map(function(Yo){return Yo.values[Et.id]}),lw=Cn.map(function(Yo){var Gc=Yo.values[Et.id];if(!aw&&Et.aggregateValue){var Om=typeof Et.aggregateValue=="function"?Et.aggregateValue:te[Et.aggregateValue]||um[Et.aggregateValue];if(!Om)throw console.info({column:Et}),new Error("React Table: Invalid column.aggregateValue option for column listed above");Gc=Om(Gc,Yo,Et)}return Gc});Vo[Et.id]=Pm(lw,ow)}else{if(Et.aggregate)throw console.info({column:Et}),new Error("React Table: Invalid column.aggregate option for column listed above");Vo[Et.id]=null}}}),Vo}(Nm,Wo,lr),sw={id:Go,isGrouped:!0,groupByID:jc,groupByVal:Rm,values:iw,subRows:Lm,leafRows:Nm,depth:lr,index:rw};return Lm.forEach(function(Cn){Fe.push(Cn),ht[Cn.id]=Cn,Cn.isGrouped?(Vt.push(Cn),be[Cn.id]=Cn):(st.push(Cn),yt[Cn.id]=Cn)}),sw})}(x);return Yt.forEach(function(St){Fe.push(St),ht[St.id]=St,St.isGrouped?(Vt.push(St),be[St.id]=St):(st.push(St),yt[St.id]=St)}),[Yt,Fe,ht,Vt,be,st,yt]},[Y,Q,x,v,N,S,te,W]),Ne=Te[0],_e=Te[1],xe=Te[2],Ye=Te[3],ve=Te[4],We=Te[5],ze=Te[6],Je=T(ue);O(function(){Je()&&re({type:u.resetGroupBy})},[re,Y?null:b]),Object.assign(h,{preGroupedRows:x,preGroupedFlatRow:v,preGroupedRowsById:N,groupedRows:Ne,groupedFlatRows:_e,groupedRowsById:xe,onlyGroupedFlatRows:Ye,onlyGroupedRowsById:ve,nonGroupedFlatRows:We,nonGroupedRowsById:ze,rows:Ne,flatRows:_e,rowsById:xe,toggleGroupBy:Ae,setGroupBy:ce})}function p2(h){h.allCells.forEach(function(b){var x;b.isGrouped=b.column.isGrouped&&b.column.id===h.groupByID,b.isPlaceholder=!b.isGrouped&&b.column.isGrouped,b.isAggregated=!b.isGrouped&&!b.isPlaceholder&&((x=h.subRows)==null?void 0:x.length)})}function dm(h,b){return h.reduce(function(x,v,N){var S=""+v.values[b];return x[S]=Array.isArray(x[S])?x[S]:[],x[S].push(v),x},{})}var fm=/([0-9]+)/gm;function Mc(h,b){return h===b?0:h>b?1:-1}function $s(h,b,x){return[h.values[x],b.values[x]]}function hm(h){return typeof h=="number"?isNaN(h)||h===1/0||h===-1/0?"":String(h):typeof h=="string"?h:""}var m2=Object.freeze({__proto__:null,alphanumeric:function(h,b,x){var v=$s(h,b,x),N=v[0],S=v[1];for(N=hm(N),S=hm(S),N=N.split(fm).filter(Boolean),S=S.split(fm).filter(Boolean);N.length&&S.length;){var M=N.shift(),j=S.shift(),W=parseInt(M,10),Y=parseInt(j,10),se=[W,Y].sort();if(isNaN(se[0])){if(M>j)return 1;if(j>M)return-1}else{if(isNaN(se[1]))return isNaN(W)?-1:1;if(W>Y)return 1;if(Y>W)return-1}}return N.length-S.length},datetime:function(h,b,x){var v=$s(h,b,x),N=v[0],S=v[1];return Mc(N=N.getTime(),S=S.getTime())},basic:function(h,b,x){var v=$s(h,b,x);return Mc(v[0],v[1])},string:function(h,b,x){var v=$s(h,b,x),N=v[0],S=v[1];for(N=N.split("").filter(Boolean),S=S.split("").filter(Boolean);N.length&&S.length;){var M=N.shift(),j=S.shift(),W=M.toLowerCase(),Y=j.toLowerCase();if(W>Y)return 1;if(Y>W)return-1;if(M>j)return 1;if(j>M)return-1}return N.length-S.length},number:function(h,b,x){var v=$s(h,b,x),N=v[0],S=v[1],M=/[^0-9.]/gi;return Mc(N=Number(String(N).replace(M,"")),S=Number(String(S).replace(M,"")))}});u.resetSortBy="resetSortBy",u.setSortBy="setSortBy",u.toggleSortBy="toggleSortBy",u.clearSortBy="clearSortBy",p.sortType="alphanumeric",p.sortDescFirst=!1;var pm=function(h){h.getSortByToggleProps=[g2],h.stateReducers.push(_2),h.useInstance.push(b2)};pm.pluginName="useSortBy";var g2=function(h,b){var x=b.instance,v=b.column,N=x.isMultiSortEvent,S=N===void 0?function(M){return M.shiftKey}:N;return[h,{onClick:v.canSort?function(M){M.persist(),v.toggleSortBy(void 0,!x.disableMultiSort&&S(M))}:void 0,style:{cursor:v.canSort?"pointer":void 0},title:v.canSort?"Toggle SortBy":void 0}]};function _2(h,b,x,v){if(b.type===u.init)return a({sortBy:[]},h);if(b.type===u.resetSortBy)return a({},h,{sortBy:v.initialState.sortBy||[]});if(b.type===u.clearSortBy)return a({},h,{sortBy:h.sortBy.filter(function(ae){return ae.id!==b.columnId})});if(b.type===u.setSortBy)return a({},h,{sortBy:b.sortBy});if(b.type===u.toggleSortBy){var N,S=b.columnId,M=b.desc,j=b.multi,W=v.allColumns,Y=v.disableMultiSort,se=v.disableSortRemove,te=v.disableMultiRemove,ne=v.maxMultiSortColCount,Q=ne===void 0?Number.MAX_SAFE_INTEGER:ne,re=h.sortBy,le=W.find(function(ae){return ae.id===S}).sortDescFirst,ue=re.find(function(ae){return ae.id===S}),me=re.findIndex(function(ae){return ae.id===S}),ke=M!=null,pe=[];return(N=!Y&&j?ue?"toggle":"add":me!==re.length-1||re.length!==1?"replace":ue?"toggle":"replace")!="toggle"||se||ke||j&&te||!(ue&&ue.desc&&!le||!ue.desc&&le)||(N="remove"),N==="replace"?pe=[{id:S,desc:ke?M:le}]:N==="add"?(pe=[].concat(re,[{id:S,desc:ke?M:le}])).splice(0,pe.length-Q):N==="toggle"?pe=re.map(function(ae){return ae.id===S?a({},ae,{desc:ke?M:!ue.desc}):ae}):N==="remove"&&(pe=re.filter(function(ae){return ae.id!==S})),a({},h,{sortBy:pe})}}function b2(h){var b=h.data,x=h.rows,v=h.flatRows,N=h.allColumns,S=h.orderByFn,M=S===void 0?mm:S,j=h.sortTypes,W=h.manualSortBy,Y=h.defaultCanSort,se=h.disableSortBy,te=h.flatHeaders,ne=h.state.sortBy,Q=h.dispatch,re=h.plugins,le=h.getHooks,ue=h.autoResetSortBy,me=ue===void 0||ue;_(re,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var ke=r.useCallback(function(_e){Q({type:u.setSortBy,sortBy:_e})},[Q]),pe=r.useCallback(function(_e,xe,Ye){Q({type:u.toggleSortBy,columnId:_e,desc:xe,multi:Ye})},[Q]),ae=T(h);te.forEach(function(_e){var xe=_e.accessor,Ye=_e.canSort,ve=_e.disableSortBy,We=_e.id,ze=xe?we(ve!==!0&&void 0,se!==!0&&void 0,!0):we(Y,Ye,!1);_e.canSort=ze,_e.canSort&&(_e.toggleSortBy=function(ge,Fe){return pe(_e.id,ge,Fe)},_e.clearSortBy=function(){Q({type:u.clearSortBy,columnId:_e.id})}),_e.getSortByToggleProps=g(le().getSortByToggleProps,{instance:ae(),column:_e});var Je=ne.find(function(ge){return ge.id===We});_e.isSorted=!!Je,_e.sortedIndex=ne.findIndex(function(ge){return ge.id===We}),_e.isSortedDesc=_e.isSorted?Je.desc:void 0});var Ae=r.useMemo(function(){if(W||!ne.length)return[x,v];var _e=[],xe=ne.filter(function(Ye){return N.find(function(ve){return ve.id===Ye.id})});return[function Ye(ve){var We=M(ve,xe.map(function(ze){var Je=N.find(function(ht){return ht.id===ze.id});if(!Je)throw new Error("React-Table: Could not find a column with id: "+ze.id+" while sorting");var ge=Je.sortType,Fe=fe(ge)||(j||{})[ge]||m2[ge];if(!Fe)throw new Error("React-Table: Could not find a valid sortType of '"+ge+"' for column '"+ze.id+"'.");return function(ht,Vt){return Fe(ht,Vt,ze.id,ze.desc)}}),xe.map(function(ze){var Je=N.find(function(ge){return ge.id===ze.id});return Je&&Je.sortInverted?ze.desc:!ze.desc}));return We.forEach(function(ze){_e.push(ze),ze.subRows&&ze.subRows.length!==0&&(ze.subRows=Ye(ze.subRows))}),We}(x),_e]},[W,ne,x,v,N,M,j]),ce=Ae[0],Te=Ae[1],Ne=T(me);O(function(){Ne()&&Q({type:u.resetSortBy})},[W?null:b]),Object.assign(h,{preSortedRows:x,preSortedFlatRows:v,sortedRows:ce,sortedFlatRows:Te,rows:ce,flatRows:Te,setSortBy:ke,toggleSortBy:pe})}function mm(h,b,x){return[].concat(h).sort(function(v,N){for(var S=0;S<b.length;S+=1){var M=b[S],j=x[S]===!1||x[S]==="desc",W=M(v,N);if(W!==0)return j?-W:W}return x[0]?v.index-N.index:N.index-v.index})}u.resetPage="resetPage",u.gotoPage="gotoPage",u.setPageSize="setPageSize";var gm=function(h){h.stateReducers.push(y2),h.useInstance.push(E2)};function y2(h,b,x,v){if(b.type===u.init)return a({pageSize:10,pageIndex:0},h);if(b.type===u.resetPage)return a({},h,{pageIndex:v.initialState.pageIndex||0});if(b.type===u.gotoPage){var N=v.pageCount,S=v.page,M=E(b.pageIndex,h.pageIndex),j=!1;return M>h.pageIndex?j=N===-1?S.length>=h.pageSize:M<N:M<h.pageIndex&&(j=M>-1),j?a({},h,{pageIndex:M}):h}if(b.type===u.setPageSize){var W=b.pageSize,Y=h.pageSize*h.pageIndex;return a({},h,{pageIndex:Math.floor(Y/W),pageSize:W})}}function E2(h){var b=h.rows,x=h.autoResetPage,v=x===void 0||x,N=h.manualExpandedKey,S=N===void 0?"expanded":N,M=h.plugins,j=h.pageCount,W=h.paginateExpandedRows,Y=W===void 0||W,se=h.expandSubRows,te=se===void 0||se,ne=h.state,Q=ne.pageSize,re=ne.pageIndex,le=ne.expanded,ue=ne.globalFilter,me=ne.filters,ke=ne.groupBy,pe=ne.sortBy,ae=h.dispatch,Ae=h.data,ce=h.manualPagination;_(M,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var Te=T(v);O(function(){Te()&&ae({type:u.resetPage})},[ae,ce?null:Ae,ue,me,ke,pe]);var Ne=ce?j:Math.ceil(b.length/Q),_e=r.useMemo(function(){return Ne>0?[].concat(new Array(Ne)).fill(null).map(function(Fe,ht){return ht}):[]},[Ne]),xe=r.useMemo(function(){var Fe;if(ce)Fe=b;else{var ht=Q*re,Vt=ht+Q;Fe=b.slice(ht,Vt)}return Y?Fe:Oe(Fe,{manualExpandedKey:S,expanded:le,expandSubRows:te})},[te,le,S,ce,re,Q,Y,b]),Ye=re>0,ve=Ne===-1?xe.length>=Q:re<Ne-1,We=r.useCallback(function(Fe){ae({type:u.gotoPage,pageIndex:Fe})},[ae]),ze=r.useCallback(function(){return We(function(Fe){return Fe-1})},[We]),Je=r.useCallback(function(){return We(function(Fe){return Fe+1})},[We]),ge=r.useCallback(function(Fe){ae({type:u.setPageSize,pageSize:Fe})},[ae]);Object.assign(h,{pageOptions:_e,pageCount:Ne,page:xe,canPreviousPage:Ye,canNextPage:ve,gotoPage:We,previousPage:ze,nextPage:Je,setPageSize:ge})}gm.pluginName="usePagination",u.resetPivot="resetPivot",u.togglePivot="togglePivot";var _m=function(h){h.getPivotToggleProps=[x2],h.stateReducers.push(T2),h.useInstanceAfterData.push(w2),h.allColumns.push(v2),h.accessValue.push(A2),h.materializedColumns.push(C2),h.materializedColumnsDeps.push(S2),h.visibleColumns.push(k2),h.visibleColumnsDeps.push(I2),h.useInstance.push(R2),h.prepareRow.push(L2)};_m.pluginName="usePivotColumns";var bm=[],x2=function(h,b){var x=b.header;return[h,{onClick:x.canPivot?function(v){v.persist(),x.togglePivot()}:void 0,style:{cursor:x.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function T2(h,b,x,v){if(b.type===u.init)return a({pivotColumns:bm},h);if(b.type===u.resetPivot)return a({},h,{pivotColumns:v.initialState.pivotColumns||bm});if(b.type===u.togglePivot){var N=b.columnId,S=b.value,M=S!==void 0?S:!h.pivotColumns.includes(N);return a({},h,M?{pivotColumns:[].concat(h.pivotColumns,[N])}:{pivotColumns:h.pivotColumns.filter(function(j){return j!==N})})}}function w2(h){h.allColumns.forEach(function(b){b.isPivotSource=h.state.pivotColumns.includes(b.id)})}function v2(h,b){var x=b.instance;return h.forEach(function(v){v.isPivotSource=x.state.pivotColumns.includes(v.id),v.uniqueValues=new Set}),h}function A2(h,b){var x=b.column;return x.uniqueValues&&h!==void 0&&x.uniqueValues.add(h),h}function C2(h,b){var x=b.instance,v=x.allColumns,N=x.state;if(!N.pivotColumns.length||!N.groupBy||!N.groupBy.length)return h;var S=N.pivotColumns.map(function(W){return v.find(function(Y){return Y.id===W})}).filter(Boolean),M=v.filter(function(W){return!W.isPivotSource&&!N.groupBy.includes(W.id)&&!N.pivotColumns.includes(W.id)}),j=K(function W(Y,se,te){Y===void 0&&(Y=0),te===void 0&&(te=[]);var ne=S[Y];return ne?Array.from(ne.uniqueValues).sort().map(function(Q){var re=a({},ne,{Header:ne.PivotHeader||typeof ne.header=="string"?ne.Header+": "+Q:Q,isPivotGroup:!0,parent:se,depth:Y,id:se?se.id+"."+ne.id+"."+Q:ne.id+"."+Q,pivotValue:Q});return re.columns=W(Y+1,re,[].concat(te,[function(le){return le.values[ne.id]===Q}])),re}):M.map(function(Q){return a({},Q,{canPivot:!1,isPivoted:!0,parent:se,depth:Y,id:""+(se?se.id+"."+Q.id:Q.id),accessor:function(re,le,ue){if(te.every(function(me){return me(ue)}))return ue.values[Q.id]}})})}());return[].concat(h,j)}function S2(h,b){var x=b.instance.state,v=x.pivotColumns,N=x.groupBy;return[].concat(h,[v,N])}function k2(h,b){var x=b.instance.state;return h=h.filter(function(v){return!v.isPivotSource}),x.pivotColumns.length&&x.groupBy&&x.groupBy.length&&(h=h.filter(function(v){return v.isGrouped||v.isPivoted})),h}function I2(h,b){var x=b.instance;return[].concat(h,[x.state.pivotColumns,x.state.groupBy])}function R2(h){var b=h.columns,x=h.allColumns,v=h.flatHeaders,N=h.getHooks,S=h.plugins,M=h.dispatch,j=h.autoResetPivot,W=j===void 0||j,Y=h.manaulPivot,se=h.disablePivot,te=h.defaultCanPivot;_(S,["useGroupBy"],"usePivotColumns");var ne=T(h);x.forEach(function(re){var le=re.accessor,ue=re.defaultPivot,me=re.disablePivot;re.canPivot=le?we(re.canPivot,me!==!0&&void 0,se!==!0&&void 0,!0):we(re.canPivot,ue,te,!1),re.canPivot&&(re.togglePivot=function(){return h.togglePivot(re.id)}),re.Aggregated=re.Aggregated||re.Cell}),v.forEach(function(re){re.getPivotToggleProps=g(N().getPivotToggleProps,{instance:ne(),header:re})});var Q=T(W);O(function(){Q()&&M({type:u.resetPivot})},[M,Y?null:b]),Object.assign(h,{togglePivot:function(re,le){M({type:u.togglePivot,columnId:re,value:le})}})}function L2(h){h.allCells.forEach(function(b){b.isPivoted=b.column.isPivoted})}u.resetSelectedRows="resetSelectedRows",u.toggleAllRowsSelected="toggleAllRowsSelected",u.toggleRowSelected="toggleRowSelected",u.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var ym=function(h){h.getToggleRowSelectedProps=[N2],h.getToggleAllRowsSelectedProps=[P2],h.getToggleAllPageRowsSelectedProps=[O2],h.stateReducers.push(D2),h.useInstance.push(M2),h.prepareRow.push(F2)};ym.pluginName="useRowSelect";var N2=function(h,b){var x=b.instance,v=b.row,N=x.manualRowSelectedKey,S=N===void 0?"isSelected":N;return[h,{onChange:function(M){v.toggleRowSelected(M.target.checked)},style:{cursor:"pointer"},checked:!(!v.original||!v.original[S])||v.isSelected,title:"Toggle Row Selected",indeterminate:v.isSomeSelected}]},P2=function(h,b){var x=b.instance;return[h,{onChange:function(v){x.toggleAllRowsSelected(v.target.checked)},style:{cursor:"pointer"},checked:x.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:!!(!x.isAllRowsSelected&&Object.keys(x.state.selectedRowIds).length)}]},O2=function(h,b){var x=b.instance;return[h,{onChange:function(v){x.toggleAllPageRowsSelected(v.target.checked)},style:{cursor:"pointer"},checked:x.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:!!(!x.isAllPageRowsSelected&&x.page.some(function(v){var N=v.id;return x.state.selectedRowIds[N]}))}]};function D2(h,b,x,v){if(b.type===u.init)return a({selectedRowIds:{}},h);if(b.type===u.resetSelectedRows)return a({},h,{selectedRowIds:v.initialState.selectedRowIds||{}});if(b.type===u.toggleAllRowsSelected){var N=b.value,S=v.isAllRowsSelected,M=v.rowsById,j=v.nonGroupedRowsById,W=j===void 0?M:j,Y=N!==void 0?N:!S,se=Object.assign({},h.selectedRowIds);return Y?Object.keys(W).forEach(function(We){se[We]=!0}):Object.keys(W).forEach(function(We){delete se[We]}),a({},h,{selectedRowIds:se})}if(b.type===u.toggleRowSelected){var te=b.id,ne=b.value,Q=v.rowsById,re=v.selectSubRows,le=re===void 0||re,ue=v.getSubRows,me=h.selectedRowIds[te],ke=ne!==void 0?ne:!me;if(me===ke)return h;var pe=a({},h.selectedRowIds);return function We(ze){var Je=Q[ze];if(Je&&(Je.isGrouped||(ke?pe[ze]=!0:delete pe[ze]),le&&ue(Je)))return ue(Je).forEach(function(ge){return We(ge.id)})}(te),a({},h,{selectedRowIds:pe})}if(b.type===u.toggleAllPageRowsSelected){var ae=b.value,Ae=v.page,ce=v.rowsById,Te=v.selectSubRows,Ne=Te===void 0||Te,_e=v.isAllPageRowsSelected,xe=v.getSubRows,Ye=ae!==void 0?ae:!_e,ve=a({},h.selectedRowIds);return Ae.forEach(function(We){return function ze(Je){var ge=ce[Je];if(ge.isGrouped||(Ye?ve[Je]=!0:delete ve[Je]),Ne&&xe(ge))return xe(ge).forEach(function(Fe){return ze(Fe.id)})}(We.id)}),a({},h,{selectedRowIds:ve})}return h}function M2(h){var b=h.data,x=h.rows,v=h.getHooks,N=h.plugins,S=h.rowsById,M=h.nonGroupedRowsById,j=M===void 0?S:M,W=h.autoResetSelectedRows,Y=W===void 0||W,se=h.state.selectedRowIds,te=h.selectSubRows,ne=te===void 0||te,Q=h.dispatch,re=h.page,le=h.getSubRows;_(N,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var ue=r.useMemo(function(){var xe=[];return x.forEach(function(Ye){var ve=ne?function We(ze,Je,ge){if(Je[ze.id])return!0;var Fe=ge(ze);if(Fe&&Fe.length){var ht=!0,Vt=!1;return Fe.forEach(function(be){Vt&&!ht||(We(be,Je,ge)?Vt=!0:ht=!1)}),!!ht||!!Vt&&null}return!1}(Ye,se,le):!!se[Ye.id];Ye.isSelected=!!ve,Ye.isSomeSelected=ve===null,ve&&xe.push(Ye)}),xe},[x,ne,se,le]),me=!!(Object.keys(j).length&&Object.keys(se).length),ke=me;me&&Object.keys(j).some(function(xe){return!se[xe]})&&(me=!1),me||re&&re.length&&re.some(function(xe){var Ye=xe.id;return!se[Ye]})&&(ke=!1);var pe=T(Y);O(function(){pe()&&Q({type:u.resetSelectedRows})},[Q,b]);var ae=r.useCallback(function(xe){return Q({type:u.toggleAllRowsSelected,value:xe})},[Q]),Ae=r.useCallback(function(xe){return Q({type:u.toggleAllPageRowsSelected,value:xe})},[Q]),ce=r.useCallback(function(xe,Ye){return Q({type:u.toggleRowSelected,id:xe,value:Ye})},[Q]),Te=T(h),Ne=g(v().getToggleAllRowsSelectedProps,{instance:Te()}),_e=g(v().getToggleAllPageRowsSelectedProps,{instance:Te()});Object.assign(h,{selectedFlatRows:ue,isAllRowsSelected:me,isAllPageRowsSelected:ke,toggleRowSelected:ce,toggleAllRowsSelected:ae,getToggleAllRowsSelectedProps:Ne,getToggleAllPageRowsSelectedProps:_e,toggleAllPageRowsSelected:Ae})}function F2(h,b){var x=b.instance;h.toggleRowSelected=function(v){return x.toggleRowSelected(h.id,v)},h.getToggleRowSelectedProps=g(x.getHooks().getToggleRowSelectedProps,{instance:x,row:h})}var Em=function(h){return{}},xm=function(h){return{}};u.setRowState="setRowState",u.setCellState="setCellState",u.resetRowState="resetRowState";var Tm=function(h){h.stateReducers.push(B2),h.useInstance.push(H2),h.prepareRow.push(z2)};function B2(h,b,x,v){var N=v.initialRowStateAccessor,S=N===void 0?Em:N,M=v.initialCellStateAccessor,j=M===void 0?xm:M,W=v.rowsById;if(b.type===u.init)return a({rowState:{}},h);if(b.type===u.resetRowState)return a({},h,{rowState:v.initialState.rowState||{}});if(b.type===u.setRowState){var Y,se=b.rowId,te=b.value,ne=h.rowState[se]!==void 0?h.rowState[se]:S(W[se]);return a({},h,{rowState:a({},h.rowState,(Y={},Y[se]=E(te,ne),Y))})}if(b.type===u.setCellState){var Q,re,le,ue,me,ke=b.rowId,pe=b.columnId,ae=b.value,Ae=h.rowState[ke]!==void 0?h.rowState[ke]:S(W[ke]),ce=(Ae==null||(Q=Ae.cellState)==null?void 0:Q[pe])!==void 0?Ae.cellState[pe]:j((re=W[ke])==null||(le=re.cells)==null?void 0:le.find(function(Te){return Te.column.id===pe}));return a({},h,{rowState:a({},h.rowState,(me={},me[ke]=a({},Ae,{cellState:a({},Ae.cellState||{},(ue={},ue[pe]=E(ae,ce),ue))}),me))})}}function H2(h){var b=h.autoResetRowState,x=b===void 0||b,v=h.data,N=h.dispatch,S=r.useCallback(function(W,Y){return N({type:u.setRowState,rowId:W,value:Y})},[N]),M=r.useCallback(function(W,Y,se){return N({type:u.setCellState,rowId:W,columnId:Y,value:se})},[N]),j=T(x);O(function(){j()&&N({type:u.resetRowState})},[v]),Object.assign(h,{setRowState:S,setCellState:M})}function z2(h,b){var x=b.instance,v=x.initialRowStateAccessor,N=v===void 0?Em:v,S=x.initialCellStateAccessor,M=S===void 0?xm:S,j=x.state.rowState;h&&(h.state=j[h.id]!==void 0?j[h.id]:N(h),h.setState=function(W){return x.setRowState(h.id,W)},h.cells.forEach(function(W){h.state.cellState||(h.state.cellState={}),W.state=h.state.cellState[W.column.id]!==void 0?h.state.cellState[W.column.id]:M(W),W.setState=function(Y){return x.setCellState(h.id,W.column.id,Y)}}))}Tm.pluginName="useRowState",u.resetColumnOrder="resetColumnOrder",u.setColumnOrder="setColumnOrder";var wm=function(h){h.stateReducers.push(U2),h.visibleColumnsDeps.push(function(b,x){var v=x.instance;return[].concat(b,[v.state.columnOrder])}),h.visibleColumns.push(j2),h.useInstance.push(W2)};function U2(h,b,x,v){return b.type===u.init?a({columnOrder:[]},h):b.type===u.resetColumnOrder?a({},h,{columnOrder:v.initialState.columnOrder||[]}):b.type===u.setColumnOrder?a({},h,{columnOrder:E(b.columnOrder,h.columnOrder)}):void 0}function j2(h,b){var x=b.instance.state.columnOrder;if(!x||!x.length)return h;for(var v=[].concat(x),N=[].concat(h),S=[],M=function(){var j=v.shift(),W=N.findIndex(function(Y){return Y.id===j});W>-1&&S.push(N.splice(W,1)[0])};N.length&&v.length;)M();return[].concat(S,N)}function W2(h){var b=h.dispatch;h.setColumnOrder=r.useCallback(function(x){return b({type:u.setColumnOrder,columnOrder:x})},[b])}wm.pluginName="useColumnOrder",p.canResize=!0,u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize";var vm=function(h){h.getResizerProps=[G2],h.getHeaderProps.push({style:{position:"relative"}}),h.stateReducers.push(V2),h.useInstance.push(q2),h.useInstanceBeforeDimensions.push(Y2)},G2=function(h,b){var x=b.instance,v=b.header,N=x.dispatch,S=function(M,j){var W=!1;if(M.type==="touchstart"){if(M.touches&&M.touches.length>1)return;W=!0}var Y,se,te=function(pe){var ae=[];return function Ae(ce){ce.columns&&ce.columns.length&&ce.columns.map(Ae),ae.push(ce)}(pe),ae}(j).map(function(pe){return[pe.id,pe.totalWidth]}),ne=W?Math.round(M.touches[0].clientX):M.clientX,Q=function(){window.cancelAnimationFrame(Y),Y=null,N({type:u.columnDoneResizing})},re=function(){window.cancelAnimationFrame(Y),Y=null,N({type:u.columnResizing,clientX:se})},le=function(pe){se=pe,Y||(Y=window.requestAnimationFrame(re))},ue={mouse:{moveEvent:"mousemove",moveHandler:function(pe){return le(pe.clientX)},upEvent:"mouseup",upHandler:function(pe){document.removeEventListener("mousemove",ue.mouse.moveHandler),document.removeEventListener("mouseup",ue.mouse.upHandler),Q()}},touch:{moveEvent:"touchmove",moveHandler:function(pe){return pe.cancelable&&(pe.preventDefault(),pe.stopPropagation()),le(pe.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(pe){document.removeEventListener(ue.touch.moveEvent,ue.touch.moveHandler),document.removeEventListener(ue.touch.upEvent,ue.touch.moveHandler),Q()}}},me=W?ue.touch:ue.mouse,ke=!!function(){if(typeof Ie=="boolean")return Ie;var pe=!1;try{var ae={get passive(){return pe=!0,!1}};window.addEventListener("test",null,ae),window.removeEventListener("test",null,ae)}catch{pe=!1}return Ie=pe}()&&{passive:!1};document.addEventListener(me.moveEvent,me.moveHandler,ke),document.addEventListener(me.upEvent,me.upHandler,ke),N({type:u.columnStartResizing,columnId:j.id,columnWidth:j.totalWidth,headerIdWidths:te,clientX:ne})};return[h,{onMouseDown:function(M){return M.persist()||S(M,v)},onTouchStart:function(M){return M.persist()||S(M,v)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function V2(h,b){if(b.type===u.init)return a({columnResizing:{columnWidths:{}}},h);if(b.type===u.resetResize)return a({},h,{columnResizing:{columnWidths:{}}});if(b.type===u.columnStartResizing){var x=b.clientX,v=b.columnId,N=b.columnWidth,S=b.headerIdWidths;return a({},h,{columnResizing:a({},h.columnResizing,{startX:x,headerIdWidths:S,columnWidth:N,isResizingColumn:v})})}if(b.type===u.columnResizing){var M=b.clientX,j=h.columnResizing,W=j.startX,Y=j.columnWidth,se=j.headerIdWidths,te=(M-W)/Y,ne={};return(se===void 0?[]:se).forEach(function(Q){var re=Q[0],le=Q[1];ne[re]=Math.max(le+le*te,0)}),a({},h,{columnResizing:a({},h.columnResizing,{columnWidths:a({},h.columnResizing.columnWidths,{},ne)})})}return b.type===u.columnDoneResizing?a({},h,{columnResizing:a({},h.columnResizing,{startX:null,isResizingColumn:null})}):void 0}vm.pluginName="useResizeColumns";var Y2=function(h){var b=h.flatHeaders,x=h.disableResizing,v=h.getHooks,N=h.state.columnResizing,S=T(h);b.forEach(function(M){var j=we(M.disableResizing!==!0&&void 0,x!==!0&&void 0,!0);M.canResize=j,M.width=N.columnWidths[M.id]||M.originalWidth||M.width,M.isResizing=N.isResizingColumn===M.id,j&&(M.getResizerProps=g(v().getResizerProps,{instance:S(),header:M}))})};function q2(h){var b=h.plugins,x=h.dispatch,v=h.autoResetResize,N=v===void 0||v,S=h.columns;_(b,["useAbsoluteLayout"],"useResizeColumns");var M=T(N);O(function(){M()&&x({type:u.resetResize})},[S]);var j=r.useCallback(function(){return x({type:u.resetResize})},[x]);Object.assign(h,{resetResizing:j})}var Fc={position:"absolute",top:0},Am=function(h){h.getTableBodyProps.push(Uo),h.getRowProps.push(Uo),h.getHeaderGroupProps.push(Uo),h.getFooterGroupProps.push(Uo),h.getHeaderProps.push(function(b,x){var v=x.column;return[b,{style:a({},Fc,{left:v.totalLeft+"px",width:v.totalWidth+"px"})}]}),h.getCellProps.push(function(b,x){var v=x.cell;return[b,{style:a({},Fc,{left:v.column.totalLeft+"px",width:v.column.totalWidth+"px"})}]}),h.getFooterProps.push(function(b,x){var v=x.column;return[b,{style:a({},Fc,{left:v.totalLeft+"px",width:v.totalWidth+"px"})}]})};Am.pluginName="useAbsoluteLayout";var Uo=function(h,b){return[h,{style:{position:"relative",width:b.instance.totalColumnsWidth+"px"}}]},Bc={display:"inline-block",boxSizing:"border-box"},Hc=function(h,b){return[h,{style:{display:"flex",width:b.instance.totalColumnsWidth+"px"}}]},Cm=function(h){h.getRowProps.push(Hc),h.getHeaderGroupProps.push(Hc),h.getFooterGroupProps.push(Hc),h.getHeaderProps.push(function(b,x){var v=x.column;return[b,{style:a({},Bc,{width:v.totalWidth+"px"})}]}),h.getCellProps.push(function(b,x){var v=x.cell;return[b,{style:a({},Bc,{width:v.column.totalWidth+"px"})}]}),h.getFooterProps.push(function(b,x){var v=x.column;return[b,{style:a({},Bc,{width:v.totalWidth+"px"})}]})};function Sm(h){h.getTableProps.push(Q2),h.getRowProps.push(zc),h.getHeaderGroupProps.push(zc),h.getFooterGroupProps.push(zc),h.getHeaderProps.push($2),h.getCellProps.push(K2),h.getFooterProps.push(X2)}Cm.pluginName="useBlockLayout",Sm.pluginName="useFlexLayout";var Q2=function(h,b){return[h,{style:{minWidth:b.instance.totalColumnsMinWidth+"px"}}]},zc=function(h,b){return[h,{style:{display:"flex",flex:"1 0 auto",minWidth:b.instance.totalColumnsMinWidth+"px"}}]},$2=function(h,b){var x=b.column;return[h,{style:{boxSizing:"border-box",flex:x.totalFlexWidth?x.totalFlexWidth+" 0 auto":void 0,minWidth:x.totalMinWidth+"px",width:x.totalWidth+"px"}}]},K2=function(h,b){var x=b.cell;return[h,{style:{boxSizing:"border-box",flex:x.column.totalFlexWidth+" 0 auto",minWidth:x.column.totalMinWidth+"px",width:x.column.totalWidth+"px"}}]},X2=function(h,b){var x=b.column;return[h,{style:{boxSizing:"border-box",flex:x.totalFlexWidth?x.totalFlexWidth+" 0 auto":void 0,minWidth:x.totalMinWidth+"px",width:x.totalWidth+"px"}}]};function km(h){h.stateReducers.push(tw),h.getTableProps.push(J2),h.getHeaderProps.push(Z2),h.getRowProps.push(ew)}u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize",km.pluginName="useGridLayout";var J2=function(h,b){var x=b.instance;return[h,{style:{display:"grid",gridTemplateColumns:x.visibleColumns.map(function(v){var N;return x.state.gridLayout.columnWidths[v.id]?x.state.gridLayout.columnWidths[v.id]+"px":(N=x.state.columnResizing)!=null&&N.isResizingColumn?x.state.gridLayout.startWidths[v.id]+"px":typeof v.width=="number"?v.width+"px":v.width}).join(" ")}}]},Z2=function(h,b){var x=b.column;return[h,{id:"header-cell-"+x.id,style:{position:"sticky",gridColumn:"span "+x.totalVisibleHeaderCount}}]},ew=function(h,b){var x=b.row;return x.isExpanded?[h,{style:{gridColumn:"1 / "+(x.cells.length+1)}}]:[h,{}]};function tw(h,b,x,v){if(b.type===u.init)return a({gridLayout:{columnWidths:{}}},h);if(b.type===u.resetResize)return a({},h,{gridLayout:{columnWidths:{}}});if(b.type===u.columnStartResizing){var N=b.columnId,S=b.headerIdWidths,M=Uc(N);if(M!==void 0){var j=v.visibleColumns.reduce(function(ae,Ae){var ce;return a({},ae,((ce={})[Ae.id]=Uc(Ae.id),ce))},{}),W=v.visibleColumns.reduce(function(ae,Ae){var ce;return a({},ae,((ce={})[Ae.id]=Ae.minWidth,ce))},{}),Y=v.visibleColumns.reduce(function(ae,Ae){var ce;return a({},ae,((ce={})[Ae.id]=Ae.maxWidth,ce))},{}),se=S.map(function(ae){var Ae=ae[0];return[Ae,Uc(Ae)]});return a({},h,{gridLayout:a({},h.gridLayout,{startWidths:j,minWidths:W,maxWidths:Y,headerIdGridWidths:se,columnWidth:M})})}return h}if(b.type===u.columnResizing){var te=b.clientX,ne=h.columnResizing.startX,Q=h.gridLayout,re=Q.columnWidth,le=Q.minWidths,ue=Q.maxWidths,me=Q.headerIdGridWidths,ke=(te-ne)/re,pe={};return(me===void 0?[]:me).forEach(function(ae){var Ae=ae[0],ce=ae[1];pe[Ae]=Math.min(Math.max(le[Ae],ce+ce*ke),ue[Ae])}),a({},h,{gridLayout:a({},h.gridLayout,{columnWidths:a({},h.gridLayout.columnWidths,{},pe)})})}return b.type===u.columnDoneResizing?a({},h,{gridLayout:a({},h.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function Uc(h){var b,x=(b=document.getElementById("header-cell-"+h))==null?void 0:b.offsetWidth;if(x!==void 0)return x}n._UNSTABLE_usePivotColumns=_m,n.actions=u,n.defaultColumn=p,n.defaultGroupByFn=dm,n.defaultOrderByFn=mm,n.defaultRenderer=c,n.emptyRenderer=d,n.ensurePluginOrder=_,n.flexRender=H,n.functionalUpdate=E,n.loopHooks=w,n.makePropGetter=g,n.makeRenderer=R,n.reduceHooks=y,n.safeUseLayoutEffect=P,n.useAbsoluteLayout=Am,n.useAsyncDebounce=function(h,b){b===void 0&&(b=0);var x=r.useRef({}),v=T(h),N=T(b);return r.useCallback(function(){var S=s(regeneratorRuntime.mark(function M(){var j,W,Y,se=arguments;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:for(j=se.length,W=new Array(j),Y=0;Y<j;Y++)W[Y]=se[Y];return x.current.promise||(x.current.promise=new Promise(function(ne,Q){x.current.resolve=ne,x.current.reject=Q})),x.current.timeout&&clearTimeout(x.current.timeout),x.current.timeout=setTimeout(s(regeneratorRuntime.mark(function ne(){return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return delete x.current.timeout,Q.prev=1,Q.t0=x.current,Q.next=5,v().apply(void 0,W);case 5:Q.t1=Q.sent,Q.t0.resolve.call(Q.t0,Q.t1),Q.next=12;break;case 9:Q.prev=9,Q.t2=Q.catch(1),x.current.reject(Q.t2);case 12:return Q.prev=12,delete x.current.promise,Q.finish(12);case 15:case"end":return Q.stop()}},ne,null,[[1,9,12,15]])})),N()),te.abrupt("return",x.current.promise);case 5:case"end":return te.stop()}},M)}));return function(){return S.apply(this,arguments)}}(),[v,N])},n.useBlockLayout=Cm,n.useColumnOrder=wm,n.useExpanded=Ce,n.useFilters=am,n.useFlexLayout=Sm,n.useGetLatest=T,n.useGlobalFilter=om,n.useGridLayout=km,n.useGroupBy=cm,n.useMountedLayoutEffect=O,n.usePagination=gm,n.useResizeColumns=vm,n.useRowSelect=ym,n.useRowState=Tm,n.useSortBy=pm,n.useTable=function(h){for(var b=arguments.length,x=new Array(b>1?b-1:0),v=1;v<b;v++)x[v-1]=arguments[v];h=zo(h),x=[Oo].concat(x);var N=r.useRef({}),S=T(N.current);Object.assign(S(),a({},h,{plugins:x,hooks:Ic()})),x.filter(Boolean).forEach(function(be){be(S().hooks)});var M=T(S().hooks);S().getHooks=M,delete S().hooks,Object.assign(S(),y(M().useOptions,zo(h)));var j=S(),W=j.data,Y=j.columns,se=j.initialState,te=j.defaultColumn,ne=j.getSubRows,Q=j.getRowId,re=j.stateReducer,le=j.useControlledState,ue=T(re),me=r.useCallback(function(be,st){if(!st.type)throw console.info({action:st}),new Error("Unknown Action ");return[].concat(M().stateReducers,Array.isArray(ue())?ue():[ue()]).reduce(function(yt,Yt){return Yt(yt,st,be,S())||yt},be)},[M,ue,S]),ke=r.useReducer(me,void 0,function(){return me(se,{type:u.init})}),pe=ke[0],ae=ke[1],Ae=y([].concat(M().useControlledState,[le]),pe,{instance:S()});Object.assign(S(),{state:Ae,dispatch:ae});var ce=r.useMemo(function(){return z(y(M().columns,Y,{instance:S()}))},[M,S,Y].concat(y(M().columnsDeps,[],{instance:S()})));S().columns=ce;var Te=r.useMemo(function(){return y(M().allColumns,K(ce),{instance:S()}).map(F)},[ce,M,S].concat(y(M().allColumnsDeps,[],{instance:S()})));S().allColumns=Te;var Ne=r.useMemo(function(){for(var be=[],st=[],yt={},Yt=[].concat(Te);Yt.length;){var St=Yt.shift();oe({data:W,rows:be,flatRows:st,rowsById:yt,column:St,getRowId:Q,getSubRows:ne,accessValueHooks:M().accessValue,getInstance:S})}return[be,st,yt]},[Te,W,Q,ne,M,S]),_e=Ne[0],xe=Ne[1],Ye=Ne[2];Object.assign(S(),{rows:_e,initialRows:[].concat(_e),flatRows:xe,rowsById:Ye}),w(M().useInstanceAfterData,S());var ve=r.useMemo(function(){return y(M().visibleColumns,Te,{instance:S()}).map(function(be){return q(be,te)})},[M,Te,S,te].concat(y(M().visibleColumnsDeps,[],{instance:S()})));Te=r.useMemo(function(){var be=[].concat(ve);return Te.forEach(function(st){be.find(function(yt){return yt.id===st.id})||be.push(st)}),be},[Te,ve]),S().allColumns=Te;var We=r.useMemo(function(){return y(M().headerGroups,J(ve,te),S())},[M,ve,te,S].concat(y(M().headerGroupsDeps,[],{instance:S()})));S().headerGroups=We;var ze=r.useMemo(function(){return We.length?We[0].headers:[]},[We]);S().headers=ze,S().flatHeaders=We.reduce(function(be,st){return[].concat(be,st.headers)},[]),w(M().useInstanceBeforeDimensions,S());var Je=ve.filter(function(be){return be.isVisible}).map(function(be){return be.id}).sort().join("_");ve=r.useMemo(function(){return ve.filter(function(be){return be.isVisible})},[ve,Je]),S().visibleColumns=ve;var ge=V(ze),Fe=ge[0],ht=ge[1],Vt=ge[2];return S().totalColumnsMinWidth=Fe,S().totalColumnsWidth=ht,S().totalColumnsMaxWidth=Vt,w(M().useInstance,S()),[].concat(S().flatHeaders,S().allColumns).forEach(function(be){be.render=R(S(),be),be.getHeaderProps=g(M().getHeaderProps,{instance:S(),column:be}),be.getFooterProps=g(M().getFooterProps,{instance:S(),column:be})}),S().headerGroups=r.useMemo(function(){return We.filter(function(be,st){return be.headers=be.headers.filter(function(yt){return yt.headers?function Yt(St){return St.filter(function(Nr){return Nr.headers?Yt(Nr.headers):Nr.isVisible}).length}(yt.headers):yt.isVisible}),!!be.headers.length&&(be.getHeaderGroupProps=g(M().getHeaderGroupProps,{instance:S(),headerGroup:be,index:st}),be.getFooterGroupProps=g(M().getFooterGroupProps,{instance:S(),headerGroup:be,index:st}),!0)})},[We,S,M]),S().footerGroups=[].concat(S().headerGroups).reverse(),S().prepareRow=r.useCallback(function(be){be.getRowProps=g(M().getRowProps,{instance:S(),row:be}),be.allCells=Te.map(function(st){var yt=be.values[st.id],Yt={column:st,row:be,value:yt};return Yt.getCellProps=g(M().getCellProps,{instance:S(),cell:Yt}),Yt.render=R(S(),st,{row:be,cell:Yt,value:yt}),Yt}),be.cells=ve.map(function(st){return be.allCells.find(function(yt){return yt.column.id===st.id})}),w(M().prepareRow,be,{instance:S()})},[M,S,Te,ve]),S().getTableProps=g(M().getTableProps,{instance:S()}),S().getTableBodyProps=g(M().getTableBodyProps,{instance:S()}),w(M().useFinalInstance,S()),S()},Object.defineProperty(n,"__esModule",{value:!0})})})(ah,ah.exports);var mP=ah.exports;Fx.exports=mP;var Nd=Fx.exports;const gP=[{Header:"ID",accessor:"id"},{Header:"ID",accessor:"query_id"},{Header:"ID",accessor:"sample_id"},{Header:"Dataset",accessor:"dataset"},{Header:"Context",accessor:"context"},{Header:"Ground Truth Answer",accessor:"gt_answer"},{Header:"Ground Truth Answer",accessor:"doc"},{Header:"Ground Truth Answer",accessor:"long_answers"},{Header:"Question",accessor:"question"},{Header:"Question",accessor:"ambiguous_question"},{Header:"Question",accessor:"query"},{Header:"Answer",accessor:"answer"},{Header:"Answer",accessor:"answers"},{Header:"Model",accessor:"model"}];function Bx({jsonData:e,headers:t,enableExpand:n=!0}){const[r,i]=G.useState([]);G.useEffect(()=>{if(t)i(t);else{const O=gP.filter(R=>e.some(H=>H.hasOwnProperty(R.accessor)));i(O)}},[e]),G.useEffect(()=>{const O=()=>{const R=window.innerHeight,H=50,z=50,K=60,F=R-H-K,q=Math.floor(F/z);E(q>0?q:1)};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const{getTableProps:s,getTableBodyProps:a,headerGroups:o,page:l,prepareRow:u,canPreviousPage:c,canNextPage:d,pageOptions:p,pageCount:m,gotoPage:g,nextPage:y,previousPage:w,state:{pageIndex:_},setPageSize:E}=Nd.useTable({columns:r,data:e,initialState:{pageIndex:0}},Nd.useSortBy,Nd.usePagination),[T,P]=G.useState(null);return C.jsxs("div",{children:[C.jsxs("table",{...s(),children:[C.jsx("thead",{children:o.map(O=>{const{key:R,...H}=O.getHeaderGroupProps();return C.jsx("tr",{...H,className:"table-header",children:O.headers.map(z=>{const{key:K,...F}=z.getHeaderProps(z.getSortByToggleProps());return C.jsxs("th",{...F,children:[z.render("Header"),C.jsx("span",{children:z.isSorted?z.isSortedDesc?" ":" ":""})]},K)})},R)})}),C.jsx("tbody",{...a(),children:l.map(O=>{u(O);const{key:R,...H}=O.getRowProps();return C.jsxs(gr.Fragment,{children:[C.jsx("tr",{...H,onClick:()=>n&&P(T===O.id?null:O.id),style:{cursor:n?"pointer":"default"},children:O.cells.map(z=>{const{key:K,...F}=z.getCellProps();return C.jsx("td",{...F,children:z.render("Cell")},K)})}),T===O.id&&C.jsx("tr",{children:C.jsx("td",{colSpan:r.length,className:"expanded-row",children:C.jsx("div",{className:"expanded-row-content",children:r.map(z=>C.jsxs("div",{className:"expanded-row-item",children:[C.jsxs("strong",{children:[z.Header,":"]}),C.jsx("span",{children:O.original[z.accessor]})]},z.accessor))})})})]},R)})})]}),p.length>1&&C.jsxs("div",{className:"pagination",children:[C.jsxs("span",{className:"pagination-page-info",children:[" ",_+1,"  ",p.length," "]}),C.jsxs("span",{className:"pagination-jump",children:[""," ",C.jsx("input",{type:"number",defaultValue:_+1,min:1,max:m,onChange:O=>{let R=O.target.value?Number(O.target.value)-1:0;R<0&&(R=0),R>=m&&(R=m-1),g(R)},className:"pagination-input"})," ",""]}),C.jsxs("div",{className:"pagination-buttons",children:[C.jsx("button",{onClick:()=>g(0),disabled:!c,className:"pagination-button",children:""}),C.jsx("button",{onClick:()=>w(),disabled:!c,className:"pagination-button",children:""}),C.jsx("button",{onClick:()=>y(),disabled:!d,className:"pagination-button",children:""}),C.jsx("button",{onClick:()=>g(m-1),disabled:!d,className:"pagination-button",children:""})]})]})]})}var Hx={exports:{}},_P="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bP=_P,yP=bP;function zx(){}function Ux(){}Ux.resetWarningCache=zx;var EP=function(){function e(r,i,s,a,o,l){if(l!==yP){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ux,resetWarningCache:zx};return n.PropTypes=n,n};Hx.exports=EP();var xP=Hx.exports;const Ji=yh(xP);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function No(e){return e+.5|0}const Vr=(e,t,n)=>Math.max(Math.min(e,n),t);function ya(e){return Vr(No(e*2.55),0,255)}function si(e){return Vr(No(e*255),0,255)}function pr(e){return Vr(No(e/2.55)/100,0,1)}function d1(e){return Vr(No(e*100),0,100)}const Sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},oh=[..."0123456789ABCDEF"],TP=e=>oh[e&15],wP=e=>oh[(e&240)>>4]+oh[e&15],pl=e=>(e&240)>>4===(e&15),vP=e=>pl(e.r)&&pl(e.g)&&pl(e.b)&&pl(e.a);function AP(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Sn[e[1]]*17,g:255&Sn[e[2]]*17,b:255&Sn[e[3]]*17,a:t===5?Sn[e[4]]*17:255}:(t===7||t===9)&&(n={r:Sn[e[1]]<<4|Sn[e[2]],g:Sn[e[3]]<<4|Sn[e[4]],b:Sn[e[5]]<<4|Sn[e[6]],a:t===9?Sn[e[7]]<<4|Sn[e[8]]:255})),n}const CP=(e,t)=>e<255?t(e):"";function SP(e){var t=vP(e)?TP:wP;return e?"#"+t(e.r)+t(e.g)+t(e.b)+CP(e.a,t):void 0}const kP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jx(e,t,n){const r=t*Math.min(n,1-n),i=(s,a=(s+e/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function IP(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function RP(e,t,n){const r=jx(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function LP(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Fp(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;let l,u,c;return s!==a&&(c=s-a,u=o>.5?c/(2-s-a):c/(s+a),l=LP(n,r,i,c,s),l=l*60+.5),[l|0,u||0,o]}function Bp(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(si)}function Hp(e,t,n){return Bp(jx,e,t,n)}function NP(e,t,n){return Bp(RP,e,t,n)}function PP(e,t,n){return Bp(IP,e,t,n)}function Wx(e){return(e%360+360)%360}function OP(e){const t=kP.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?ya(+t[5]):si(+t[5]));const i=Wx(+t[2]),s=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?r=NP(i,s,a):t[1]==="hsv"?r=PP(i,s,a):r=Hp(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function DP(e,t){var n=Fp(e);n[0]=Wx(n[0]+t),n=Hp(n),e.r=n[0],e.g=n[1],e.b=n[2]}function MP(e){if(!e)return;const t=Fp(e),n=t[0],r=d1(t[1]),i=d1(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${pr(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const f1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},h1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function FP(){const e={},t=Object.keys(h1),n=Object.keys(f1);let r,i,s,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,f1[s]);s=parseInt(h1[a],16),e[o]=[s>>16&255,s>>8&255,s&255]}return e}let ml;function BP(e){ml||(ml=FP(),ml.transparent=[0,0,0,0]);const t=ml[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const HP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zP(e){const t=HP.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const a=+t[7];n=t[8]?ya(a):Vr(a*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?ya(r):Vr(r,0,255)),i=255&(t[4]?ya(i):Vr(i,0,255)),s=255&(t[6]?ya(s):Vr(s,0,255)),{r,g:i,b:s,a:n}}}function UP(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${pr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Pd=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Zi=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function jP(e,t,n){const r=Zi(pr(e.r)),i=Zi(pr(e.g)),s=Zi(pr(e.b));return{r:si(Pd(r+n*(Zi(pr(t.r))-r))),g:si(Pd(i+n*(Zi(pr(t.g))-i))),b:si(Pd(s+n*(Zi(pr(t.b))-s))),a:e.a+n*(t.a-e.a)}}function gl(e,t,n){if(e){let r=Fp(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Hp(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Gx(e,t){return e&&Object.assign(t||{},e)}function p1(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=si(e[3]))):(t=Gx(e,{r:0,g:0,b:0,a:1}),t.a=si(t.a)),t}function WP(e){return e.charAt(0)==="r"?zP(e):OP(e)}class fo{constructor(t){if(t instanceof fo)return t;const n=typeof t;let r;n==="object"?r=p1(t):n==="string"&&(r=AP(t)||BP(t)||WP(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Gx(this._rgb);return t&&(t.a=pr(t.a)),t}set rgb(t){this._rgb=p1(t)}rgbString(){return this._valid?UP(this._rgb):void 0}hexString(){return this._valid?SP(this._rgb):void 0}hslString(){return this._valid?MP(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const a=n===s?.5:n,o=2*a-1,l=r.a-i.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=jP(this._rgb,t._rgb,n)),this}clone(){return new fo(this.rgb)}alpha(t){return this._rgb.a=si(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=No(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return gl(this._rgb,2,t),this}darken(t){return gl(this._rgb,2,-t),this}saturate(t){return gl(this._rgb,1,t),this}desaturate(t){return gl(this._rgb,1,-t),this}rotate(t){return DP(this._rgb,t),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function ur(){}const GP=(()=>{let e=0;return()=>e++})();function ut(e){return e===null||typeof e>"u"}function ct(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ve(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function mt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function hn(e,t){return mt(e)?e:t}function je(e,t){return typeof e>"u"?t:e}const VP=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function tt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Ke(e,t,n,r){let i,s,a;if(ct(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(Ve(e))for(a=Object.keys(e),s=a.length,i=0;i<s;i++)t.call(n,e[a[i]],a[i])}function Nu(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Pu(e){if(ct(e))return e.map(Pu);if(Ve(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=Pu(e[n[i]]);return t}return e}function Vx(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function YP(e,t,n,r){if(!Vx(e))return;const i=t[e],s=n[e];Ve(i)&&Ve(s)?ho(i,s,r):t[e]=Pu(s)}function ho(e,t,n){const r=ct(t)?t:[t],i=r.length;if(!Ve(e))return e;n=n||{};const s=n.merger||YP;let a;for(let o=0;o<i;++o){if(a=r[o],!Ve(a))continue;const l=Object.keys(a);for(let u=0,c=l.length;u<c;++u)s(l[u],e,a,n)}return e}function Ha(e,t){return ho(e,t,{merger:qP})}function qP(e,t,n){if(!Vx(e))return;const r=t[e],i=n[e];Ve(r)&&Ve(i)?Ha(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Pu(i))}const m1={"":e=>e,x:e=>e.x,y:e=>e.y};function QP(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function $P(e){const t=QP(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function po(e,t){return(m1[t]||(m1[t]=$P(t)))(e)}function zp(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ou=e=>typeof e<"u",li=e=>typeof e=="function",g1=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function KP(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Nt=Math.PI,En=2*Nt,XP=En+Nt,Du=Number.POSITIVE_INFINITY,JP=Nt/180,_n=Nt/2,bi=Nt/4,_1=Nt*2/3,Yr=Math.log10,Ds=Math.sign;function za(e,t,n){return Math.abs(e-t)<n}function b1(e){const t=Math.round(e);e=za(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Yr(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function ZP(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function Mu(e){return!isNaN(parseFloat(e))&&isFinite(e)}function eO(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Yx(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function qr(e){return e*(Nt/180)}function Up(e){return e*(180/Nt)}function y1(e){if(!mt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function tO(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Nt&&(s+=En),{angle:s,distance:i}}function lh(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function nO(e,t){return(e-t+XP)%En-Nt}function mn(e){return(e%En+En)%En}function qx(e,t,n,r){const i=mn(e),s=mn(t),a=mn(n),o=mn(s-i),l=mn(a-i),u=mn(i-s),c=mn(i-a);return i===s||i===a||r&&s===a||o>l&&u<c}function yr(e,t,n){return Math.max(t,Math.min(n,e))}function rO(e){return yr(e,-32768,32767)}function ms(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function jp(e,t,n){n=n||(a=>e[a]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const uh=(e,t,n,r)=>jp(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),iO=(e,t,n)=>jp(e,n,r=>e[r][t]>=n);function sO(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const Qx=["push","pop","shift","splice","unshift"];function aO(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Qx.forEach(n=>{const r="_onData"+zp(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return e._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function E1(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(Qx.forEach(s=>{delete e[s]}),delete e._chartjs)}function oO(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const $x=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Kx(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,$x.call(window,()=>{r=!1,e.apply(t,n)}))}}function lO(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Xx=e=>e==="start"?"left":e==="end"?"right":"center",fn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,uO=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t,_l=e=>e===0||e===1,x1=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*En/n)),T1=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*En/n)+1,Ua={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*_n)+1,easeOutSine:e=>Math.sin(e*_n),easeInOutSine:e=>-.5*(Math.cos(Nt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>_l(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>_l(e)?e:x1(e,.075,.3),easeOutElastic:e=>_l(e)?e:T1(e,.075,.3),easeInOutElastic(e){return _l(e)?e:e<.5?.5*x1(e*2,.1125,.45):.5+.5*T1(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ua.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ua.easeInBounce(e*2)*.5:Ua.easeOutBounce(e*2-1)*.5+.5};function Wp(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function w1(e){return Wp(e)?e:new fo(e)}function Od(e){return Wp(e)?e:new fo(e).saturate(.5).darken(.1).hexString()}const cO=["x","y","borderWidth","radius","tension"],dO=["color","borderColor","backgroundColor"];function fO(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:dO},numbers:{type:"number",properties:cO}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function hO(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const v1=new Map;function pO(e,t){t=t||{};const n=e+JSON.stringify(t);let r=v1.get(n);return r||(r=new Intl.NumberFormat(e,t),v1.set(n,r)),r}function Gp(e,t,n){return pO(t,n).format(e)}const Jx={values(e){return ct(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=mO(e,n)}const a=Yr(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Gp(e,r,l)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Yr(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?Jx.numeric.call(this,e,t,n):""}};function mO(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var wc={formatters:Jx};function gO(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:wc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ji=Object.create(null),ch=Object.create(null);function ja(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function Dd(e,t,n){return typeof t=="string"?ho(ja(e,t),n):ho(ja(e,""),t)}class _O{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Od(i.backgroundColor),this.hoverBorderColor=(r,i)=>Od(i.borderColor),this.hoverColor=(r,i)=>Od(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Dd(this,t,n)}get(t){return ja(this,t)}describe(t,n){return Dd(ch,t,n)}override(t,n){return Dd(ji,t,n)}route(t,n,r,i){const s=ja(this,t),a=ja(this,r),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],u=a[i];return Ve(l)?Object.assign({},u,l):je(l,u)},set(l){this[o]=l}}})}apply(t){t.forEach(n=>n(this))}}var gt=new _O({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[fO,hO,gO]);function bO(e){return!e||ut(e.size)||ut(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Fu(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function yO(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let a=0;const o=n.length;let l,u,c,d,p;for(l=0;l<o;l++)if(d=n[l],d!=null&&!ct(d))a=Fu(e,i,s,a,d);else if(ct(d))for(u=0,c=d.length;u<c;u++)p=d[u],p!=null&&!ct(p)&&(a=Fu(e,i,s,a,p));e.restore();const m=s.length/2;if(m>n.length){for(l=0;l<m;l++)delete i[s[l]];s.splice(0,m)}return a}function yi(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function A1(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function dh(e,t,n,r){Zx(e,t,n,r,null)}function Zx(e,t,n,r,i){let s,a,o,l,u,c,d,p;const m=t.pointStyle,g=t.rotation,y=t.radius;let w=(g||0)*JP;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(w),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),m){default:i?e.ellipse(n,r,i/2,y,0,0,En):e.arc(n,r,y,0,En),e.closePath();break;case"triangle":c=i?i/2:y,e.moveTo(n+Math.sin(w)*c,r-Math.cos(w)*y),w+=_1,e.lineTo(n+Math.sin(w)*c,r-Math.cos(w)*y),w+=_1,e.lineTo(n+Math.sin(w)*c,r-Math.cos(w)*y),e.closePath();break;case"rectRounded":u=y*.516,l=y-u,a=Math.cos(w+bi)*l,d=Math.cos(w+bi)*(i?i/2-u:l),o=Math.sin(w+bi)*l,p=Math.sin(w+bi)*(i?i/2-u:l),e.arc(n-d,r-o,u,w-Nt,w-_n),e.arc(n+p,r-a,u,w-_n,w),e.arc(n+d,r+o,u,w,w+_n),e.arc(n-p,r+a,u,w+_n,w+Nt),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,c=i?i/2:l,e.rect(n-c,r-l,2*c,2*l);break}w+=bi;case"rectRot":d=Math.cos(w)*(i?i/2:y),a=Math.cos(w)*y,o=Math.sin(w)*y,p=Math.sin(w)*(i?i/2:y),e.moveTo(n-d,r-o),e.lineTo(n+p,r-a),e.lineTo(n+d,r+o),e.lineTo(n-p,r+a),e.closePath();break;case"crossRot":w+=bi;case"cross":d=Math.cos(w)*(i?i/2:y),a=Math.cos(w)*y,o=Math.sin(w)*y,p=Math.sin(w)*(i?i/2:y),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+p,r-a),e.lineTo(n-p,r+a);break;case"star":d=Math.cos(w)*(i?i/2:y),a=Math.cos(w)*y,o=Math.sin(w)*y,p=Math.sin(w)*(i?i/2:y),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+p,r-a),e.lineTo(n-p,r+a),w+=bi,d=Math.cos(w)*(i?i/2:y),a=Math.cos(w)*y,o=Math.sin(w)*y,p=Math.sin(w)*(i?i/2:y),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+p,r-a),e.lineTo(n-p,r+a);break;case"line":a=i?i/2:Math.cos(w)*y,o=Math.sin(w)*y,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(w)*(i?i/2:y),r+Math.sin(w)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Er(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function vc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ac(e){e.restore()}function EO(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function xO(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function TO(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ut(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function wO(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,c),e.lineTo(o,c),e.stroke()}}function vO(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ms(e,t,n,r,i,s={}){const a=ct(t)?t:[t],o=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(e.save(),e.font=i.string,TO(e,s),l=0;l<a.length;++l)u=a[l],s.backdrop&&vO(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),ut(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(u,n,r,s.maxWidth)),e.fillText(u,n,r,s.maxWidth),wO(e,n,r,u,s),r+=Number(i.lineHeight);e.restore()}function Bu(e,t){const{x:n,y:r,w:i,h:s,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Nt,Nt,!0),e.lineTo(n,r+s-a.bottomLeft),e.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Nt,_n,!0),e.lineTo(n+i-a.bottomRight,r+s),e.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,_n,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-_n,!0),e.lineTo(n+a.topLeft,r)}const AO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,CO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function SO(e,t){const n=(""+e).match(AO);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const kO=e=>+e||0;function eT(e,t){const n={},r=Ve(t),i=r?Object.keys(t):t,s=Ve(e)?r?a=>je(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of i)n[a]=kO(s(a));return n}function IO(e){return eT(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ws(e){return eT(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Kt(e){const t=IO(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ot(e,t){e=e||{},t=t||gt.font;let n=je(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=je(e.style,t.style);r&&!(""+r).match(CO)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:je(e.family,t.family),lineHeight:SO(je(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:je(e.weight,t.weight),string:""};return i.string=bO(i),i}function bl(e,t,n,r){let i=!0,s,a,o;for(s=0,a=e.length;s<a;++s)if(o=e[s],o!==void 0&&(t!==void 0&&typeof o=="function"&&(o=o(t),i=!1),n!==void 0&&ct(o)&&(o=o[n%o.length],i=!1),o!==void 0))return r&&!i&&(r.cacheable=!1),o}function RO(e,t,n){const{min:r,max:i}=e,s=VP(t,(i-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function _i(e,t){return Object.assign(Object.create(e),t)}function Vp(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=iT("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>Vp([o,...e],t,s,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete e[0][l],!0},get(o,l){return nT(o,l,()=>BO(l,t,e,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,l){return S1(o).includes(l)},ownKeys(o){return S1(o)},set(o,l,u){const c=o._storage||(o._storage=i());return o[l]=c[l]=u,delete o._keys,!0}})}function Fs(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:tT(e,r),setContext:s=>Fs(e,s,n,r),override:s=>Fs(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete e[a],!0},get(s,a,o){return nT(s,a,()=>NO(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(s,a,o){return e[a]=o,delete s[a],!0}})}function tT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:li(n)?n:()=>n,isIndexable:li(r)?r:()=>r}}const LO=(e,t)=>e?e+zp(t):t,Yp=(e,t)=>Ve(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function nT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function NO(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=e;let o=r[t];return li(o)&&a.isScriptable(t)&&(o=PO(t,o,e,n)),ct(o)&&o.length&&(o=OO(t,o,e,a.isIndexable)),Yp(t,o)&&(o=Fs(o,i,s&&s[t],a)),o}function PO(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(s,a||r);return o.delete(e),Yp(e,l)&&(l=qp(i._scopes,i,e,l)),l}function OO(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(Ve(t[0])){const l=t,u=i._scopes.filter(c=>c!==l);t=[];for(const c of l){const d=qp(u,i,e,c);t.push(Fs(d,s,a&&a[e],o))}}return t}function rT(e,t,n){return li(e)?e(t,n):e}const DO=(e,t)=>e===!0?t:typeof e=="string"?po(t,e):void 0;function MO(e,t,n,r,i){for(const s of t){const a=DO(n,s);if(a){e.add(a);const o=rT(a._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function qp(e,t,n,r){const i=t._rootScopes,s=rT(t._fallback,n,r),a=[...e,...i],o=new Set;o.add(r);let l=C1(o,a,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=C1(o,a,s,l,r),l===null)?!1:Vp(Array.from(o),[""],i,s,()=>FO(t,n,r))}function C1(e,t,n,r,i){for(;n;)n=MO(e,t,n,r,i);return n}function FO(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return ct(i)&&Ve(n)?n:i||{}}function BO(e,t,n,r){let i;for(const s of t)if(i=iT(LO(s,e),n),typeof i<"u")return Yp(e,i)?qp(n,r,e,i):i}function iT(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function S1(e){let t=e._keys;return t||(t=e._keys=HO(e._scopes)),t}function HO(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function zO(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,a=new Array(r);let o,l,u,c;for(o=0,l=r;o<l;++o)u=o+n,c=t[u],a[o]={r:i.parse(po(c,s),u)};return a}const UO=Number.EPSILON||1e-14,Bs=(e,t)=>t<e.length&&!e[t].skip&&e[t],sT=e=>e==="x"?"y":"x";function jO(e,t,n,r){const i=e.skip?t:e,s=t,a=n.skip?t:n,o=lh(s,i),l=lh(a,s);let u=o/(o+l),c=l/(o+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const d=r*u,p=r*c;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+p*(a.x-i.x),y:s.y+p*(a.y-i.y)}}}function WO(e,t,n){const r=e.length;let i,s,a,o,l,u=Bs(e,0);for(let c=0;c<r-1;++c)if(l=u,u=Bs(e,c+1),!(!l||!u)){if(za(t[c],0,UO)){n[c]=n[c+1]=0;continue}i=n[c]/t[c],s=n[c+1]/t[c],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),n[c]=i*a*t[c],n[c+1]=s*a*t[c])}}function GO(e,t,n="x"){const r=sT(n),i=e.length;let s,a,o,l=Bs(e,0);for(let u=0;u<i;++u){if(a=o,o=l,l=Bs(e,u+1),!o)continue;const c=o[n],d=o[r];a&&(s=(c-a[n])/3,o[`cp1${n}`]=c-s,o[`cp1${r}`]=d-s*t[u]),l&&(s=(l[n]-c)/3,o[`cp2${n}`]=c+s,o[`cp2${r}`]=d+s*t[u])}}function VO(e,t="x"){const n=sT(t),r=e.length,i=Array(r).fill(0),s=Array(r);let a,o,l,u=Bs(e,0);for(a=0;a<r;++a)if(o=l,l=u,u=Bs(e,a+1),!!l){if(u){const c=u[t]-l[t];i[a]=c!==0?(u[n]-l[n])/c:0}s[a]=o?u?Ds(i[a-1])!==Ds(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}WO(e,i,s),GO(e,s,t)}function yl(e,t,n){return Math.max(Math.min(e,n),t)}function YO(e,t){let n,r,i,s,a,o=Er(e[0],t);for(n=0,r=e.length;n<r;++n)a=s,s=o,o=n<r-1&&Er(e[n+1],t),s&&(i=e[n],a&&(i.cp1x=yl(i.cp1x,t.left,t.right),i.cp1y=yl(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=yl(i.cp2x,t.left,t.right),i.cp2y=yl(i.cp2y,t.top,t.bottom)))}function qO(e,t,n,r,i){let s,a,o,l;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")VO(e,i);else{let u=r?e[e.length-1]:e[0];for(s=0,a=e.length;s<a;++s)o=e[s],l=jO(u,o,e[Math.min(s+1,a-(r?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}t.capBezierPoints&&YO(e,n)}function Qp(){return typeof window<"u"&&typeof document<"u"}function $p(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Hu(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Cc=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function QO(e,t){return Cc(e).getPropertyValue(t)}const $O=["top","right","bottom","left"];function Di(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=$O[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const KO=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function XO(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let a=!1,o,l;if(KO(i,s,e.target))o=i,l=s;else{const u=t.getBoundingClientRect();o=r.clientX-u.left,l=r.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function Ai(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Cc(n),s=i.boxSizing==="border-box",a=Di(i,"padding"),o=Di(i,"border","width"),{x:l,y:u,box:c}=XO(e,n),d=a.left+(c&&o.left),p=a.top+(c&&o.top);let{width:m,height:g}=t;return s&&(m-=a.width+o.width,g-=a.height+o.height),{x:Math.round((l-d)/m*n.width/r),y:Math.round((u-p)/g*n.height/r)}}function JO(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&$p(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const a=s.getBoundingClientRect(),o=Cc(s),l=Di(o,"border","width"),u=Di(o,"padding");t=a.width-u.width-l.width,n=a.height-u.height-l.height,r=Hu(o.maxWidth,s,"clientWidth"),i=Hu(o.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||Du,maxHeight:i||Du}}const El=e=>Math.round(e*10)/10;function ZO(e,t,n,r){const i=Cc(e),s=Di(i,"margin"),a=Hu(i.maxWidth,e,"clientWidth")||Du,o=Hu(i.maxHeight,e,"clientHeight")||Du,l=JO(e,t,n);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const p=Di(i,"border","width"),m=Di(i,"padding");u-=m.width+p.width,c-=m.height+p.height}return u=Math.max(0,u-s.width),c=Math.max(0,r?u/r:c-s.height),u=El(Math.min(u,a,l.maxWidth)),c=El(Math.min(c,o,l.maxHeight)),u&&!c&&(c=El(u/2)),(t!==void 0||n!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=El(Math.floor(c*r))),{width:u,height:c}}function k1(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(e.currentDevicePixelRatio=r,a.height=i,a.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const e4=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Qp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function I1(e,t){const n=QO(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ci(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function t4(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function n4(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},a=Ci(e,i,n),o=Ci(i,s,n),l=Ci(s,t,n),u=Ci(a,o,n),c=Ci(o,l,n);return Ci(u,c,n)}const r4=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},i4=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function vs(e,t,n){return e?r4(t,n):i4()}function aT(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function oT(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function lT(e){return e==="angle"?{between:qx,compare:nO,normalize:mn}:{between:ms,compare:(t,n)=>t-n,normalize:t=>t}}function R1({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function s4(e,t,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=lT(r),l=t.length;let{start:u,end:c,loop:d}=e,p,m;if(d){for(u+=l,c+=l,p=0,m=l;p<m&&a(o(t[u%l][r]),i,s);++p)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:d,style:e.style}}function uT(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,a=t.length,{compare:o,between:l,normalize:u}=lT(r),{start:c,end:d,loop:p,style:m}=s4(e,t,n),g=[];let y=!1,w=null,_,E,T;const P=()=>l(i,T,_)&&o(i,T)!==0,O=()=>o(s,_)===0||l(s,T,_),R=()=>y||P(),H=()=>!y||O();for(let z=c,K=c;z<=d;++z)E=t[z%a],!E.skip&&(_=u(E[r]),_!==T&&(y=l(_,i,s),w===null&&R()&&(w=o(_,i)===0?z:K),w!==null&&H()&&(g.push(R1({start:w,end:z,loop:p,count:a,style:m})),w=null),K=z,T=_));return w!==null&&g.push(R1({start:w,end:d,loop:p,count:a,style:m})),g}function cT(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=uT(r[i],e.points,t);s.length&&n.push(...s)}return n}function a4(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function o4(e,t,n,r){const i=e.length,s=[];let a=t,o=e[t],l;for(l=t+1;l<=n;++l){const u=e[l%i];u.skip||u.stop?o.skip||(r=!1,s.push({start:t%i,end:(l-1)%i,loop:r}),t=a=u.stop?l:null):(a=l,o.skip&&(t=l)),o=u}return a!==null&&s.push({start:t%i,end:a%i,loop:r}),s}function l4(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:a,end:o}=a4(n,i,s,r);if(r===!0)return L1(e,[{start:a,end:o,loop:s}],n,t);const l=o<a?o+i:o,u=!!e._fullLoop&&a===0&&o===i-1;return L1(e,o4(n,a,l,u),n,t)}function L1(e,t,n,r){return!r||!r.setContext||!n?t:u4(e,t,n,r)}function u4(e,t,n,r){const i=e._chart.getContext(),s=N1(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=n.length,u=[];let c=s,d=t[0].start,p=d;function m(g,y,w,_){const E=o?-1:1;if(g!==y){for(g+=l;n[g%l].skip;)g-=E;for(;n[y%l].skip;)y+=E;g%l!==y%l&&(u.push({start:g%l,end:y%l,loop:w,style:_}),c=_,d=y%l)}}for(const g of t){d=o?d:g.start;let y=n[d%l],w;for(p=d+1;p<=g.end;p++){const _=n[p%l];w=N1(r.setContext(_i(i,{type:"segment",p0:y,p1:_,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),c4(w,c)&&m(d,p-1,g.loop,c),y=_,c=w}d<p-1&&m(d,p-1,g.loop,c)}return u}function N1(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function c4(e,t){if(!t)return!1;const n=[],r=function(i,s){return Wp(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class d4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(o=>o({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=$x.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var cr=new d4;const P1="transparent",f4={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=w1(e||P1),i=r.valid&&w1(t||P1);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class h4{constructor(t,n,r,i){const s=n[r];i=bl([t.to,i,s,t.from]);const a=bl([t.from,s,i]);this._active=!0,this._fn=t.fn||f4[t.type||typeof a],this._easing=Ua[t.easing]||Ua.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=bl([t.to,n,i,t.from]),this._from=bl([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class dT{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Ve(t))return;const n=Object.keys(gt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Ve(s))return;const a={};for(const o of n)a[o]=s[o];(ct(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(t,n){const r=n.options,i=m4(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&p4(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(t,n));continue}const c=n[u];let d=s[u];const p=r.get(u);if(d)if(p&&d.active()){d.update(p,c,o);continue}else d.cancel();if(!p||!p.duration){t[u]=c;continue}s[u]=d=new h4(p,t,u,c),i.push(d)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return cr.add(this._chart,r),!0}}function p4(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function m4(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function O1(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function g4(e,t,n){if(n===!1)return!1;const r=O1(e,n),i=O1(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function _4(e){let t,n,r,i;return Ve(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function fT(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function D1(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let a,o,l,u;if(t===null)return;let c=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(c=!0,r.all)continue;break}u=e.values[l],mt(u)&&(s||t===0||Ds(t)===Ds(u))&&(t+=u)}return!c&&!r.all?0:t}function b4(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,u,c;for(l=0,u=a.length;l<u;++l)c=a[l],o[l]={[i]:c,[s]:e[c]};return o}function Md(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function y4(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function E4(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function x4(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function M1(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function F1(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,u=a.axis,c=y4(s,a,r),d=t.length;let p;for(let m=0;m<d;++m){const g=t[m],{[l]:y,[u]:w}=g,_=g._stacks||(g._stacks={});p=_[u]=x4(i,c,y),p[o]=w,p._top=M1(p,a,!0,r.type),p._bottom=M1(p,a,!1,r.type);const E=p._visualValues||(p._visualValues={});E[o]=w}}function Fd(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function T4(e,t){return _i(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function w4(e,t,n){return _i(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function la(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Bd=e=>e==="reset"||e==="none",B1=(e,t)=>t?e:Object.assign({},e),v4=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:fT(n,!0),values:null};class Wa{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Md(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&la(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,p,m,g)=>d==="x"?p:d==="r"?g:m,s=n.xAxisID=je(r.xAxisID,Fd(t,"x")),a=n.yAxisID=je(r.yAxisID,Fd(t,"y")),o=n.rAxisID=je(r.rAxisID,Fd(t,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,a,o),c=n.vAxisID=i(l,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&E1(this._data,this),t._stacked&&la(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Ve(n)){const i=this._cachedMeta;this._data=b4(n,i)}else if(r!==n){if(r){E1(r,this);const i=this._cachedMeta;la(i),i._parsed=[]}n&&Object.isExtensible(n)&&aO(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Md(n.vScale,n),n.stack!==r.stack&&(i=!0,la(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(F1(this,n._parsed),n._stacked=Md(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let l=t===0&&n===i.length?!0:r._sorted,u=t>0&&r._parsed[t-1],c,d,p;if(this._parsing===!1)r._parsed=i,r._sorted=!0,p=i;else{ct(i[t])?p=this.parseArrayData(r,i,t,n):Ve(i[t])?p=this.parseObjectData(r,i,t,n):p=this.parsePrimitiveData(r,i,t,n);const m=()=>d[o]===null||u&&d[o]<u[o];for(c=0;c<n;++c)r._parsed[c+t]=d=p[c],l&&(m()&&(l=!1),u=d);r._sorted=l}a&&F1(this,p)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:a}=t,o=s.axis,l=a.axis,u=s.getLabels(),c=s===a,d=new Array(i);let p,m,g;for(p=0,m=i;p<m;++p)g=p+r,d[p]={[o]:c||s.parse(u[g],g),[l]:a.parse(n[g],g)};return d}parseArrayData(t,n,r,i){const{xScale:s,yScale:a}=t,o=new Array(i);let l,u,c,d;for(l=0,u=i;l<u;++l)c=l+r,d=n[c],o[l]={x:s.parse(d[0],c),y:a.parse(d[1],c)};return o}parseObjectData(t,n,r,i){const{xScale:s,yScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,d,p,m;for(c=0,d=i;c<d;++c)p=c+r,m=n[p],u[c]={x:s.parse(po(m,o),p),y:a.parse(po(m,l),p)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,a=n[t.axis],o={keys:fT(i,!0),values:n._stacks[t.axis]._visualValues};return D1(o,a,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,a=D1(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,a=i.length,o=this._getOtherScale(t),l=v4(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=E4(o);let p,m;function g(){m=i[p];const y=m[o.axis];return!mt(m[t.axis])||c>y||d<y}for(p=0;p<a&&!(!g()&&(this.updateRangeFromParsed(u,t,m,l),s));++p);if(s){for(p=a-1;p>=0;--p)if(!g()){this.updateRangeFromParsed(u,t,m,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][t.axis],mt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=_4(je(this.options.clip,g4(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(t,s,o,l),c=o;c<o+l;++c){const d=i[c];d.hidden||(d.active&&u?a.push(d):d.draw(t,s))}for(c=0;c<a.length;++c)a[c].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=w4(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=T4(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=t+"-"+n,o=s[a],l=this.enableOptionSharing&&Ou(r);if(o)return B1(o,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),d=i?[`${t}Hover`,"hover",t,""]:[t,""],p=u.getOptionScopes(this.getDataset(),c),m=Object.keys(gt.elements[t]),g=()=>this.getContext(r,i,n),y=u.resolveNamedOptions(p,m,g,d);return y.$shared&&(y.$shared=l,s[a]=Object.freeze(B1(y,l))),y}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,n),p=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(p,this.getContext(t,r,n))}const u=new dT(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Bd(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(t,n,r,i){Bd(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!Bd(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,a=t+n;let o;const l=u=>{for(u.length+=n,o=u.length-1;o>=a;o--)u[o]=u[o-n]};for(l(s),o=t;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&la(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Se(Wa,"defaults",{}),Se(Wa,"datasetElementType",null),Se(Wa,"dataElementType",null);class ql extends Wa{getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return zO.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(r,void 0,o,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,a=i==="reset";for(let o=n;o<n+r;o++){const l=t[o],u=this.resolveDataElementOptions(o,l.active?"active":i),c=s.getPointPositionForValue(o,this.getParsed(o).r),d=a?s.xCenter:c.x,p=a?s.yCenter:c.y,m={x:d,y:p,angle:c.angle,skip:isNaN(d)||isNaN(p),options:u};this.updateElement(l,o,m,i)}}}Se(ql,"id","radar"),Se(ql,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Se(ql,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function Ei(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Kp{constructor(t){Se(this,"options");this.options=t||{}}static override(t){Object.assign(Kp.prototype,t)}init(){}formats(){return Ei()}parse(){return Ei()}format(){return Ei()}add(){return Ei()}diff(){return Ei()}startOf(){return Ei()}endOf(){return Ei()}}var A4={_date:Kp};function C4(e,t,n,r){const{controller:i,data:s,_sorted:a}=e,o=i._cachedMeta.iScale;if(o&&t===o.axis&&t!=="r"&&a&&s.length){const l=o._reversePixels?iO:uh;if(r){if(i._sharedOptions){const u=s[0],c=typeof u.getRange=="function"&&u.getRange(t);if(c){const d=l(s,t,n-c),p=l(s,t,n+c);return{lo:d.lo,hi:p.hi}}}}else return l(s,t,n)}return{lo:0,hi:s.length-1}}function Po(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=s.length;o<l;++o){const{index:u,data:c}=s[o],{lo:d,hi:p}=C4(s[o],t,a,i);for(let m=d;m<=p;++m){const g=c[m];g.skip||r(g,u,m)}}}function S4(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Hd(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||Po(e,n,t,function(o,l,u){!i&&!Er(o,e.chartArea,0)||o.inRange(t.x,t.y,r)&&s.push({element:o,datasetIndex:l,index:u})},!0),s}function k4(e,t,n,r){let i=[];function s(a,o,l){const{startAngle:u,endAngle:c}=a.getProps(["startAngle","endAngle"],r),{angle:d}=tO(a,{x:t.x,y:t.y});qx(d,u,c)&&i.push({element:a,datasetIndex:o,index:l})}return Po(e,n,t,s),i}function I4(e,t,n,r,i,s){let a=[];const o=S4(n);let l=Number.POSITIVE_INFINITY;function u(c,d,p){const m=c.inRange(t.x,t.y,i);if(r&&!m)return;const g=c.getCenterPoint(i);if(!(!!s||e.isPointInArea(g))&&!m)return;const w=o(t,g);w<l?(a=[{element:c,datasetIndex:d,index:p}],l=w):w===l&&a.push({element:c,datasetIndex:d,index:p})}return Po(e,n,t,u),a}function zd(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?k4(e,t,n,i):I4(e,t,n,r,i,s)}function H1(e,t,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return Po(e,n,t,(l,u,c)=>{l[a]&&l[a](t[n],i)&&(s.push({element:l,datasetIndex:u,index:c}),o=o||l.inRange(t.x,t.y,i))}),r&&!o?[]:s}var R4={evaluateInteractionItems:Po,modes:{index(e,t,n,r){const i=Ai(t,e),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Hd(e,i,s,r,a):zd(e,i,s,!1,r,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const c=o[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(e,t,n,r){const i=Ai(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Hd(e,i,s,r,a):zd(e,i,s,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,u=e.getDatasetMeta(l).data;o=[];for(let c=0;c<u.length;++c)o.push({element:u[c],datasetIndex:l,index:c})}return o},point(e,t,n,r){const i=Ai(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return Hd(e,i,s,r,a)},nearest(e,t,n,r){const i=Ai(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return zd(e,i,s,n.intersect,r,a)},x(e,t,n,r){const i=Ai(t,e);return H1(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=Ai(t,e);return H1(e,i,"y",n.intersect,r)}}};const hT=["left","top","right","bottom"];function ua(e,t){return e.filter(n=>n.pos===t)}function z1(e,t){return e.filter(n=>hT.indexOf(n.pos)===-1&&n.box.axis===t)}function ca(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function L4(e){const t=[];let n,r,i,s,a,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:a,stackWeight:o=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return t}function N4(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!hT.includes(i))continue;const a=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}function P4(e,t){const n=N4(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,a,o;for(s=0,a=e.length;s<a;++s){o=e[s];const{fullSize:l}=o.box,u=n[o.stack],c=u&&o.stackWeight/u.weight;o.horizontal?(o.width=c?c*r:l&&t.availableWidth,o.height=i):(o.width=r,o.height=c?c*i:l&&t.availableHeight)}return n}function O4(e){const t=L4(e),n=ca(t.filter(u=>u.box.fullSize),!0),r=ca(ua(t,"left"),!0),i=ca(ua(t,"right")),s=ca(ua(t,"top"),!0),a=ca(ua(t,"bottom")),o=z1(t,"x"),l=z1(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:ua(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function U1(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function pT(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function D4(e,t,n,r){const{pos:i,box:s}=n,a=e.maxPadding;if(!Ve(i)){n.size&&(e[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,e[i]+=n.size}s.getPadding&&pT(a,s.getPadding());const o=Math.max(0,t.outerWidth-U1(a,e,"left","right")),l=Math.max(0,t.outerHeight-U1(a,e,"top","bottom")),u=o!==e.w,c=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function M4(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function F4(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(t[a],n[a])}),s}return r(e?["left","right"]:["top","bottom"])}function Ea(e,t,n,r){const i=[];let s,a,o,l,u,c;for(s=0,a=e.length,u=0;s<a;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,F4(o.horizontal,t));const{same:d,other:p}=D4(t,n,o,r);u|=d&&i.length,c=c||p,l.fullSize||i.push(o)}return u&&Ea(i,t,n,r)||c}function xl(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function j1(e,t,n,r){const i=n.padding;let{x:s,y:a}=t;for(const o of e){const l=o.box,u=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/u.weight||1;if(o.horizontal){const d=t.w*c,p=u.size||l.height;Ou(u.start)&&(a=u.start),l.fullSize?xl(l,i.left,a,n.outerWidth-i.right-i.left,p):xl(l,t.left+u.placed,a,d,p),u.start=a,u.placed+=d,a=l.bottom}else{const d=t.h*c,p=u.size||l.width;Ou(u.start)&&(s=u.start),l.fullSize?xl(l,s,i.top,p,n.outerHeight-i.bottom-i.top):xl(l,s,t.top+u.placed,p,d),u.start=s,u.placed+=d,s=l.right}}t.x=s,t.y=a}var Qr={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Kt(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(n-i.height,0),o=O4(e.boxes),l=o.vertical,u=o.horizontal;Ke(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const c=l.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/c,hBoxMaxHeight:a/2}),p=Object.assign({},i);pT(p,Kt(r));const m=Object.assign({maxPadding:p,w:s,h:a,x:i.left,y:i.top},i),g=P4(l.concat(u),d);Ea(o.fullSize,m,d,g),Ea(l,m,d,g),Ea(u,m,d,g)&&Ea(l,m,d,g),M4(m),j1(o.leftAndTop,m,d,g),m.x+=m.w,m.y+=m.h,j1(o.rightAndBottom,m,d,g),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Ke(o.chartArea,y=>{const w=y.box;Object.assign(w,e.chartArea),w.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class mT{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class B4 extends mT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ql="$chartjs",H4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},W1=e=>e===null||e==="";function z4(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Ql]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",W1(i)){const s=I1(e,"width");s!==void 0&&(e.width=s)}if(W1(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=I1(e,"height");s!==void 0&&(e.height=s)}return e}const gT=e4?{passive:!0}:!1;function U4(e,t,n){e&&e.addEventListener(t,n,gT)}function j4(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,gT)}function W4(e,t){const n=H4[e.type]||e.type,{x:r,y:i}=Ai(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function zu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function G4(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||zu(o.addedNodes,r),a=a&&!zu(o.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function V4(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||zu(o.removedNodes,r),a=a&&!zu(o.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const mo=new Map;let G1=0;function _T(){const e=window.devicePixelRatio;e!==G1&&(G1=e,mo.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Y4(e,t){mo.size||window.addEventListener("resize",_T),mo.set(e,t)}function q4(e){mo.delete(e),mo.size||window.removeEventListener("resize",_T)}function Q4(e,t,n){const r=e.canvas,i=r&&$p(r);if(!i)return;const s=Kx((o,l)=>{const u=i.clientWidth;n(o,l),u<i.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return a.observe(i),Y4(e,s),a}function Ud(e,t,n){n&&n.disconnect(),t==="resize"&&q4(e)}function $4(e,t,n){const r=e.canvas,i=Kx(s=>{e.ctx!==null&&n(W4(s,e))},e);return U4(r,t,i),i}class K4 extends mT{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(z4(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[Ql])return!1;const r=n[Ql].initial;["height","width"].forEach(s=>{const a=r[s];ut(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Ql],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),a={attach:G4,detach:V4,resize:Q4}[n]||$4;i[n]=a(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:Ud,detach:Ud,resize:Ud}[n]||j4)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return ZO(t,n,r,i)}isAttached(t){const n=t&&$p(t);return!!(n&&n.isConnected)}}function X4(e){return!Qp()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?B4:K4}class ui{constructor(){Se(this,"x");Se(this,"y");Se(this,"active",!1);Se(this,"options");Se(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Mu(this.x)&&Mu(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}Se(ui,"defaults",{}),Se(ui,"defaultRoutes");function J4(e,t){const n=e.options.ticks,r=Z4(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?tD(t):[],a=s.length,o=s[0],l=s[a-1],u=[];if(a>i)return nD(t,u,s,a/i),u;const c=eD(s,t,i);if(a>0){let d,p;const m=a>1?Math.round((l-o)/(a-1)):null;for(Tl(t,u,c,ut(m)?0:o-m,o),d=0,p=a-1;d<p;d++)Tl(t,u,c,s[d],s[d+1]);return Tl(t,u,c,l,ut(m)?t.length:l+m),u}return Tl(t,u,c),u}function Z4(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function eD(e,t,n){const r=rD(e),i=t.length/n;if(!r)return Math.max(i,1);const s=ZP(r);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function tD(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function nD(e,t,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<e.length;a++)a===s&&(t.push(e[a]),i++,s=n[i*r])}function Tl(e,t,n,r,i){const s=je(r,0),a=Math.min(je(i,e.length),e.length);let o=0,l,u,c;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),c=s;c<0;)o++,c=Math.round(s+o*n);for(u=Math.max(s,0);u<a;u++)u===c&&(t.push(e[u]),o++,c=Math.round(s+o*n))}function rD(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const iD=e=>e==="left"?"right":e==="right"?"left":e,V1=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Y1=(e,t)=>Math.min(t||e,e);function q1(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function sD(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,a=e._endPixel,o=1e-6;let l=e.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,a-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(i-1))/2,l+=i<t?u:-u,l<s-o||l>a+o)))return l}function aD(e,t){Ke(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function da(e){return e.drawTicks?e.tickLength:0}function Q1(e,t){if(!e.display)return 0;const n=Ot(e.font,t),r=Kt(e.padding);return(ct(e.text)?e.text.length:1)*n.lineHeight+r.height}function oD(e,t){return _i(e,{scale:t,type:"scale"})}function lD(e,t,n){return _i(e,{tick:n,index:t,type:"tick"})}function uD(e,t,n){let r=Xx(e);return(n&&t!=="right"||!n&&t==="right")&&(r=iD(r)),r}function cD(e,t,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=e,{chartArea:u,scales:c}=l;let d=0,p,m,g;const y=a-i,w=o-s;if(e.isHorizontal()){if(m=fn(r,s,o),Ve(n)){const _=Object.keys(n)[0],E=n[_];g=c[_].getPixelForValue(E)+y-t}else n==="center"?g=(u.bottom+u.top)/2+y-t:g=V1(e,n,t);p=o-s}else{if(Ve(n)){const _=Object.keys(n)[0],E=n[_];m=c[_].getPixelForValue(E)-w+t}else n==="center"?m=(u.left+u.right)/2-w+t:m=V1(e,n,t);g=fn(r,a,i),d=n==="left"?-_n:_n}return{titleX:m,titleY:g,maxWidth:p,rotation:d}}class qs extends ui{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=hn(t,Number.POSITIVE_INFINITY),n=hn(n,Number.NEGATIVE_INFINITY),r=hn(r,Number.POSITIVE_INFINITY),i=hn(i,Number.NEGATIVE_INFINITY),{min:hn(t,r),max:hn(n,i),minDefined:mt(t),maxDefined:mt(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,t),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:hn(n,hn(r,n)),max:hn(r,hn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tt(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=RO(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?q1(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=J4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tt(this.options.afterUpdate,[this])}beforeSetDimensions(){tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),tt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=tt(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=Y1(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,o,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),d=c.widest.width,p=c.highest.height,m=yr(this.chart.width-d,0,this.maxWidth);o=t.offset?this.maxWidth/r:m/(r-1),d+6>o&&(o=m/(r-(t.offset?.5:1)),l=this.maxHeight-da(t.grid)-n.padding-Q1(t.title,this.chart.options.font),u=Math.sqrt(d*d+p*p),a=Up(Math.min(Math.asin(yr((c.highest.height+6)/o,-1,1)),Math.asin(yr(l/u,-1,1))-Math.asin(yr(p/u,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=Q1(i,n.options.font);if(o?(t.width=this.maxWidth,t.height=da(s)+l):(t.height=this.maxHeight,t.width=da(s)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:p}=this._getLabelSizes(),m=r.padding*2,g=qr(this.labelRotation),y=Math.cos(g),w=Math.sin(g);if(o){const _=r.mirror?0:w*d.width+y*p.height;t.height=Math.min(this.maxHeight,t.height+_+m)}else{const _=r.mirror?0:y*d.width+w*p.height;t.width=Math.min(this.maxWidth,t.width+_+m)}this._calculatePadding(u,c,w,y)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;l?u?(p=i*t.width,m=r*n.height):(p=r*t.height,m=i*n.width):s==="start"?m=n.width:s==="end"?p=t.width:s!=="inner"&&(p=t.width/2,m=n.width/2),this.paddingLeft=Math.max((p-c+a)*this.width/(this.width-c),0),this.paddingRight=Math.max((m-d+a)*this.width/(this.width-d),0)}else{let c=n.height/2,d=t.height/2;s==="start"?(c=0,d=t.height):s==="end"&&(c=n.height,d=0),this.paddingTop=c+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)ut(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=q1(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(n/Y1(n,r));let u=0,c=0,d,p,m,g,y,w,_,E,T,P,O;for(d=0;d<n;d+=l){if(g=t[d].label,y=this._resolveTickFontOptions(d),i.font=w=y.string,_=s[w]=s[w]||{data:{},gc:[]},E=y.lineHeight,T=P=0,!ut(g)&&!ct(g))T=Fu(i,_.data,_.gc,T,g),P=E;else if(ct(g))for(p=0,m=g.length;p<m;++p)O=g[p],!ut(O)&&!ct(O)&&(T=Fu(i,_.data,_.gc,T,O),P+=E);a.push(T),o.push(P),u=Math.max(T,u),c=Math.max(P,c)}aD(s,n);const R=a.indexOf(u),H=o.indexOf(c),z=K=>({width:a[K]||0,height:o[K]||0});return{first:z(0),last:z(n-1),widest:z(R),highest:z(H),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return rO(this._alignToPixels?yi(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=lD(this.getContext(),t,r))}return this.$context||(this.$context=oD(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=qr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),p=da(s),m=[],g=o.setContext(this.getContext()),y=g.display?g.width:0,w=y/2,_=function(Le){return yi(r,Le,y)};let E,T,P,O,R,H,z,K,F,q,J,Ee;if(a==="top")E=_(this.bottom),H=this.bottom-p,K=E-w,q=_(t.top)+w,Ee=t.bottom;else if(a==="bottom")E=_(this.top),q=t.top,Ee=_(t.bottom)-w,H=E+w,K=this.top+p;else if(a==="left")E=_(this.right),R=this.right-p,z=E-w,F=_(t.left)+w,J=t.right;else if(a==="right")E=_(this.left),F=t.left,J=_(t.right)-w,R=E+w,z=this.left+p;else if(n==="x"){if(a==="center")E=_((t.top+t.bottom)/2+.5);else if(Ve(a)){const Le=Object.keys(a)[0],Oe=a[Le];E=_(this.chart.scales[Le].getPixelForValue(Oe))}q=t.top,Ee=t.bottom,H=E+w,K=H+p}else if(n==="y"){if(a==="center")E=_((t.left+t.right)/2);else if(Ve(a)){const Le=Object.keys(a)[0],Oe=a[Le];E=_(this.chart.scales[Le].getPixelForValue(Oe))}R=E-w,z=R-p,F=t.left,J=t.right}const we=je(i.ticks.maxTicksLimit,d),fe=Math.max(1,Math.ceil(d/we));for(T=0;T<d;T+=fe){const Le=this.getContext(T),Oe=s.setContext(Le),ie=o.setContext(Le),he=Oe.lineWidth,I=Oe.color,Ie=ie.dash||[],De=ie.dashOffset,D=Oe.tickWidth,Qe=Oe.tickColor,wt=Oe.tickBorderDash||[],Ue=Oe.tickBorderDashOffset;P=sD(this,T,l),P!==void 0&&(O=yi(r,P,he),u?R=z=F=J=O:H=K=q=Ee=O,m.push({tx1:R,ty1:H,tx2:z,ty2:K,x1:F,y1:q,x2:J,y2:Ee,width:he,color:I,borderDash:Ie,borderDashOffset:De,tickWidth:D,tickColor:Qe,tickBorderDash:wt,tickBorderDashOffset:Ue}))}return this._ticksLength=d,this._borderValue=E,m}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=s,p=da(r.grid),m=p+c,g=d?-c:m,y=-qr(this.labelRotation),w=[];let _,E,T,P,O,R,H,z,K,F,q,J,Ee="middle";if(i==="top")R=this.bottom-g,H=this._getXAxisLabelAlignment();else if(i==="bottom")R=this.top+g,H=this._getXAxisLabelAlignment();else if(i==="left"){const fe=this._getYAxisLabelAlignment(p);H=fe.textAlign,O=fe.x}else if(i==="right"){const fe=this._getYAxisLabelAlignment(p);H=fe.textAlign,O=fe.x}else if(n==="x"){if(i==="center")R=(t.top+t.bottom)/2+m;else if(Ve(i)){const fe=Object.keys(i)[0],Le=i[fe];R=this.chart.scales[fe].getPixelForValue(Le)+m}H=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")O=(t.left+t.right)/2-m;else if(Ve(i)){const fe=Object.keys(i)[0],Le=i[fe];O=this.chart.scales[fe].getPixelForValue(Le)}H=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?Ee="top":l==="end"&&(Ee="bottom"));const we=this._getLabelSizes();for(_=0,E=o.length;_<E;++_){T=o[_],P=T.label;const fe=s.setContext(this.getContext(_));z=this.getPixelForTick(_)+s.labelOffset,K=this._resolveTickFontOptions(_),F=K.lineHeight,q=ct(P)?P.length:1;const Le=q/2,Oe=fe.color,ie=fe.textStrokeColor,he=fe.textStrokeWidth;let I=H;a?(O=z,H==="inner"&&(_===E-1?I=this.options.reverse?"left":"right":_===0?I=this.options.reverse?"right":"left":I="center"),i==="top"?u==="near"||y!==0?J=-q*F+F/2:u==="center"?J=-we.highest.height/2-Le*F+F:J=-we.highest.height+F/2:u==="near"||y!==0?J=F/2:u==="center"?J=we.highest.height/2-Le*F:J=we.highest.height-q*F,d&&(J*=-1),y!==0&&!fe.showLabelBackdrop&&(O+=F/2*Math.sin(y))):(R=z,J=(1-q)*F/2);let Ie;if(fe.showLabelBackdrop){const De=Kt(fe.backdropPadding),D=we.heights[_],Qe=we.widths[_];let wt=J-De.top,Ue=0-De.left;switch(Ee){case"middle":wt-=D/2;break;case"bottom":wt-=D;break}switch(H){case"center":Ue-=Qe/2;break;case"right":Ue-=Qe;break;case"inner":_===E-1?Ue-=Qe:_>0&&(Ue-=Qe/2);break}Ie={left:Ue,top:wt,width:Qe+De.width,height:D+De.height,color:fe.backdropColor}}w.push({label:P,font:K,textOffset:J,options:{rotation:y,color:Oe,strokeColor:ie,strokeWidth:he,textAlign:I,textBaseline:Ee,translation:[O,R],backdrop:Ie}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-qr(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=t+s,l=a.widest.width;let u,c;return n==="left"?i?(c=this.right+s,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-o,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?i?(c=this.left+s,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+o,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const o=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const l=i[s];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,d,p;this.isHorizontal()?(u=yi(t,this.left,a)-a/2,c=yi(t,this.right,o)+o/2,d=p=l):(d=yi(t,this.top,a)-a/2,p=yi(t,this.bottom,o)+o/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,d),n.lineTo(c,p),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&vc(r,i);const s=this.getLabelItems(t);for(const a of s){const o=a.options,l=a.font,u=a.label,c=a.textOffset;Ms(r,u,0,c,l,o)}i&&Ac(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Ot(r.font),a=Kt(r.padding),o=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Ve(n)?(l+=a.bottom,ct(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:u,titleY:c,maxWidth:d,rotation:p}=cD(this,l,n,o);Ms(t,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:p,textAlign:uD(o,n,i),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=je(t.grid&&t.grid.z,-1),i=je(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==qs.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[r]===this.id&&(!t||o.type===t)&&i.push(o)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Ot(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class wl{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;hD(n)&&(r=this.register(n));const i=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,dD(t,a,r),this.override&&gt.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in gt[i]&&(delete gt[i][r],this.override&&delete ji[r])}}function dD(e,t,n){const r=ho(Object.create(null),[n?gt.get(n):{},gt.get(t),e.defaults]);gt.set(t,r),e.defaultRoutes&&fD(t,e.defaultRoutes),e.descriptors&&gt.describe(t,e.descriptors)}function fD(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");gt.route(s,i,l,o)})}function hD(e){return"id"in e&&"defaults"in e}class pD{constructor(){this.controllers=new wl(Wa,"datasets",!0),this.elements=new wl(ui,"elements"),this.plugins=new wl(Object,"plugins"),this.scales=new wl(qs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):Ke(i,a=>{const o=r||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,n,r){const i=zp(t);tt(r["before"+i],[],r),n[t](r),tt(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Zn=new pD;class mD{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),a=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,r,i){i=i||{};for(const s of t){const a=s.plugin,o=a[r],l=[n,i,s.options];if(tt(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){ut(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=je(r.options&&r.options.plugins,{}),s=gD(r);return i===!1&&!n?[]:bD(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function gD(e){const t={},n=[],r=Object.keys(Zn.plugins.items);for(let s=0;s<r.length;s++)n.push(Zn.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function _D(e,t){return!t&&e===!1?null:e===!0?{}:e}function bD(e,{plugins:t,localIds:n},r,i){const s=[],a=e.getContext();for(const o of t){const l=o.id,u=_D(r[l],i);u!==null&&s.push({plugin:o,options:yD(e.config,{plugin:o,local:n[l]},u,a)})}return s}function yD(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),a=e.getOptionScopes(r,s);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fh(e,t){const n=gt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function ED(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function xD(e,t){return e===t?"_index_":"_value_"}function $1(e){if(e==="x"||e==="y"||e==="r")return e}function TD(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function hh(e,...t){if($1(e))return e;for(const n of t){const r=n.axis||TD(n.position)||e.length>1&&$1(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function K1(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function wD(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return K1(e,"x",n[0])||K1(e,"y",n[0])}return{}}function vD(e,t){const n=ji[e.type]||{scales:{}},r=t.scales||{},i=fh(e.type,t),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!Ve(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=hh(a,o,wD(a,e),gt.scales[o.type]),u=xD(l,i),c=n.scales||{};s[a]=Ha(Object.create(null),[{axis:l},o,c[l],c[u]])}),e.data.datasets.forEach(a=>{const o=a.type||e.type,l=a.indexAxis||fh(o,t),c=(ji[o]||{}).scales||{};Object.keys(c).forEach(d=>{const p=ED(d,l),m=a[p+"AxisID"]||p;s[m]=s[m]||Object.create(null),Ha(s[m],[{axis:p},r[m],c[d]])})}),Object.keys(s).forEach(a=>{const o=s[a];Ha(o,[gt.scales[o.type],gt.scale])}),s}function bT(e){const t=e.options||(e.options={});t.plugins=je(t.plugins,{}),t.scales=vD(e,t)}function yT(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function AD(e){return e=e||{},e.data=yT(e.data),bT(e),e}const X1=new Map,ET=new Set;function vl(e,t){let n=X1.get(e);return n||(n=t(),X1.set(e,n),ET.add(n)),n}const fa=(e,t,n)=>{const r=po(t,n);r!==void 0&&e.add(r)};class CD{constructor(t){this._config=AD(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=yT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),bT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return vl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return vl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return vl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return vl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,a=this._cachedScopes(t,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(c=>{t&&(l.add(t),c.forEach(d=>fa(l,t,d))),c.forEach(d=>fa(l,i,d)),c.forEach(d=>fa(l,ji[s]||{},d)),c.forEach(d=>fa(l,gt,d)),c.forEach(d=>fa(l,ch,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),ET.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,ji[n]||{},gt.datasets[n]||{},{type:n},gt,ch]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=J1(this._resolverCache,t,i);let l=a;if(kD(a,n)){s.$shared=!1,r=li(r)?r():r;const u=this.createResolver(t,r,o);l=Fs(a,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(t,n,r=[""],i){const{resolver:s}=J1(this._resolverCache,t,r);return Ve(n)?Fs(s,n,void 0,i):s}}function J1(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Vp(t,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const SD=e=>Ve(e)&&Object.getOwnPropertyNames(e).some(t=>li(e[t]));function kD(e,t){const{isScriptable:n,isIndexable:r}=tT(e);for(const i of t){const s=n(i),a=r(i),o=(a||s)&&e[i];if(s&&(li(o)||SD(o))||a&&ct(o))return!0}return!1}var ID="4.4.6";const RD=["top","bottom","left","right","chartArea"];function Z1(e,t){return e==="top"||e==="bottom"||RD.indexOf(e)===-1&&t==="x"}function e_(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function t_(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),tt(n&&n.onComplete,[e],t)}function LD(e){const t=e.chart,n=t.options.animation;tt(n&&n.onProgress,[e],t)}function xT(e){return Qp()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const $l={},n_=e=>{const t=xT(e);return Object.values($l).filter(n=>n.canvas===t).pop()};function ND(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const a=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=a)}}}function PD(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}function Al(e,t,n){return e.options.clip?e[n]:t[n]}function OD(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Al(n,t,"left"),right:Al(n,t,"right"),top:Al(r,t,"top"),bottom:Al(r,t,"bottom")}:t}var Dr;let Sc=(Dr=class{static register(...t){Zn.add(...t),r_()}static unregister(...t){Zn.remove(...t),r_()}constructor(t,n){const r=this.config=new CD(n),i=xT(t),s=n_(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||X4(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,c=l&&l.width;if(this.id=GP(),this.ctx=o,this.canvas=l,this.width=c,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mD,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=lO(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],$l[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}cr.listen(this,"complete",t_),cr.listen(this,"progress",LD),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return ut(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Zn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():k1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return A1(this.canvas,this.ctx),this}stop(){return cr.stop(this),this}resize(t,n){cr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,t,n,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,k1(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),tt(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ke(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],l=hh(a,o),u=l==="r",c=l==="x";return{options:o,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Ke(s,a=>{const o=a.options,l=o.id,u=hh(l,o),c=je(o.type,a.dtype);(o.position===void 0||Z1(o.position,u)!==Z1(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===c)d=r[l];else{const p=Zn.getScale(c);d=new p({id:l,type:c,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(o,t)}),Ke(i,(a,o)=>{a||delete r[o]}),Ke(r,a=>{Qr.configure(this,a,a.options),Qr.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(e_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||fh(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Zn.getController(o),{datasetElementType:u,dataElementType:c}=gt.datasets[o];Object.assign(l,{dataElementType:Zn.getElement(c),datasetElementType:u&&Zn.getElement(u)}),a.controller=new l(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Ke(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),p=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(p),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||Ke(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(e_("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Ke(this.scales,t=>{Qr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!g1(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;ND(t,i,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!g1(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Qr.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ke(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,li(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cr.has(this)?this.attached&&!cr.running(this)&&cr.start(this):(this.draw(),t_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r=t._clip,i=!r.disabled,s=OD(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&vc(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),t.controller.draw(),i&&Ac(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Er(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=R4.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=_i(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,i);Ou(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),cr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),A1(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete $l[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),t[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Ke(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},i=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){Ke(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ke(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,a,o,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=t.length;o<l;++o){a=t[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Nu(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),a=s(n,t),o=r?t:s(t,n);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,a=n,o=this._getActiveElements(t,i,r,a),l=KP(t),u=PD(t,this._lastEvent,r,l);r&&(this._lastEvent=null,tt(s.onHover,[t,o,this],this),l&&tt(s.onClick,[t,o,this],this));const c=!Nu(o,i);return(c||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=u,c}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}},Se(Dr,"defaults",gt),Se(Dr,"instances",$l),Se(Dr,"overrides",ji),Se(Dr,"registry",Zn),Se(Dr,"version",ID),Se(Dr,"getChart",n_),Dr);function r_(){return Ke(Sc.instances,e=>e._plugins.invalidate())}function TT(e,t,n=t){e.lineCap=je(n.borderCapStyle,t.borderCapStyle),e.setLineDash(je(n.borderDash,t.borderDash)),e.lineDashOffset=je(n.borderDashOffset,t.borderDashOffset),e.lineJoin=je(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=je(n.borderWidth,t.borderWidth),e.strokeStyle=je(n.borderColor,t.borderColor)}function DD(e,t,n){e.lineTo(n.x,n.y)}function MD(e){return e.stepped?EO:e.tension||e.cubicInterpolationMode==="monotone"?xO:DD}function wT(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=t,l=Math.max(i,a),u=Math.min(s,o),c=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:t.loop,ilen:u<l&&!c?r+u-l:u-l}}function FD(e,t,n,r){const{points:i,options:s}=t,{count:a,start:o,loop:l,ilen:u}=wT(i,n,r),c=MD(s);let{move:d=!0,reverse:p}=r||{},m,g,y;for(m=0;m<=u;++m)g=i[(o+(p?u-m:m))%a],!g.skip&&(d?(e.moveTo(g.x,g.y),d=!1):c(e,y,g,p,s.stepped),y=g);return l&&(g=i[(o+(p?u:0))%a],c(e,y,g,p,s.stepped)),!!l}function BD(e,t,n,r){const i=t.points,{count:s,start:a,ilen:o}=wT(i,n,r),{move:l=!0,reverse:u}=r||{};let c=0,d=0,p,m,g,y,w,_;const E=P=>(a+(u?o-P:P))%s,T=()=>{y!==w&&(e.lineTo(c,w),e.lineTo(c,y),e.lineTo(c,_))};for(l&&(m=i[E(0)],e.moveTo(m.x,m.y)),p=0;p<=o;++p){if(m=i[E(p)],m.skip)continue;const P=m.x,O=m.y,R=P|0;R===g?(O<y?y=O:O>w&&(w=O),c=(d*c+P)/++d):(T(),e.lineTo(P,O),g=R,d=0,y=w=O),_=O}T()}function ph(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?BD:FD}function HD(e){return e.stepped?t4:e.tension||e.cubicInterpolationMode==="monotone"?n4:Ci}function zD(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),TT(e,t.options),e.stroke(i)}function UD(e,t,n,r){const{segments:i,options:s}=t,a=ph(t);for(const o of i)TT(e,s,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const jD=typeof Path2D=="function";function WD(e,t,n,r){jD&&!t.options.segment?zD(e,t,n,r):UD(e,t,n,r)}class $r extends ui{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;qO(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=l4(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,a=cT(this,{property:n,start:i,end:i});if(!a.length)return;const o=[],l=HD(r);let u,c;for(u=0,c=a.length;u<c;++u){const{start:d,end:p}=a[u],m=s[d],g=s[p];if(m===g){o.push(m);continue}const y=Math.abs((i-m[n])/(g[n]-m[n])),w=l(m,g,y,r.stepped);w[n]=t[n],o.push(w)}return o.length===1?o[0]:o}pathSegment(t,n,r){return ph(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=ph(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of i)a&=s(t,this,o,{start:n,end:n+r-1});return!!a}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),WD(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Se($r,"id","line"),Se($r,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Se($r,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Se($r,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function i_(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Kl extends ui{constructor(n){super();Se(this,"parsed");Se(this,"skip");Se(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(n-a,2)+Math.pow(r-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return i_(this,n,"x",r)}inYRange(n,r){return i_(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Er(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,dh(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Se(Kl,"id","point"),Se(Kl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Se(Kl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function GD(e,t,n){const r=e.segments,i=e.points,s=t.points,a=[];for(const o of r){let{start:l,end:u}=o;u=Xp(l,u,i);const c=mh(n,i[l],i[u],o.loop);if(!t.segments){a.push({source:o,target:c,start:i[l],end:i[u]});continue}const d=cT(t,c);for(const p of d){const m=mh(n,s[p.start],s[p.end],p.loop),g=uT(o,i,m);for(const y of g)a.push({source:y,target:p,start:{[n]:s_(c,m,"start",Math.max)},end:{[n]:s_(c,m,"end",Math.min)}})}}return a}function mh(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=mn(i),s=mn(s)),{property:e,start:i,end:s}}function VD(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:a,end:o})=>{o=Xp(a,o,i);const l=i[a],u=i[o];r!==null?(s.push({x:l.x,y:r}),s.push({x:u.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:u.y}))}),s}function Xp(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function s_(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function vT(e,t){let n=[],r=!1;return ct(e)?(r=!0,n=e):n=VD(e,t),n.length?new $r({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function a_(e){return e&&e.fill!==!1}function YD(e,t,n){let i=e[t].fill;const s=[t];let a;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!mt(i))return i;if(a=e[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function qD(e,t,n){const r=XD(e);if(Ve(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return mt(i)&&Math.floor(i)===i?QD(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function QD(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function $D(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Ve(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function KD(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Ve(e)?r=e.value:r=t.getBaseValue(),r}function XD(e){const t=e.options,n=t.fill;let r=je(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function JD(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,a=r.points,o=ZD(t,n);o.push(vT({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const u=s[l];for(let c=u.start;c<=u.end;c++)eM(i,a[c],o)}return new $r({points:i,options:{}})}function ZD(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function eM(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:a,last:o,point:l}=tM(s,t,"x");if(!(!l||a&&o)){if(a)r.unshift(l);else if(e.push(l),!o)break}}e.push(...r)}function tM(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,a=e.points;let o=!1,l=!1;for(let u=0;u<s.length;u++){const c=s[u],d=a[c.start][n],p=a[c.end][n];if(ms(i,d,p)){o=i===d,l=i===p;break}}return{first:o,last:l,point:r}}class AT{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:a}=this;return n=n||{start:0,end:En},t.arc(i,s,a,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function nM(e){const{chart:t,fill:n,line:r}=e;if(mt(n))return rM(t,n);if(n==="stack")return JD(e);if(n==="shape")return!0;const i=iM(e);return i instanceof AT?i:vT(i,r)}function rM(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function iM(e){return(e.scale||{}).getPointPositionForValue?aM(e):sM(e)}function sM(e){const{scale:t={},fill:n}=e,r=$D(n,t);if(mt(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function aM(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,a=KD(n,t,s),o=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,s);return new AT({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(t.getPointPositionForValue(l,a));return o}function jd(e,t,n){const r=nM(t),{line:i,scale:s,axis:a}=t,o=i.options,l=o.fill,u=o.backgroundColor,{above:c=u,below:d=u}=l||{};r&&i.points.length&&(vc(e,n),oM(e,{line:i,target:r,above:c,below:d,area:n,scale:s,axis:a}),Ac(e))}function oM(e,t){const{line:n,target:r,above:i,below:s,area:a,scale:o}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&s!==i&&(o_(e,r,a.top),l_(e,{line:n,target:r,color:i,scale:o,property:l}),e.restore(),e.save(),o_(e,r,a.bottom)),l_(e,{line:n,target:r,color:s,scale:o,property:l}),e.restore()}function o_(e,t,n){const{segments:r,points:i}=t;let s=!0,a=!1;e.beginPath();for(const o of r){const{start:l,end:u}=o,c=i[l],d=i[Xp(l,u,i)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),a=!!t.pathSegment(e,o,{move:a}),a?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function l_(e,t){const{line:n,target:r,property:i,color:s,scale:a}=t,o=GD(n,r,i);for(const{source:l,target:u,start:c,end:d}of o){const{style:{backgroundColor:p=s}={}}=l,m=r!==!0;e.save(),e.fillStyle=p,lM(e,a,m&&mh(i,c,d)),e.beginPath();const g=!!n.pathSegment(e,l);let y;if(m){g?e.closePath():u_(e,r,d,i);const w=!!r.pathSegment(e,u,{move:g,reverse:!0});y=g&&w,y||u_(e,r,c,i)}e.closePath(),e.fill(y?"evenodd":"nonzero"),e.restore()}}function lM(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:s,start:a,end:o}=n||{};s==="x"&&(e.beginPath(),e.rect(a,r,o-a,i-r),e.clip())}function u_(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var uM={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<r;++a)s=e.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof $r&&(l={visible:e.isDatasetVisible(a),index:a,fill:qD(o,a,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<r;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=YD(i,a,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),r&&o.fill&&jd(e.ctx,o,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;a_(s)&&jd(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!a_(r)||n.drawTime!=="beforeDatasetDraw"||jd(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const c_=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},cM=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class d_ extends ui{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=tt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=Ot(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=c_(r,s);let u,c;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(a,s,o,l)+10):(c=this.maxHeight,u=this._fitCols(a,i,o,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+o;let d=t;s.textAlign="left",s.textBaseline="middle";let p=-1,m=-c;return this.legendItems.forEach((g,y)=>{const w=r+n/2+s.measureText(g.text).width;(y===0||u[u.length-1]+w+2*o>a)&&(d+=c,u[u.length-(y>0?0:1)]=0,m+=c,p++),l[y]={left:0,top:m,row:p,width:w,height:i},u[u.length-1]+=w+o}),d}_fitCols(t,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=a-t;let d=o,p=0,m=0,g=0,y=0;return this.legendItems.forEach((w,_)=>{const{itemWidth:E,itemHeight:T}=dM(r,n,s,w,i);_>0&&m+T+2*o>c&&(d+=p+o,u.push({width:p,height:m}),g+=p+o,y++,p=m=0),l[_]={left:g,top:m,col:y,width:E,height:T},p=Math.max(p,E),m+=T+o}),d+=p,u.push({width:p,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=vs(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=fn(r,this.left+i,this.right-this.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,l=fn(r,this.left+i,this.right-this.lineWidths[o])),u.top+=this.top+t+i,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+i}else{let o=0,l=fn(r,this.top+t+i,this.bottom-this.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,l=fn(r,this.top+t+i,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;vc(t,this),this._draw(),Ac(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=t,o=gt.color,l=vs(t.rtl,this.left,this.width),u=Ot(a.font),{padding:c}=a,d=u.size,p=d/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:g,boxHeight:y,itemHeight:w}=c_(a,d),_=function(R,H,z){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;i.save();const K=je(z.lineWidth,1);if(i.fillStyle=je(z.fillStyle,o),i.lineCap=je(z.lineCap,"butt"),i.lineDashOffset=je(z.lineDashOffset,0),i.lineJoin=je(z.lineJoin,"miter"),i.lineWidth=K,i.strokeStyle=je(z.strokeStyle,o),i.setLineDash(je(z.lineDash,[])),a.usePointStyle){const F={radius:y*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:K},q=l.xPlus(R,g/2),J=H+p;Zx(i,F,q,J,a.pointStyleWidth&&g)}else{const F=H+Math.max((d-y)/2,0),q=l.leftForLtr(R,g),J=ws(z.borderRadius);i.beginPath(),Object.values(J).some(Ee=>Ee!==0)?Bu(i,{x:q,y:F,w:g,h:y,radius:J}):i.rect(q,F,g,y),i.fill(),K!==0&&i.stroke()}i.restore()},E=function(R,H,z){Ms(i,z.text,R,H+w/2,u,{strikethrough:z.hidden,textAlign:l.textAlign(z.textAlign)})},T=this.isHorizontal(),P=this._computeTitleHeight();T?m={x:fn(s,this.left+c,this.right-r[0]),y:this.top+c+P,line:0}:m={x:this.left+c,y:fn(s,this.top+P+c,this.bottom-n[0].height),line:0},aT(this.ctx,t.textDirection);const O=w+c;this.legendItems.forEach((R,H)=>{i.strokeStyle=R.fontColor,i.fillStyle=R.fontColor;const z=i.measureText(R.text).width,K=l.textAlign(R.textAlign||(R.textAlign=a.textAlign)),F=g+p+z;let q=m.x,J=m.y;l.setWidth(this.width),T?H>0&&q+F+c>this.right&&(J=m.y+=O,m.line++,q=m.x=fn(s,this.left+c,this.right-r[m.line])):H>0&&J+O>this.bottom&&(q=m.x=q+n[m.line].width+c,m.line++,J=m.y=fn(s,this.top+P+c,this.bottom-n[m.line].height));const Ee=l.x(q);if(_(Ee,J,R),q=uO(K,q+g+p,T?q+F:this.right,t.rtl),E(l.x(q),J,R),T)m.x+=F+c;else if(typeof R.text!="string"){const we=u.lineHeight;m.y+=CT(R,we)+c}else m.y+=O}),oT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Ot(n.font),i=Kt(n.padding);if(!n.display)return;const s=vs(t.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,u=i.top+l;let c,d=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),c=this.top+u,d=fn(t.align,d,this.right-p);else{const g=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);c=u+fn(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const m=fn(o,d,d+p);a.textAlign=s.textAlign(Xx(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Ms(a,n.text,m,c,r)}_computeTitleHeight(){const t=this.options.title,n=Ot(t.font),r=Kt(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(ms(t,this.left,this.right)&&ms(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ms(t,i.left,i.left+i.width)&&ms(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!pM(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=cM(i,r);i&&!s&&tt(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&tt(n.onHover,[t,r,this],this)}else r&&tt(n.onClick,[t,r,this],this)}}function dM(e,t,n,r,i){const s=fM(r,e,t,n),a=hM(i,r,t.lineHeight);return{itemWidth:s,itemHeight:a}}function fM(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),t+n.size/2+r.measureText(i).width}function hM(e,t,n){let r=e;return typeof t.text!="string"&&(r=CT(t,n)),r}function CT(e,t){const n=e.text?e.text.length:0;return t*n}function pM(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var mM={id:"legend",_element:d_,start(e,t,n){const r=e.legend=new d_({ctx:e.ctx,options:n,chart:e});Qr.configure(e,r,n),Qr.addBox(e,r)},stop(e){Qr.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Qr.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=Kt(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};const xa={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=e.length;s<a;++s){const l=e[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=lh(t,u);c<i&&(i=c,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Kn(e,t){return t&&(ct(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function dr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function gM(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:e,label:a,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function f_(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:a,boxHeight:o}=t,l=Ot(t.bodyFont),u=Ot(t.titleFont),c=Ot(t.footerFont),d=s.length,p=i.length,m=r.length,g=Kt(t.padding);let y=g.height,w=0,_=r.reduce((P,O)=>P+O.before.length+O.lines.length+O.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,d&&(y+=d*u.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),_){const P=t.displayColors?Math.max(o,l.lineHeight):l.lineHeight;y+=m*P+(_-m)*l.lineHeight+(_-1)*t.bodySpacing}p&&(y+=t.footerMarginTop+p*c.lineHeight+(p-1)*t.footerSpacing);let E=0;const T=function(P){w=Math.max(w,n.measureText(P).width+E)};return n.save(),n.font=u.string,Ke(e.title,T),n.font=l.string,Ke(e.beforeBody.concat(e.afterBody),T),E=t.displayColors?a+2+t.boxPadding:0,Ke(r,P=>{Ke(P.before,T),Ke(P.lines,T),Ke(P.after,T)}),E=0,n.font=c.string,Ke(e.footer,T),n.restore(),w+=g.width,{width:w,height:y}}function _M(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function bM(e,t,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(e==="left"&&i+s+a>t.width||e==="right"&&i-s-a<0)return!0}function yM(e,t,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=e;let u="center";return r==="center"?u=i<=(o+l)/2?"left":"right":i<=s/2?u="left":i>=a-s/2&&(u="right"),bM(u,e,t,n)&&(u="center"),u}function h_(e,t,n){const r=n.yAlign||t.yAlign||_M(e,n);return{xAlign:n.xAlign||t.xAlign||yM(e,t,n,r),yAlign:r}}function EM(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function xM(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function p_(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,u=i+s,{topLeft:c,topRight:d,bottomLeft:p,bottomRight:m}=ws(a);let g=EM(t,o);const y=xM(t,l,u);return l==="center"?o==="left"?g+=u:o==="right"&&(g-=u):o==="left"?g-=Math.max(c,p)+i:o==="right"&&(g+=Math.max(d,m)+i),{x:yr(g,0,r.width-t.width),y:yr(y,0,r.height-t.height)}}function Cl(e,t,n){const r=Kt(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function m_(e){return Kn([],dr(e))}function TM(e,t,n){return _i(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function g_(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const ST={beforeTitle:ur,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:ur,beforeBody:ur,beforeLabel:ur,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ut(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ur,afterBody:ur,beforeFooter:ur,footer:ur,afterFooter:ur};function en(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?ST[t].call(n,r):i}class gh extends ui{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new dT(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=TM(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=en(r,"beforeTitle",this,t),s=en(r,"title",this,t),a=en(r,"afterTitle",this,t);let o=[];return o=Kn(o,dr(i)),o=Kn(o,dr(s)),o=Kn(o,dr(a)),o}getBeforeBody(t,n){return m_(en(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return Ke(t,s=>{const a={before:[],lines:[],after:[]},o=g_(r,s);Kn(a.before,dr(en(o,"beforeLabel",this,s))),Kn(a.lines,en(o,"label",this,s)),Kn(a.after,dr(en(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(t,n){return m_(en(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=en(r,"beforeFooter",this,t),s=en(r,"footer",this,t),a=en(r,"afterFooter",this,t);let o=[];return o=Kn(o,dr(i)),o=Kn(o,dr(s)),o=Kn(o,dr(a)),o}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],l,u;for(l=0,u=n.length;l<u;++l)o.push(gM(this.chart,n[l]));return t.filter&&(o=o.filter((c,d,p)=>t.filter(c,d,p,r))),t.itemSort&&(o=o.sort((c,d)=>t.itemSort(c,d,r))),Ke(o,c=>{const d=g_(t.callbacks,c);i.push(en(d,"labelColor",this,c)),s.push(en(d,"labelPointStyle",this,c)),a.push(en(d,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=xa[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=f_(this,r),u=Object.assign({},o,l),c=h_(this.chart,r,u),d=p_(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=ws(o),{x:p,y:m}=t,{width:g,height:y}=n;let w,_,E,T,P,O;return s==="center"?(P=m+y/2,i==="left"?(w=p,_=w-a,T=P+a,O=P-a):(w=p+g,_=w+a,T=P-a,O=P+a),E=w):(i==="left"?_=p+Math.max(l,c)+a:i==="right"?_=p+g-Math.max(u,d)-a:_=this.caretX,s==="top"?(T=m,P=T-a,w=_-a,E=_+a):(T=m+y,P=T+a,w=_+a,E=_-a),O=T),{x1:w,x2:_,x3:E,y1:T,y2:P,y3:O}}drawTitle(t,n,r){const i=this.title,s=i.length;let a,o,l;if(s){const u=vs(r.rtl,this.x,this.width);for(t.x=Cl(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=Ot(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(i[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,l+1===s&&(t.y+=r.titleMarginBottom-o)}}_drawColorBox(t,n,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,c=Ot(s.bodyFont),d=Cl(this,"left",s),p=i.x(d),m=l<c.lineHeight?(c.lineHeight-l)/2:0,g=n.y+m;if(s.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},w=i.leftForLtr(p,u)+u/2,_=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,dh(t,y,w,_),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,dh(t,y,w,_)}else{t.lineWidth=Ve(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const y=i.leftForLtr(p,u),w=i.leftForLtr(i.xPlus(p,1),u-2),_=ws(a.borderRadius);Object.values(_).some(E=>E!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Bu(t,{x:y,y:g,w:u,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Bu(t,{x:w,y:g+1,w:u-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(y,g,u,l),t.strokeRect(y,g,u,l),t.fillStyle=a.backgroundColor,t.fillRect(w,g+1,u-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:c}=r,d=Ot(r.bodyFont);let p=d.lineHeight,m=0;const g=vs(r.rtl,this.x,this.width),y=function(z){n.fillText(z,g.x(t.x+m),t.y+p/2),t.y+=p+s},w=g.textAlign(a);let _,E,T,P,O,R,H;for(n.textAlign=a,n.textBaseline="middle",n.font=d.string,t.x=Cl(this,w,r),n.fillStyle=r.bodyColor,Ke(this.beforeBody,y),m=o&&w!=="right"?a==="center"?u/2+c:u+2+c:0,P=0,R=i.length;P<R;++P){for(_=i[P],E=this.labelTextColors[P],n.fillStyle=E,Ke(_.before,y),T=_.lines,o&&T.length&&(this._drawColorBox(n,t,P,g,r),p=Math.max(d.lineHeight,l)),O=0,H=T.length;O<H;++O)y(T[O]),p=d.lineHeight;Ke(_.after,y)}m=0,p=d.lineHeight,Ke(this.afterBody,y),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let a,o;if(s){const l=vs(r.rtl,this.x,this.width);for(t.x=Cl(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=Ot(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(i[o],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=t,{width:u,height:c}=r,{topLeft:d,topRight:p,bottomLeft:m,bottomRight:g}=ws(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+d,l),a==="top"&&this.drawCaret(t,n,r,i),n.lineTo(o+u-p,l),n.quadraticCurveTo(o+u,l,o+u,l+p),a==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(o+u,l+c-g),n.quadraticCurveTo(o+u,l+c,o+u-g,l+c),a==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(o+m,l+c),n.quadraticCurveTo(o,l+c,o,l+c-m),a==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(o,l+d),n.quadraticCurveTo(o,l,o+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=xa[t.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=f_(this,t),l=Object.assign({},a,this._size),u=h_(n,t,l),c=p_(t,l,u,n);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Kt(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),aT(t,n.textDirection),s.y+=a.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),oT(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),s=!Nu(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(t,s,n,r),o=this._positionChanged(a,t),l=n||!Nu(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,a=xa[s.position].call(this,t,n);return a!==!1&&(r!==a.x||i!==a.y)}}Se(gh,"positioners",xa);var wM={id:"tooltip",_element:gh,positioners:xa,afterInit(e,t,n){n&&(e.tooltip=new gh({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ST},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function vM(e,t){const n=[],{bounds:i,step:s,min:a,max:o,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:p}=e,m=s||1,g=c-1,{min:y,max:w}=t,_=!ut(a),E=!ut(o),T=!ut(u),P=(w-y)/(d+1);let O=b1((w-y)/g/m)*m,R,H,z,K;if(O<1e-14&&!_&&!E)return[{value:y},{value:w}];K=Math.ceil(w/O)-Math.floor(y/O),K>g&&(O=b1(K*O/g/m)*m),ut(l)||(R=Math.pow(10,l),O=Math.ceil(O*R)/R),i==="ticks"?(H=Math.floor(y/O)*O,z=Math.ceil(w/O)*O):(H=y,z=w),_&&E&&s&&eO((o-a)/s,O/1e3)?(K=Math.round(Math.min((o-a)/O,c)),O=(o-a)/K,H=a,z=o):T?(H=_?a:H,z=E?o:z,K=u-1,O=(z-H)/K):(K=(z-H)/O,za(K,Math.round(K),O/1e3)?K=Math.round(K):K=Math.ceil(K));const F=Math.max(y1(O),y1(H));R=Math.pow(10,ut(l)?F:l),H=Math.round(H*R)/R,z=Math.round(z*R)/R;let q=0;for(_&&(p&&H!==a?(n.push({value:a}),H<a&&q++,za(Math.round((H+q*O)*R)/R,a,__(a,P,e))&&q++):H<a&&q++);q<K;++q){const J=Math.round((H+q*O)*R)/R;if(E&&J>o)break;n.push({value:J})}return E&&p&&z!==o?n.length&&za(n[n.length-1].value,o,__(o,P,e))?n[n.length-1].value=o:n.push({value:o}):(!E||z===o)&&n.push({value:z}),n}function __(e,t,{horizontal:n,minRotation:r}){const i=qr(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*t*(""+e).length;return Math.min(t/s,a)}class Uu extends qs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ut(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=n?i:l,o=l=>s=r?s:l;if(t){const l=Ds(i),u=Ds(s);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),t||a(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=vM(i,s);return t.bounds==="ticks"&&Yx(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Gp(t,this.chart.options.locale,this.options.ticks.format)}}class b_ extends Uu{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=mt(t)?t:0,this.max=mt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=qr(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Se(b_,"id","linear"),Se(b_,"defaults",{ticks:{callback:wc.formatters.numeric}});const go=e=>Math.floor(Yr(e)),xi=(e,t)=>Math.pow(10,go(e)+t);function y_(e){return e/Math.pow(10,go(e))===1}function E_(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function AM(e,t){const n=t-e;let r=go(n);for(;E_(e,t,r)>10;)r++;for(;E_(e,t,r)<10;)r--;return Math.min(r,go(e))}function CM(e,{min:t,max:n}){t=hn(e.min,t);const r=[],i=go(t);let s=AM(t,n),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),l=i>s?Math.pow(10,i):0,u=Math.round((t-l)*a)/a,c=Math.floor((t-l)/o/10)*o*10;let d=Math.floor((u-c)/Math.pow(10,s)),p=hn(e.min,Math.round((l+c+d*Math.pow(10,s))*a)/a);for(;p<n;)r.push({value:p,major:y_(p),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,a=s>=0?1:a),p=Math.round((l+c+d*Math.pow(10,s))*a)/a;const m=hn(e.max,p);return r.push({value:m,major:y_(m),significand:d}),r}class x_ extends qs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const r=Uu.prototype.parse.apply(this,[t,n]);if(r===0){this._zero=!0;return}return mt(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=mt(t)?Math.max(0,t):null,this.max=mt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!mt(this._userMin)&&(this.min=t===xi(this.min,0)?xi(this.min,-1):xi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=o=>r=t?r:o,a=o=>i=n?i:o;r===i&&(r<=0?(s(1),a(10)):(s(xi(r,-1)),a(xi(i,1)))),r<=0&&s(xi(i,-1)),i<=0&&a(xi(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},r=CM(n,this);return t.bounds==="ticks"&&Yx(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":Gp(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Yr(t),this._valueRange=Yr(this.max)-Yr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Yr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Se(x_,"id","logarithmic"),Se(x_,"defaults",{ticks:{callback:wc.formatters.logarithmic,major:{enabled:!0}}});function _h(e){const t=e.ticks;if(t.display&&e.display){const n=Kt(t.backdropPadding);return je(t.font&&t.font.size,gt.font.size)+n.height}return 0}function SM(e,t,n){return n=ct(n)?n:[n],{w:yO(e,t.string,n),h:n.length*t.lineHeight}}function T_(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function kM(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,a=e.options.pointLabels,o=a.centerPointLabels?Nt/s:0;for(let l=0;l<s;l++){const u=a.setContext(e.getPointLabelContext(l));i[l]=u.padding;const c=e.getPointPosition(l,e.drawingArea+i[l],o),d=Ot(u.font),p=SM(e.ctx,d,e._pointLabels[l]);r[l]=p;const m=mn(e.getIndexAngle(l)+o),g=Math.round(Up(m)),y=T_(g,c.x,p.w,0,180),w=T_(g,c.y,p.h,90,270);IM(n,t,m,y,w)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=NM(e,r,i)}function IM(e,t,n,r,i){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/a,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}function RM(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=n,l=e.getPointPosition(t,r+i+a,s),u=Math.round(Up(mn(l.angle+_n))),c=DM(l.y,o.h,u),d=PM(u),p=OM(l.x,o.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:p,top:c,right:p+o.w,bottom:c+o.h}}function LM(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(Er({x:n,y:r},t)||Er({x:n,y:s},t)||Er({x:i,y:r},t)||Er({x:i,y:s},t))}function NM(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:_h(s)/2,additionalAngle:a?Nt/i:0};let u;for(let c=0;c<i;c++){l.padding=n[c],l.size=t[c];const d=RM(e,c,l);r.push(d),o==="auto"&&(d.visible=LM(d,u),d.visible&&(u=d))}return r}function PM(e){return e===0||e===180?"center":e<180?"left":"right"}function OM(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function DM(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function MM(e,t,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:o}=t;if(!ut(o)){const l=ws(t.borderRadius),u=Kt(t.backdropPadding);e.fillStyle=o;const c=r-u.left,d=i-u.top,p=s-r+u.width,m=a-i+u.height;Object.values(l).some(g=>g!==0)?(e.beginPath(),Bu(e,{x:c,y:d,w:p,h:m,radius:l}),e.fill()):e.fillRect(c,d,p,m)}}function FM(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const a=r.setContext(e.getPointLabelContext(i));MM(n,a,s);const o=Ot(a.font),{x:l,y:u,textAlign:c}=s;Ms(n,e._pointLabels[i],l,u+o.lineHeight/2,o,{color:a.color,textAlign:c,textBaseline:"middle"})}}function kT(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,En);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let a=1;a<r;a++)s=e.getPointPosition(a,t),i.lineTo(s.x,s.y)}}function BM(e,t,n,r,i){const s=e.ctx,a=t.circular,{color:o,lineWidth:l}=t;!a&&!r||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),kT(e,n,a,r),s.closePath(),s.stroke(),s.restore())}function HM(e,t,n){return _i(e,{label:n,index:t,type:"pointLabel"})}class Ta extends Uu{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Kt(_h(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=mt(t)&&!isNaN(t)?t:0,this.max=mt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_h(this.options))}generateTickLabels(t){Uu.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=tt(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?kM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=En/(this._pointLabels.length||1),r=this.options.startAngle||0;return mn(t*n+qr(r))}getDistanceFromCenterForValue(t){if(ut(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(ut(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return HM(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-_n+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),kT(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,a=this._pointLabels.length;let o,l,u;if(n.pointLabels.display&&FM(this,a),i.display&&this.ticks.forEach((c,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);const p=this.getContext(d),m=i.setContext(p),g=s.setContext(p);BM(this,m,l,a,g)}}),r.display){for(t.save(),o=a-1;o>=0;o--){const c=r.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:p}=c;!p||!d||(t.lineWidth=p,t.strokeStyle=d,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(o,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=r.setContext(this.getContext(l)),c=Ot(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=c.string,a=t.measureText(o.label).width,t.fillStyle=u.backdropColor;const d=Kt(u.backdropPadding);t.fillRect(-a/2-d.left,-s-c.size/2-d.top,a+d.width,c.size+d.height)}Ms(t,o.label,0,-s,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}}Se(Ta,"id","radialLinear"),Se(Ta,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:wc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Se(Ta,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Se(Ta,"descriptors",{angleLines:{_fallback:"grid"}});const kc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rn=Object.keys(kc);function w_(e,t){return e-t}function v_(e,t){if(ut(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let a=t;return typeof r=="function"&&(a=r(a)),mt(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(Mu(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function A_(e,t,n,r){const i=rn.length;for(let s=rn.indexOf(e);s<i-1;++s){const a=kc[rn[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(o*a.size))<=r)return rn[s]}return rn[i-1]}function zM(e,t,n,r,i){for(let s=rn.length-1;s>=rn.indexOf(n);s--){const a=rn[s];if(kc[a].common&&e._adapter.diff(i,r,a)>=t-1)return a}return rn[n?rn.indexOf(n):0]}function UM(e){for(let t=rn.indexOf(e)+1,n=rn.length;t<n;++t)if(kc[rn[t]].common)return rn[t]}function C_(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=jp(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function jM(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),a=t[t.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}function S_(e,t,n){const r=[],i={},s=t.length;let a,o;for(a=0;a<s;++a)o=t[a],i[o]=a,r.push({value:o,major:!1});return s===0||!n?r:jM(e,r,i,n)}class ju extends qs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new A4._date(t.adapters.date);i.init(n),Ha(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:v_(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!o&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=mt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=mt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=sO(i,s,a);return this._unit=n.unit||(r.autoSkip?A_(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):zM(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:UM(this._unit),this.initOffsets(i),t.reverse&&o.reverse(),S_(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=yr(n,0,a),r=yr(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||A_(s.minUnit,n,r,this._getLabelCapacity(n)),o=je(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=Mu(l)||l===!0,c={};let d=n,p,m;if(u&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,u?"day":a),t.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(p=d,m=0;p<r;p=+t.add(p,o,a),m++)C_(c,p,g);return(p===r||i.bounds==="ticks"||m===1)&&C_(c,p,g),Object.keys(c).sort(w_).map(y=>+y)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(t,a)}_tickFormatFunction(t,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return tt(a,[t,n,r],this);const o=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&o[l],d=u&&o[u],p=r[n],m=u&&d&&p&&p.major;return this._adapter.format(t,i||(m?d:c))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=qr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,S_(this,[t],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(v_(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return oO(t.sort(w_))}}Se(ju,"id","time"),Se(ju,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Sl(e,t,n){let r=0,i=e.length-1,s,a,o,l;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=uh(e,"pos",t)),{pos:s,time:o}=e[r],{pos:a,time:l}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=uh(e,"time",t)),{time:s,pos:o}=e[r],{time:a,pos:l}=e[i]);const u=a-s;return u?o+(l-o)*(t-s)/u:o}class k_ extends ju{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Sl(n,this.min),this._tableRange=Sl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let a,o,l,u,c;for(a=0,o=t.length;a<o;++a)u=t[a],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)c=i[a+1],l=i[a-1],u=i[a],Math.round((c+l)/2)!==u&&s.push({time:u,pos:a/(o-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Sl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Sl(this._table,r*this._tableRange+this._minPos,!0)}}Se(k_,"id","timeseries"),Se(k_,"defaults",ju.defaults);const IT="label";function I_(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function WM(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function RT(e,t){e.labels=t}function LT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:IT;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function GM(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IT;const n={labels:[],datasets:[]};return RT(n,e.labels),LT(n,e.datasets,t),n}function VM(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:u=[],fallbackContent:c,updateMode:d,...p}=e,m=G.useRef(null),g=G.useRef(),y=()=>{m.current&&(g.current=new Sc(m.current,{type:a,data:GM(o,s),options:l&&{...l},plugins:u}),I_(t,g.current))},w=()=>{I_(t,null),g.current&&(g.current.destroy(),g.current=null)};return G.useEffect(()=>{!i&&g.current&&l&&WM(g.current,l)},[i,l]),G.useEffect(()=>{!i&&g.current&&RT(g.current.config.data,o.labels)},[i,o.labels]),G.useEffect(()=>{!i&&g.current&&o.datasets&&LT(g.current.config.data,o.datasets,s)},[i,o.datasets]),G.useEffect(()=>{g.current&&(i?(w(),setTimeout(y)):g.current.update(d))},[i,l,o.labels,o.datasets,d]),G.useEffect(()=>{g.current&&(w(),setTimeout(y))},[a]),G.useEffect(()=>(y(),()=>w()),[]),gr.createElement("canvas",Object.assign({ref:m,role:"img",height:n,width:r},p),c)}const YM=G.forwardRef(VM);function qM(e,t){return Sc.register(t),G.forwardRef((n,r)=>gr.createElement(YM,Object.assign({},n,{ref:r,type:e})))}const QM=qM("radar",ql);Sc.register(Ta,Kl,$r,uM,wM,mM);const NT=({summaryData:e,labels:t,metrics:n})=>{const r=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(75, 99, 132, 1)","rgba(54, 162, 135, 1)","rgba(255, 206, 186, 1)","rgba(75, 192, 92, 1)"],i={scales:{r:{angleLines:{display:!0},grid:{circular:!1},ticks:{display:!1}}},plugins:{legend:{position:"right"},tooltip:{callbacks:{label:function(a){const o=a.dataset.label,l=e.find(u=>u.model===o)[n[a.dataIndex]+"_original"];return`${o}: ${l}`}}}},maintainAspectRatio:!0,aspectRatio:1.5},s={labels:t,datasets:e.map((a,o)=>({label:a.model,data:n.map(l=>parseFloat(a[l])),backgroundColor:"rgba(0, 0, 0, 0)",borderColor:r[o%r.length],borderWidth:2}))};return C.jsx(QM,{data:s,options:i})};NT.propTypes={summaryData:Ji.arrayOf(Ji.object).isRequired,labels:Ji.arrayOf(Ji.string).isRequired,metrics:Ji.arrayOf(Ji.string).isRequired};const $M=({dataset:e,summaryData:t})=>{const n=e.metrics.map(o=>o.Header),r=e.metrics.map(o=>o.accessor),i={},s={};r.forEach(o=>{const l=t.map(p=>p[o]),u=l.reduce((p,m)=>p+m,0)/l.length,c=l.reduce((p,m)=>p+Math.pow(m-u,2),0)/l.length,d=Math.sqrt(c);i[o]=u,s[o]=d});const a=t.map(o=>({model:o.model,...r.reduce((l,u)=>(l[u]=(o[u]-i[u])/s[u],l[`${u}_original`]=o[u],l),{})}));return C.jsx("div",{children:t?C.jsx(NT,{summaryData:a,labels:n,metrics:r}):C.jsx("p",{children:"No appropriate dataset found for drawing the chart."})})},KM={name:"WikiEval",task:"LFQA",what:"passages from Wikipedia, questions from search queries",when:"2022",language:"English",description:"WikiEval is a dataset for correlation analysis of different metrics proposed in Ragas. This dataset was generated from 50 pages from Wikipedia with edits post-2022.",source:"https://huggingface.co/datasets/explodinggradients/WikiEval",paper:"Ragas: Automated evaluation of retrieval augmented generation",paper_url:"https://arxiv.org/abs/2309.15217",citation:"Es et al., 2022",metrics:[{Header:"BERT Score",accessor:"answer_bert_score"},{Header:"Distinct",accessor:"answer_distinct"},{Header:"Rouge-L",accessor:"answer_rouge_correctness"},{Header:"Answer Length",accessor:"answer_length"}]},XM={name:"ASQA",task:"LFQA",what:"passages from Wikipedia, questions from search queries",when:"2022",language:"English",description:"ASQA is the first long-form question answering dataset that focuses on ambiguous factoid questions. Different from previous long-form answers datasets, each question is annotated with both long-form answers and extractive question-answer pairs, which should be answerable by the generated passage. ",source:"https://huggingface.co/datasets/din0s/asqa",paper:"ASQA: Factoid Questions Meet Long-Form Answers",paper_url:"https://arxiv.org/abs/2204.06092",citation:"Stelmakh et al., 2022",metrics:[{Header:"Rouge-L",accessor:"answer_rouge_correctness"},{Header:"Exact Match",accessor:"answer_exact_match"},{Header:"Disambig F1",accessor:"answer_disambig_f1"},{Header:"BERT Score",accessor:"answer_bert_score"},{Header:"GPT4 Accuracy",accessor:"gpt4_accuracy"},{Header:"GPT4 Informativeness",accessor:"gpt4_informativeness"},{Header:"Relevance Score",accessor:"answer_relevance_score"},{Header:"Answer Length",accessor:"response_length"}]},JM={name:"ANTIQUE",task:"LFQA",what:"passages from Wikipedia, questions from search queries",when:"2020",language:"English",description:"ANTIQUE is a non-factoid quesiton answering dataset based on the questions and answers of Yahoo! Webscope L6.",source:"https://huggingface.co/datasets/irds/antique",paper:"ANTIQUE: A Non-Factoid Question Answering Benchmark",paper_url:"https://arxiv.org/abs/1905.08957",citation:"Hashemi et al., 2020",metrics:[{Header:"BERT Score",accessor:"BERT Score"},{Header:"Rouge-L",accessor:"Rouge-L"},{Header:"Answer Relevance",accessor:"Answer Relevance Score"},{Header:"GPT-4 Score",accessor:"GPT-4 Score"},{Header:"GPT4 Accuracy",accessor:"GPT4 Accuracy"},{Header:"GPT4 Informativeness",accessor:"GPT4 Informativeness"},{Header:"Answer Length",accessor:"answer_length"}]},PT=[KM,XM,JM];function R_(){const e=Vi(),{datasetName:t}=_p(),{dataset:n}=e.state||{},[r,i]=G.useState(n),[s,a]=G.useState(null);return G.useEffect(()=>{if(!n&&t){const o=PT.find(l=>l.name.toLowerCase()===t.toLowerCase());i(o)}},[n,t]),G.useEffect(()=>{r&&fetch(`/summary/${r.name.toLowerCase()}.json`).then(o=>o.json()).then(o=>{a(o)}).catch(o=>{console.error("Error loading JSON:",o)})},[r]),C.jsx("div",{children:!r||!s?C.jsx("p",{children:""}):C.jsxs("div",{className:"m-4",children:[C.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 my-2",children:r.name}),C.jsx("div",{children:r.description}),C.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 my-1",children:"Benchmark Summary"}),C.jsx("div",{className:"my-4"}),C.jsx("div",{className:"overflow-x-auto w-5/6 mx-auto",children:C.jsx("div",{className:"w-full h-full border border-gray-300",children:C.jsx(Bx,{jsonData:s,headers:[{Header:"Model",accessor:"model"},...r.metrics],enableExpand:!1})})}),C.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 my-1",children:"Radar Chart"}),C.jsx("div",{className:"w-2/3 mx-auto ",children:C.jsx($M,{dataset:r,summaryData:s})}),r.paper?C.jsxs("div",{children:[C.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 my-1",children:"Citation"}),C.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 p-4 rounded-lg text-gray-800 dark:text-gray-100",children:r.paper?C.jsxs("span",{children:["For more details, please refer to the paper:"," ",C.jsx("a",{href:r.paper_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:r.paper})]}):"No citation available for this dataset."})]}):null]})})}function ZM({dataset:e}){const t=gp();return C.jsx("div",{className:"flex flex-col justify-between col-span-full sm:col-span-6 xl:col-span-4 bg-white dark:bg-gray-800 shadow-sm rounded-md cursor-pointer hover:shadow-lg hover:bg-gray-50 border border-gray-300",onClick:()=>t(`/dataset/${e.name}`),children:C.jsxs("div",{className:"px-5 pt-5",children:[C.jsxs("header",{className:"flex items-end mb-2",children:[C.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:e.name}),C.jsxs("a",{href:e.paper_url,className:"text-xs text-blue-600 dark:text-blue-400 ml-1 mb-1",target:"_blank",rel:"noopener noreferrer",children:["(",e.citation,")"]}),C.jsx("span",{className:"ml-auto bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 text-xs font-medium mr-2 px-2.5 py-0.5 rounded",children:e.when})]}),C.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[C.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 text-xs font-medium mr-2 px-2.5 py-0.5 rounded",children:e.task}),C.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 text-xs font-medium mr-2 px-2.5 py-0.5 rounded",children:e.language})]}),C.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:e.description})]})})}function e5(){return C.jsxs("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:[C.jsx("h1",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Datasets"}),C.jsx("main",{className:"grow",children:C.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-10xl mx-auto",children:C.jsx("div",{className:"col-span-12 xxl:col-span-9 grid grid-cols-12 gap-6",children:PT.map(e=>C.jsx(ZM,{dataset:e},e.name))})})})]})}function kl({metric:e}){const t=gp();return C.jsx("div",{className:"flex flex-col justify-center col-span-full sm:col-span-6 xl:col-span-4 bg-white dark:bg-gray-800 shadow-sm rounded px-5 pt-5 pb-5 cursor-pointer hover:shadow-lg hover:bg-gray-50 border border-gray-300",onClick:()=>t(`/metric/${e.category}/${e.name}`),children:C.jsx("h2",{className:"text-2xl text-center",children:e.name})})}function t5(){const[e,t]=G.useState([]),[n,r]=G.useState([]),[i,s]=G.useState([]),[a,o]=G.useState([]),[l,u]=G.useState("table");G.useEffect(()=>{mp().then(d=>{t(d.answer_correctness),r(d.answer_groundedness),s(d.answer_informativeness),o(d.context_adequacy)}).catch(d=>{console.error("Error loading metrics:",d)})},[]);const c=(d,p,m)=>C.jsx(C.Fragment,{children:C.jsxs("div",{className:"col-span-full xl:col-span-6 bg-white dark:bg-gray-800 shadow-sm rounded-xl",children:[C.jsx("header",{className:"px-5 py-4 border-b border-gray-100 dark:border-gray-700/60",children:C.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:d})}),C.jsxs("table",{className:"table-auto w-full mb-6",children:[C.jsx("thead",{className:"text-xs font-semibold uppercase text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-700 dark:bg-opacity-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"w-1/6 p-2 pl-4 text-left",children:"Metric Name"}),C.jsx("th",{className:"p-2 text-left",children:"Descriptions"})]})}),C.jsx("tbody",{className:"text-sm divide-y divide-gray-100 dark:divide-gray-700/60",children:p.map(g=>C.jsxs("tr",{children:[C.jsx("td",{className:"p-2 pl-4",children:C.jsx(fE,{to:`/metric/${m}/${g.name}`,className:"text-blue-600 hover:underline",children:g.name})}),C.jsx("td",{className:"p-2 whitespace-normal",children:g.description})]},g.name))})]})]})});return C.jsxs("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:[C.jsxs("div",{className:"flex justify-between items-center p-4",children:[C.jsx("h1",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Metrics"}),C.jsx("button",{className:"px-4 py-2 bg-white text-gray-400 rounded flex items-center justify-center",onClick:()=>u(l==="cards"?"table":"cards"),children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-6 h-6",children:C.jsx("path",{d:"M12 1a1 1 0 1 0-2 0v2a3 3 0 0 0 3 3h2a1 1 0 1 0 0-2h-2a1 1 0 0 1-1-1V1ZM1 10a1 1 0 1 0 0 2h2a1 1 0 0 1 1 1v2a1 1 0 1 0 2 0v-2a3 3 0 0 0-3-3H1ZM5 0a1 1 0 0 1 1 1v2a3 3 0 0 1-3 3H1a1 1 0 0 1 0-2h2a1 1 0 0 0 1-1V1a1 1 0 0 1 1-1ZM12 13a1 1 0 0 1 1-1h2a1 1 0 1 0 0-2h-2a3 3 0 0 0-3 3v2a1 1 0 1 0 2 0v-2Z"})})})]}),C.jsx("main",{className:"grow",children:C.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-10xl mx-auto",children:l==="cards"?C.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[C.jsx("h2",{className:"col-span-full text-2xl font-extrabold text-gray-900 dark:text-gray-200",children:"Answer Correctness Metrics"}),e.map(d=>C.jsx("div",{className:"col-span-4",children:C.jsx(kl,{metric:{...d,category:"answer_correctness"}})},d.name)),C.jsx("h2",{className:"col-span-full text-2xl font-extrabold text-gray-900 dark:text-gray-200",children:"Answer Groundedness Metrics"}),n.map(d=>C.jsx("div",{className:"col-span-4",children:C.jsx(kl,{metric:{...d,category:"answer_groundedness"}})},d.name)),C.jsx("h2",{className:"col-span-full text-2xl font-extrabold text-gray-900 dark:text-gray-200",children:"Answer Informativeness Metrics"}),i.map(d=>C.jsx("div",{className:"col-span-4",children:C.jsx(kl,{metric:{...d,category:"answer_informativeness"}})},d.name)),C.jsx("h2",{className:"col-span-full text-2xl font-extrabold text-gray-900 dark:text-gray-200",children:"Context Adequacy Metrics"}),a.map(d=>C.jsx("div",{className:"col-span-4",children:C.jsx(kl,{metric:{...d,category:"context_adequacy"}})},d.name))]}):C.jsxs(C.Fragment,{children:[c("Answer Correctness Metrics",e,"answer_correctness"),c("Answer Groundedness Metrics",n,"answer_groundedness"),c("Answer Informativeness Metrics",i,"answer_informativeness"),c("Context Adequacy Metrics",a,"context_adequacy")]})})})]})}function L_(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function n5(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function r5(e,t,n){const i=mc((n||{}).ignore||[]),s=i5(t);let a=-1;for(;++a<s.length;)$E(e,"text",o);function o(u,c){let d=-1,p;for(;++d<c.length;){const m=c[d],g=p?p.children:void 0;if(i(m,g?g.indexOf(m):void 0,p))return;p=m}if(p)return l(u,c)}function l(u,c){const d=c[c.length-1],p=s[a][0],m=s[a][1];let g=0;const w=d.children.indexOf(u);let _=!1,E=[];p.lastIndex=0;let T=p.exec(u.value);for(;T;){const P=T.index,O={index:T.index,input:T.input,stack:[...c,u]};let R=m(...T,O);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?p.lastIndex=P+1:(g!==P&&E.push({type:"text",value:u.value.slice(g,P)}),Array.isArray(R)?E.push(...R):R&&E.push(R),g=P+T[0].length,_=!0),!p.global)break;T=p.exec(u.value)}return _?(g<u.value.length&&E.push({type:"text",value:u.value.slice(g)}),d.children.splice(w,1,...E)):E=[u],w+E.length}}function i5(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([s5(i[0]),a5(i[1])])}return t}function s5(e){return typeof e=="string"?new RegExp(n5(e),"g"):e}function a5(e){return typeof e=="function"?e:function(){return e}}const Wd="phrasing",Gd=["autolink","link","image","label"];function o5(){return{transforms:[p5],enter:{literalAutolink:u5,literalAutolinkEmail:Vd,literalAutolinkHttp:Vd,literalAutolinkWww:Vd},exit:{literalAutolink:h5,literalAutolinkEmail:f5,literalAutolinkHttp:c5,literalAutolinkWww:d5}}}function l5(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Wd,notInConstruct:Gd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Wd,notInConstruct:Gd},{character:":",before:"[ps]",after:"\\/",inConstruct:Wd,notInConstruct:Gd}]}}function u5(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Vd(e){this.config.enter.autolinkProtocol.call(this,e)}function c5(e){this.config.exit.autolinkProtocol.call(this,e)}function d5(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function f5(e){this.config.exit.autolinkEmail.call(this,e)}function h5(e){this.exit(e)}function p5(e){r5(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,m5],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),g5]],{ignore:["link","linkReference"]})}function m5(e,t,n,r,i){let s="";if(!OT(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!_5(n)))return!1;const a=b5(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function g5(e,t,n,r){return!OT(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function _5(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function b5(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=L_(e,"(");let s=L_(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function OT(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ui(n)||fc(n))&&(!t||n!==47)}DT.peek=I5;function y5(){return{enter:{gfmFootnoteDefinition:x5,gfmFootnoteDefinitionLabelString:T5,gfmFootnoteCall:A5,gfmFootnoteCallString:C5},exit:{gfmFootnoteDefinition:v5,gfmFootnoteDefinitionLabelString:w5,gfmFootnoteCall:k5,gfmFootnoteCallString:S5}}}function E5(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:R5,footnoteReference:DT}}}function x5(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function T5(){this.buffer()}function w5(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=Gn(this.sliceSerialize(e)).toLowerCase()}function v5(e){this.exit(e)}function A5(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function C5(){this.buffer()}function S5(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=Gn(this.sliceSerialize(e)).toLowerCase()}function k5(e){this.exit(e)}function DT(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{...i.current(),before:s,after:"]"})),o(),a(),s+=i.move("]"),s}function I5(){return"["}function R5(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteDefinition"),o=n.enter("label");return s+=i.move(n.safe(n.associationId(e),{...i.current(),before:s,after:"]"})),o(),s+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),s+=i.move(n.indentLines(n.containerFlow(e,i.current()),L5)),a(),s}function L5(e,t,n){return t===0?e:(n?"":"    ")+e}const N5=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];MT.peek=F5;function P5(){return{canContainEols:["delete"],enter:{strikethrough:D5},exit:{strikethrough:M5}}}function O5(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:N5}],handlers:{delete:MT}}}function D5(e){this.enter({type:"delete",children:[]},e)}function M5(e){this.exit(e)}function MT(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function F5(){return"~"}function B5(e){return e.length}function H5(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||B5,s=[],a=[],o=[],l=[];let u=0,c=-1;for(;++c<e.length;){const y=[],w=[];let _=-1;for(e[c].length>u&&(u=e[c].length);++_<e[c].length;){const E=z5(e[c][_]);if(n.alignDelimiters!==!1){const T=i(E);w[_]=T,(l[_]===void 0||T>l[_])&&(l[_]=T)}y.push(E)}a[c]=y,o[c]=w}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=N_(r[d]);else{const y=N_(r);for(;++d<u;)s[d]=y}d=-1;const p=[],m=[];for(;++d<u;){const y=s[d];let w="",_="";y===99?(w=":",_=":"):y===108?w=":":y===114&&(_=":");let E=n.alignDelimiters===!1?1:Math.max(1,l[d]-w.length-_.length);const T=w+"-".repeat(E)+_;n.alignDelimiters!==!1&&(E=w.length+E+_.length,E>l[d]&&(l[d]=E),m[d]=E),p[d]=T}a.splice(1,0,p),o.splice(1,0,m),c=-1;const g=[];for(;++c<a.length;){const y=a[c],w=o[c];d=-1;const _=[];for(;++d<u;){const E=y[d]||"";let T="",P="";if(n.alignDelimiters!==!1){const O=l[d]-(w[d]||0),R=s[d];R===114?T=" ".repeat(O):R===99?O%2?(T=" ".repeat(O/2+.5),P=" ".repeat(O/2-.5)):(T=" ".repeat(O/2),P=T):P=" ".repeat(O)}n.delimiterStart!==!1&&!d&&_.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||d)&&_.push(" "),n.alignDelimiters!==!1&&_.push(T),_.push(E),n.alignDelimiters!==!1&&_.push(P),n.padding!==!1&&_.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&_.push("|")}g.push(n.delimiterEnd===!1?_.join("").replace(/ +$/,""):_.join(""))}return g.join(`
`)}function z5(e){return e==null?"":String(e)}function N_(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function U5(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),j5);return i(),a}function j5(e,t,n){return">"+(n?"":" ")+e}function W5(e,t){return P_(e,t.inConstruct,!0)&&!P_(e,t.notInConstruct,!1)}function P_(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function O_(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&W5(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function G5(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function V5(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Y5(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function q5(e,t,n,r){const i=Y5(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(V5(e,n)){const d=n.enter("codeIndented"),p=n.indentLines(s,Q5);return d(),p}const o=n.createTracker(r),l=i.repeat(Math.max(G5(s,i)+1,3)),u=n.enter("codeFenced");let c=o.move(l);if(e.lang){const d=n.enter(`codeFencedLang${a}`);c+=o.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...o.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${a}`);c+=o.move(" "),c+=o.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...o.current()})),d()}return c+=o.move(`
`),s&&(c+=o.move(s+`
`)),c+=o.move(l),u(),c}function Q5(e,t,n){return(n?"":"    ")+e}function Jp(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function $5(e,t,n,r){const i=Jp(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),a(),u}function K5(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function _o(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Wu(e,t,n){const r=Ns(e),i=Ns(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}FT.peek=X5;function FT(e,t,n,r){const i=K5(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let l=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),c=Wu(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=_o(u)+l.slice(1));const d=l.charCodeAt(l.length-1),p=Wu(r.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+_o(d));const m=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:c.outside},o+l+m}function X5(e,t,n){return n.options.emphasis||"*"}function J5(e,t){let n=!1;return _c(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Kf}),!!((!e.depth||e.depth<3)&&wp(e)&&(t.options.setext||n))}function Z5(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(J5(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),p=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),c(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=_o(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),o(),u}BT.peek=e8;function BT(e){return e.value||""}function e8(){return"<"}HT.peek=t8;function HT(e,t,n,r){const i=Jp(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),a(),u}function t8(){return"!"}zT.peek=n8;function zT(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=c,s(),i==="full"||!u||u!==d?l+=o.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function n8(){return"!"}UT.peek=r8;function UT(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function r8(){return"`"}function jT(e,t){const n=wp(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}WT.peek=i8;function WT(e,t,n,r){const i=Jp(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,l;if(jT(e,n)){const c=n.stack;n.stack=[],o=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(e,{before:d,after:">",...a.current()})),d+=a.move(">"),o(),n.stack=c,d}o=n.enter("link"),l=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function i8(e,t,n){return jT(e,n)?"<":"["}GT.peek=s8;function GT(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const c=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=c,s(),i==="full"||!u||u!==d?l+=o.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function s8(){return"["}function Zp(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function a8(e){const t=Zp(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function o8(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function VT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function l8(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?o8(n):Zp(n);const o=e.ordered?a==="."?")":".":a8(n);let l=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),VT(n)===a&&c){let d=-1;for(;++d<e.children.length;){const p=e.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function u8(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function c8(e,t,n,r){const i=u8(n);let s=n.bulletCurrent||Zp(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),c);return l(),u;function c(d,p,m){return p?(m?"":" ".repeat(a))+d:(m?s:s+" ".repeat(a-s.length))+d}}function d8(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const f8=mc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function h8(e,t,n,r){return(e.children.some(function(a){return f8(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function p8(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}YT.peek=m8;function YT(e,t,n,r){const i=p8(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let l=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),c=Wu(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=_o(u)+l.slice(1));const d=l.charCodeAt(l.length-1),p=Wu(r.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+_o(d));const m=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:c.outside},o+l+m}function m8(e,t,n){return n.options.strong||"*"}function g8(e,t,n,r){return n.safe(e.value,r)}function _8(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function b8(e,t,n){const r=(VT(n)+(n.options.ruleSpaces?" ":"")).repeat(_8(n));return n.options.ruleSpaces?r.slice(0,-1):r}const qT={blockquote:U5,break:O_,code:q5,definition:$5,emphasis:FT,hardBreak:O_,heading:Z5,html:BT,image:HT,imageReference:zT,inlineCode:UT,link:WT,linkReference:GT,list:l8,listItem:c8,paragraph:d8,root:h8,strong:YT,text:g8,thematicBreak:b8};function y8(){return{enter:{table:E8,tableData:D_,tableHeader:D_,tableRow:T8},exit:{codeText:w8,table:x8,tableData:Yd,tableHeader:Yd,tableRow:Yd}}}function E8(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function x8(e){this.exit(e),this.data.inTable=void 0}function T8(e){this.enter({type:"tableRow",children:[]},e)}function Yd(e){this.exit(e)}function D_(e){this.enter({type:"tableCell",children:[]},e)}function w8(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,v8));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function v8(e,t){return t==="|"?t:e}function A8(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:a,tableCell:l,tableRow:o}};function a(m,g,y,w){return u(c(m,y,w),m.align)}function o(m,g,y,w){const _=d(m,y,w),E=u([_]);return E.slice(0,E.indexOf(`
`))}function l(m,g,y,w){const _=y.enter("tableCell"),E=y.enter("phrasing"),T=y.containerPhrasing(m,{...w,before:s,after:s});return E(),_(),T}function u(m,g){return H5(m,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function c(m,g,y){const w=m.children;let _=-1;const E=[],T=g.enter("table");for(;++_<w.length;)E[_]=d(w[_],g,y);return T(),E}function d(m,g,y){const w=m.children;let _=-1;const E=[],T=g.enter("tableRow");for(;++_<w.length;)E[_]=l(w[_],m,g,y);return T(),E}function p(m,g,y){let w=qT.inlineCode(m,g,y);return y.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function C8(){return{exit:{taskListCheckValueChecked:M_,taskListCheckValueUnchecked:M_,paragraph:k8}}}function S8(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:I8}}}function M_(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function k8(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function I8(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let l=qT.listItem(e,t,n,{...r,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+a}}function R8(){return[o5(),y5(),P5(),y8(),C8()]}function L8(e){return{extensions:[l5(),E5(),O5(),A8(e),S8()]}}const N8={tokenize:B8,partial:!0},QT={tokenize:H8,partial:!0},$T={tokenize:z8,partial:!0},KT={tokenize:U8,partial:!0},P8={tokenize:j8,partial:!0},XT={name:"wwwAutolink",tokenize:M8,previous:ZT},JT={name:"protocolAutolink",tokenize:F8,previous:e2},Sr={name:"emailAutolink",tokenize:D8,previous:t2},sr={};function O8(){return{text:sr}}let Ti=48;for(;Ti<123;)sr[Ti]=Sr,Ti++,Ti===58?Ti=65:Ti===91&&(Ti=97);sr[43]=Sr;sr[45]=Sr;sr[46]=Sr;sr[95]=Sr;sr[72]=[Sr,JT];sr[104]=[Sr,JT];sr[87]=[Sr,XT];sr[119]=[Sr,XT];function D8(e,t,n){const r=this;let i,s;return a;function a(d){return!bh(d)||!t2.call(r,r.previous)||em(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(d))}function o(d){return bh(d)?(e.consume(d),o):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(P8,c,u)(d):d===45||d===95||Ut(d)?(s=!0,e.consume(d),l):c(d)}function u(d){return e.consume(d),i=!0,l}function c(d){return s&&i&&Qt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function M8(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!ZT.call(r,r.previous)||em(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(N8,e.attempt(QT,e.attempt($T,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function F8(e,t,n){const r=this;let i="",s=!1;return a;function a(d){return(d===72||d===104)&&e2.call(r,r.previous)&&!em(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),o):n(d)}function o(d){if(Qt(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),o;if(d===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||Cu(d)||Ze(d)||Ui(d)||fc(d)?n(d):e.attempt(QT,e.attempt($T,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function B8(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function H8(e,t,n){let r,i,s;return a;function a(u){return u===46||u===95?e.check(KT,l,o)(u):u===null||Ze(u)||Ui(u)||u!==45&&fc(u)?l(u):(s=!0,e.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function l(u){return i||r||!s?n(u):t(u)}}function z8(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(KT,t,s)(a):a===null||Ze(a)||Ui(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function U8(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Ze(o)||Ui(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Ze(o)||Ui(o)?t(o):r(o)}function s(o){return Qt(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):Qt(o)?(e.consume(o),a):n(o)}}function j8(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Ut(s)?n(s):t(s)}}function ZT(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ze(e)}function e2(e){return!Qt(e)}function t2(e){return!(e===47||bh(e))}function bh(e){return e===43||e===45||e===46||e===95||Ut(e)}function em(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const W8={tokenize:X8,partial:!0};function G8(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Q8,continuation:{tokenize:$8},exit:K8}},text:{91:{name:"gfmFootnoteCall",tokenize:q8},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:V8,resolveTo:Y8}}}}function V8(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return n(l);const u=Gn(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Y8(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function q8(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!a||d===null||d===91||Ze(d))return n(d);if(d===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(Gn(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Ze(d)||(a=!0),s++,e.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(e.consume(d),s++,u):u(d)}}function Q8(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(g)}function c(g){if(a>999||g===93&&!o||g===null||g===91||Ze(g))return n(g);if(g===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return s=Gn(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Ze(g)||(o=!0),a++,e.consume(g),g===92?d:c}function d(g){return g===91||g===92||g===93?(e.consume(g),a++,c):c(g)}function p(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(s)||i.push(s),Ge(e,m,"gfmFootnoteDefinitionWhitespace")):n(g)}function m(g){return t(g)}}function $8(e,t,n){return e.check(So,t,e.attempt(W8,t,n))}function K8(e){e.exit("gfmFootnoteDefinition")}function X8(e,t,n){const r=this;return Ge(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function J8(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},d={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},p=[["enter",c,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",d,o]],m=o.parser.constructs.insideSpan.null;m&&yn(p,p.length,0,hc(m,a.slice(u+1,l),o)),yn(p,p.length,0,[["exit",d,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",c,o]]),yn(a,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const u=this.previous,c=this.events;let d=0;return p;function p(g){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(g):(a.enter("strikethroughSequenceTemporary"),m(g))}function m(g){const y=Ns(u);if(g===126)return d>1?l(g):(a.consume(g),d++,m);if(d<2&&!n)return l(g);const w=a.exit("strikethroughSequenceTemporary"),_=Ns(g);return w._open=!_||_===2&&!!y,w._close=!y||y===2&&!!_,o(g)}}}class Z8{constructor(){this.map=[]}add(t,n,r){eF(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let i=r.pop();for(;i;)t.push(...i),i=r.pop();this.map.length=0}}function eF(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function tF(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function nF(){return{flow:{null:{name:"table",tokenize:rF,resolveAll:iF}}}}function rF(e,t,n){const r=this;let i=0,s=0,a;return o;function o(F){let q=r.events.length-1;for(;q>-1;){const we=r.events[q][1].type;if(we==="lineEnding"||we==="linePrefix")q--;else break}const J=q>-1?r.events[q][1].type:null,Ee=J==="tableHead"||J==="tableRow"?R:l;return Ee===R&&r.parser.lazy[r.now().line]?n(F):Ee(F)}function l(F){return e.enter("tableHead"),e.enter("tableRow"),u(F)}function u(F){return F===124||(a=!0,s+=1),c(F)}function c(F){return F===null?n(F):ye(F)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),m):n(F):Be(F)?Ge(e,c,"whitespace")(F):(s+=1,a&&(a=!1,i+=1),F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),a=!0,c):(e.enter("data"),d(F)))}function d(F){return F===null||F===124||Ze(F)?(e.exit("data"),c(F)):(e.consume(F),F===92?p:d)}function p(F){return F===92||F===124?(e.consume(F),d):d(F)}function m(F){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(F):(e.enter("tableDelimiterRow"),a=!1,Be(F)?Ge(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):g(F))}function g(F){return F===45||F===58?w(F):F===124?(a=!0,e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),y):O(F)}function y(F){return Be(F)?Ge(e,w,"whitespace")(F):w(F)}function w(F){return F===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),_):F===45?(s+=1,_(F)):F===null||ye(F)?P(F):O(F)}function _(F){return F===45?(e.enter("tableDelimiterFiller"),E(F)):O(F)}function E(F){return F===45?(e.consume(F),E):F===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),T):(e.exit("tableDelimiterFiller"),T(F))}function T(F){return Be(F)?Ge(e,P,"whitespace")(F):P(F)}function P(F){return F===124?g(F):F===null||ye(F)?!a||i!==s?O(F):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(F)):O(F)}function O(F){return n(F)}function R(F){return e.enter("tableRow"),H(F)}function H(F){return F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),H):F===null||ye(F)?(e.exit("tableRow"),t(F)):Be(F)?Ge(e,H,"whitespace")(F):(e.enter("data"),z(F))}function z(F){return F===null||F===124||Ze(F)?(e.exit("data"),H(F)):(e.consume(F),F===92?K:z)}function K(F){return F===92||F===124?(e.consume(F),z):z(F)}}function iF(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,u,c,d;const p=new Z8;for(;++n<e.length;){const m=e[n],g=m[1];m[0]==="enter"?g.type==="tableHead"?(o=!1,l!==0&&(F_(p,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,c={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",c,t]])),i=g.type==="tableDelimiterRow"?2:c?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],d=Il(p,t,s,i,void 0,d),s=[0,0,0,0]),a[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],d=Il(p,t,s,i,void 0,d)),s=a,a=[s[1],n,0,0])):g.type==="tableHead"?(o=!0,l=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=n,s[1]!==0?(a[0]=a[1],d=Il(p,t,s,i,n,d)):a[1]!==0&&(d=Il(p,t,a,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&F_(p,t,l,u,c),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=tF(t.events,n))}return e}function Il(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},es(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=es(t.events,n[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=es(t.events,n[2]),c=es(t.events,n[3]),d={type:o,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,y=n[3]-n[2]-1;e.add(g,y,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},es(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function F_(e,t,n,r,i){const s=[],a=es(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function es(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const sF={name:"tasklistCheck",tokenize:oF};function aF(){return{text:{91:sF}}}function oF(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Ze(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return ye(l)?t(l):Be(l)?e.check({tokenize:lF},t,n)(l):n(l)}}function lF(e,t,n){return Ge(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function uF(e){return RE([O8(),G8(),J8(e),nF(),aF()])}const cF={};function dF(e){const t=this,n=e||cF,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(uF(n)),s.push(R8()),a.push(L8(n))}function fF(){const{category:e,metricName:t}=_p(),n=IC(),[r,i]=G.useState(null);if(G.useEffect(()=>{if(n){const a=n.find(o=>o.name===t&&o.category===e);i(a)}},[n,e,t]),!r)return C.jsx("p",{children:"No metric data available."});const s=`
# [${r.name}](${r.path})

${r.description}

## KwArgs

### Args
${r.kwargs.Args?Object.entries(r.kwargs.Args).map(([a,o])=>`- **${a}**: ${o}`).join(`
`):""}

### Optional Args
${r.kwargs.OptionalArgs?Object.entries(r.kwargs.OptionalArgs).map(([a,o])=>`- **${a}**: ${o}`).join(`
`):""}

## Functions
${r.kwargs.Functions?Object.entries(r.kwargs.Functions).map(([a,o])=>`- **${a}**: ${o}`).join(`
`):""}

## Examples
\`\`\`plaintext
${r.kwargs.Examples}
\`\`\`

## Citation
\`\`\`plaintext
${r.citation}
\`\`\`
`;return C.jsx("div",{children:C.jsx(Io,{className:"markdown-body",remarkPlugins:[dF],children:s})})}const hF=`# rag-bench\r
\r
RAG-Bench is to summarize all datasets used to evaluate RAG, from document retrieval to question answering. For each dataset, we try our best to accumulate all SOTA results from latest publications, and summarize them into a coherent table. We hope this would help researchers to keep up with the latest deveopments on each benchmark.\r
\r
\r
## Benchmarks\r
\r
\r
Here are datasets with the corresponding metrics.\r
\r
<table>\r
 <tr>\r
  <td rowspan=1 align="center"><b>Task</b></td>\r
  <td colspan=1 align="center"><b>Dataset</b></td>\r
  <td rowspan=1 align="center"><b>Pubyear</b></td>\r
  <td rowspan=1 align="center"><b>Documents</b></td>\r
  <td rowspan=1 align="center"><b>Questions</b></td>\r
  <td rowspan=1 align="center"><b>Answers</b></td>\r
  <td colspan=1 align="center"><b>Metrics</b></td>\r
 </tr>\r
 <tr>\r
  <td rowspan=8 align="center">Factoid QA</td>\r
  <td align="center"><a href="./benchmarks/NQ.md">Natural Questions (NQ)</a></td>\r
  <td align="center">2019</td>\r
  <td align="center"><sub>Wikipedia</sub></td>\r
  <td align="center"><sub>323,045 questions with each an wikipedia page</sub></td>\r
  <td align="center"><sub>paragraph/span</sub></td>\r
  <td align="center">Rouge, EM</td>\r
 </tr>\r
 <tr>\r
  <td align="center"><a href="./benchmarks/TriviaQA.md">TriviaQA</a></td>\r
  <td align="center">2017</td>\r
  <td align="center"><sub>662,659 evidence documents</sub></td>\r
  <td align="center"><sub>95,956 QA pairs</sub></td>\r
  <td align="center"><sub>text string (92.85% wikipedia titles)</sub></td>\r
  <td align="center">EM</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="./benchmarks/NarrativeQA.md">NarrativeQA (NQA)</a></td>\r
  <td align="center">2017</td>\r
  <td align="center"><sub>1,572 stories (books,movie scripts) \\& human generated summaries</sub></td>\r
  <td align="center"><sub>46,765 human generated questions</sub></td>\r
  <td align="center"><sub>human written, short, averaging 4.73 tokens</sub></td>\r
   <td align="center">Rouge</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="https://huggingface.co/datasets/rajpurkar/squad">SQuAD</a></td>\r
  <td align="center">2016</td>\r
  <td align="center"><sub>536 articles</sub></td>\r
  <td align="center"><sub>107,785 question-answer pairs</sub></td>\r
  <td align="center"><sub>spans</sub></td>\r
   <td align="center">EM</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="./benchmarks/PopQA.md">PopQA</a></td>\r
  <td align="center">2023</td>\r
  <td align="center"><sub>wikipedia</sub></td>\r
  <td align="center"><sub>14k questions</sub></td>\r
  <td align="center"><sub>long-tail entites</sub></td>\r
   <td align="center">EM</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="https://huggingface.co/datasets/Rowan/ hellaswag">HellaSwag</a></td>\r
  <td align="center">2019</td>\r
  <td align="center"><sub>25k Activity contexts and 45k WikiHow contexts</sub></td>\r
  <td align="center"><sub>70k examples</sub></td>\r
  <td align="center"><sub>classification</sub></td>\r
   <td align="center">Accuracy</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="https://allenai. org/data/strategyqa">StrategyQA</a></td>\r
  <td align="center">2021</td>\r
  <td align="center"><sub>wikipedia (1,799 Wikipedia terms)</sub></td>\r
  <td align="center"><sub>2,780 strategy questions</sub></td>\r
  <td align="center"><sub>its decomposition, evidence paragraphs</sub></td>\r
   <td align="center">EM</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="https://allenai. org/data/fermi">Fermi</a></td>\r
  <td align="center">2021</td>\r
  <td align="center"><sub>-</sub></td>\r
  <td align="center"><sub>928 FPs (a question Q, an answer A, supporting facts F, an explanation P)</sub></td>\r
  <td align="center"><sub>spans</sub></td>\r
   <td align="center">Accuracy</td>\r
 </tr>\r
\r
 <tr>\r
  <td rowspan=2 align="center">Multi-Hop QA</td>\r
  <td align="center"><a href="./benchmarks/2WikiMHQA.md">2WikiMultihopQA</a></td>\r
  <td align="center">2020</td>\r
  <td align="center"><sub>articles from wikipedia and wikidata</sub></td>\r
  <td align="center"><sub>192,606 questions each with a context</sub></td>\r
  <td align="center"><sub>textual spans, sentence-level supporting facts, evidence (tiples)</sub></td>\r
  <td align="center">F1</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="./benchmarks/HotpotQA">HotpotQA</a></td>\r
  <td align="center">2018</td>\r
  <td align="center"><sub>The whole wikipedia dump</sub></td>\r
  <td align="center"><sub>112,779 question-answer pairs</sub></td>\r
  <td align="center"><sub>text span</sub></td>\r
   <td align="center">F1</td>\r
 </tr>\r
 <tr>\r
  <td rowspan=4 align="center">Long-Form QA</td>\r
  <td align="center"><a href="https://huggingface.co/datasets/eli5">ELI5</a></td>\r
  <td align="center">2019</td>\r
  <td align="center"><sub>250 billion pages from Common Crawl</sub></td>\r
  <td align="center"><sub>272K questions</sub></td>\r
  <td align="center"><sub>multiple sentences</sub></td>\r
  <td align="center">Citation Recall, Citation Precision, Claim Recall</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="https://huggingface.co/datasets/explodinggradients/WikiEval">WikiEval</a></td>\r
  <td align="center">2023</td>\r
  <td align="center"><sub>50 wikipedia pages</sub></td>\r
  <td align="center"><sub>50 questions</sub></td>\r
  <td align="center"><sub>text spans (sentences)</sub></td>\r
   <td align="center">Ragas</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="./benchmarks/ASQA.md">ASQA</a></td>\r
  <td align="center">2022</td>\r
  <td align="center"><sub>wikipedia</sub></td>\r
  <td align="center"><sub>6,316 ambiguous factoid questions</sub></td>\r
  <td align="center"><sub>long-form answers</sub></td>\r
   <td align="center">disambig F1, RougeL, EM</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="https://huggingface.co/datasets/THUDM/webglm-qa">WebGLM-QA</a></td>\r
  <td align="center">2023</td>\r
  <td align="center"><sub>-</sub></td>\r
  <td align="center"><sub>44979 samples</sub></td>\r
  <td align="center"><sub>sentences</sub></td>\r
   <td align="center">RougeL, Citation Recall, Citation Precision</td>\r
 </tr>\r
 <tr>\r
   <td rowspan=4 align="center">Multiple Choice QA</td>\r
   <td align="center"><a href="https://huggingface.co/datasets/truthful_qa">TruthfulQA</a></td>\r
  <td align="center">2021</td>\r
  <td align="center"><sub>-</sub></td>\r
  <td align="center"><sub>817 questions that span 38 categories</sub></td>\r
  <td align="center"><sub>sentence answer/multiple choice</sub></td>\r
   <td align="center">EM</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="https://huggingface.co/datasets/cais/mmlu">MMLU</a></td>\r
   <td align="center">2021</td>\r
   <td align="center"><sub>-</sub></td>\r
   <td align="center"><sub>15,908 multiple-choice questions</sub></td>\r
   <td align="center"><sub>4-way multiple choice</sub></td>\r
   <td align="center">Accuracy</td>\r
 </tr>\r
 <tr>\r
  <td align="center"><a href="https://huggingface.co/datasets/allenai/openbookqa">OpenBook QA</a></td>\r
  <td align="center">2018</td>\r
  <td align="center"><sub>7326 facts from a book</sub></td>\r
  <td align="center"><sub>5,957 questions</sub></td>\r
  <td align="center"><sub>4-way multiple-choice</sub></td>\r
  <td align="center">Accuracy</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="https://github.com/nyu-mll/quality">QuALITY (QLTY)</a></td>\r
   <td align="center">2022</td>\r
   <td align="center"><sub>-</sub></td>\r
   <td align="center"><sub>6,737 questions</sub></td>\r
   <td align="center"><sub>4-way multiple choices</sub></td>\r
   <td align="center">Accuracy</td>\r
 </tr>\r
 <tr>\r
   <td rowspan=1 align="center">Open-Domain Summarization</td>\r
   <td align="center"><a href="https://huggingface.co/datasets/wiki_asp">WikiAsp</a></td>\r
   <td align="center">2021</td>\r
   <td align="center"><sub>Wikipedia articles from 20 different domains</sub></td>\r
   <td align="center"><sub>320,272 samples</sub></td>\r
   <td align="center"><sub>1) aspect selection (section title), 2) summary generation (section paragraph)</sub></td>\r
   <td align="center">ROUGE, F1, UniEval</td>\r
 </tr>\r
 <tr>\r
   <td rowspan=3 align="center">Fact-checking</td>\r
  <td align="center"><a href="https://huggingface.co/datasets/BeIR/scifact">Scifact</a></td>\r
   <td align="center">2020</td>\r
   <td align="center"><sub>5,183 abstracts</sub></td>\r
   <td align="center"><sub>1409 claim-abstract pairs</sub></td>\r
   <td align="center"><sub>3-class classification (support/refutes/Noinfo)</sub></td>\r
  <td align="center">nDCG@10</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="https:// huggingface.co/datasets/fever">FEVER</a></td>\r
   <td align="center">2018</td>\r
   <td align="center"><sub>50,000 popular pages from wikipedia</sub></td>\r
   <td align="center"><sub>185,445 claims</sub></td>\r
   <td align="center"><sub>3-class classification</sub></td>\r
   <td align="center">Accuracy</td>\r
 </tr>\r
 <tr>\r
   <td align="center"><a href="https:// huggingface.co/datasets/fever/ feverous">Feverous</a></td>\r
   <td align="center">2021</td>\r
   <td align="center"><sub>wikipedia</sub></td>\r
   <td align="center"><sub>87,026 claims</sub></td>\r
   <td align="center"><sub>3-class classification/evidence retrieval</sub></td>\r
   <td align="center">Accuracy</td>\r
 </tr>\r
\r
\r
</table>\r
`;function pF(){return C.jsx("div",{children:C.jsx(Io,{className:"markdown-body",rehypePlugins:[Tc],children:hF})})}const mF=`# 2WikiMultiHopQA benchmark\r
\r
[2WikiMultiHopQA dataset](https://github.com/Alab-NII/2wikimultihop) is a multi-hop QA dataset, which uses structured and unstructured data. This dataset introduces the evidence information containing a reasoning path for multi-hop questions. The evidence information has two benefits: (i) providing a comprehensive explanation for predictions and (ii) evaluating the reasoning skills of a model. \r
\r
\r
## Performance\r
\r
### 1. Leaderboard from SOTA\r
\r
<table id="sortableTable">\r
 <thead>\r
    <tr>\r
	  <th align="center" style="width:246px;"> Paper </th>\r
      <th align="center"> Year </th>\r
      <th align="center"> Model </th>\r
      <th align="center">Model Details</th>\r
	  <th align="center"> NDCG@10 </th>\r
	  <th align="center"> Recall@10 </th>\r
	  <th align="center"> acc </th>\r
    </tr>\r
  </thead>\r
 <tbody>\r
 <!-- paper split -->\r
\r
 <tr>\r
  <td rowspan=4><a href="https://arxiv.org/pdf/2406.13629"><sub>INSTRUCTRAG: Instructing Retrieval-Augmented Generation via Self-Synthesized Rationales </sub></a></td>\r
  <td rowspan=4>2024</td>\r
  <td rowspan=2><a href="https://github.com/weizhepei/InstructRAG">InstructRAG </a>\r
\r
![](https://img.shields.io/github/stars/weizhepei/InstructRAG.svg?style=social)\r
\r
</td> <td align="center">  R:BM25 ,G:Llama3-Ins-8B(FT) </td> <td align="center"> - </td> <td align="center"> 40.7 </td> <td align="center"> 57.2 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R: BM25 ,G:Llama3-Ins-8B(ICL) </td> <td align="center"> - </td> <td align="center"> 40.7 </td> <td align="center"> 50.4</td>\r
 </tr>\r
 <tr>\r
  <td>NaiveRAG</td>\r
  <td align="center"> R: BM25, G: Llama3-Ins70B </td><td align="center"> - </td><td align="center"> 40.7 </td><td align="center"> 51.2 </td>\r
 </tr>\r
 <tr>\r
  <td> NaiveRAG </td>\r
  <td align="center"> R: BM25, G: Llama3-Ins8B </td><td align="center"> - </td><td align="center"> 40.7 </td><td align="center"> 43.4 </td>\r
 </tr>\r
 <!-- paper split -->\r
 <tr>\r
  <td rowspan=5><a href="https://arxiv.org/pdf/2401.06954"><sub>ACTIVERAG: Autonomously Knowledge Assimilation and Accommodation through Retrieval-Augmented Agents </sub></a> <sub>(only sample 500 q for eval)</sub></td>\r
  <td rowspan=5>2024</td>\r
  <td rowspan=3><a href="https://github.com/OpenMatch/ActiveRAG">ActiveRAG </a>\r
\r
![](https://img.shields.io/github/stars/OpenMatch/ActiveRAG.svg?style=social)\r
\r
</td> <td align="center">  R:DPR ,G:ChatGPT-4oMINI </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 59.6 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-70B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 61.2 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-8B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 52.2 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins8B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 43.0 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins70B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 53.8 </td>\r
 </tr>\r
 <!-- paper split -->\r
\r
 </tbody>\r
</table>\r
\r
\r
### 2. LLM-based Methods (Reproducable)\r
\r
`,gF=`# ALCE benchmark\r
\r
[ALCE](https://github.com/princeton-nlp/ALCE) is a benchmark for Automatic LLMs' Citation Evaluation. ALCE contains three datasets: ASQA, QAMPARI, and ELI5. All detailed results can be download from [this repo](https://huggingface.co/datasets/golaxy/rag-bench/viewer/alce_eli5_bm25). Besides, these results can be reproduced based on [the script](./benchmarks/ALCE/ASQA/run.sh) in this repo.\r
\r
## Performance\r
\r
### 1. Leaderboard from SOTA\r
\r
#### 1.1 ASQA dataset\r
<table id="sortableTable">\r
 <thead>\r
    <tr>\r
	  <th align="center" style="width:246px;"> Paper </th>\r
      <th align="center"> Year </th>\r
      <th align="center"> Model </th>\r
      <th align="center">Model Details</th>\r
	  <th align="center"> precision </th>\r
	  <th align="center"> recall </th>\r
	  <th align="center"> str-EM </th>\r
	  <th align="center"> rouge </th>\r
      <th align="center"> MAUVE </th>\r
    </tr>\r
  </thead>\r
 <tbody>\r
 <!-- paper split -->\r
 <tr>\r
  <td rowspan=4><a href="https://arxiv.org/pdf/2310.11511"><sub>SELF-RAG: Learning To Retrieve, Generate, and Critique  Through SELF-Reflection </sub></a></td>\r
  <td rowspan=4>2023</td>\r
  <td rowspan=2><a href="https://github.com/AkariAsai/self-rag">Self-RAG </a>\r
\r
![](https://img.shields.io/github/stars/AkariAsai/self-rag.svg?style=social)\r
\r
</td> <td align="center">  R: GTR-XXL ,G: Llama2-13B </td> <td align="center"> 70.3 </td> <td align="center"> 71.3 </td> <td align="center"> 31.7 </td><td align="center"> 37.0 </td><td align="center"> 71.6 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R: GTR-XXL ,G:Llama2-7B </td> <td align="center"> 66.9 </td> <td align="center"> 67.8 </td> <td align="center"> 30.0 </td><td align="center"> 35.7 </td><td align="center"> 74.3 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R: :x:, G: Llama2-7B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 7.9 </td><td align="center"> 15.3 </td><td align="center"> 19.0 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:, G: Llama2-13B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 7.2</td><td align="center"> 12.4</td><td align="center"> 16.0</td>\r
 </tr>\r
 <!-- paper split -->\r
 \r
\r
 </tbody>\r
</table>\r
\r
### 2. LLM-based Methods (reproducable)\r
\r
<table>\r
 <col width=75>\r
 <col width=125>\r
 <col width=85>\r
 <col width=145>\r
 <col width=125 span=5>\r
 <tr>\r
  <td rowspan=2 align="center"><b>Dataset</b></td>\r
  <td rowspan=2 align="center"><b>Model</b></td>\r
  <td colspan=2 align="center"><b>Method</b></td>\r
  <td colspan=5 align="center"><b>Metric</b></td>\r
 </tr>\r
 <tr>\r
  <td align="center">retriever</td>\r
  <td align="center">prompt</td>\r
  <td align="center">MAUVE</td>\r
  <td align="center"><a href="rageval\\metrics\\_answer_exact_match.py">EM Recall</a></td>\r
  <td align="center"><a href="rageval\\metrics\\_answer_claim_recall.py">Claim Recall</a></td>\r
  <td align="center"><a href="rageval\\metrics\\_answer_citation_recall.py">Citation Recall</a></td>\r
  <td align="center"><a href="rageval\\metrics\\_answer_citation_precision.py">Citation Precision</a></td>\r
 </tr>\r
 <tr>\r
  <!-- <td rowspan=7><a href="benchmarks/ALCE/ASQA/README.md">ASQA</a></td>\r
  <td rowspan=7>llama2-7b-chat</td>\r
  <td rowspan=5>GTR</td>   -->\r
  <td rowspan=3 style="text-align:left;padding-left:10px"><a href="benchmarks/ALCE/ASQA/README.md">ASQA</a></td>\r
  <td rowspan=3>llama2-7b-chat</td>\r
  <td rowspan=1>GTR</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/alce_asqa_gtr">vanilla(5-psg)</a></td>\r
  <td align="center">-</td>\r
  <td align="center">33.3</td>\r
  <td align="center">-</td>\r
  <td align="center">55.9</td>\r
  <td align="center">80.0</td>\r
 </tr>\r
 <!-- <tr>\r
  <td>summary(5-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>summary(10-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>snippet(5-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>snippet(10-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr> -->\r
 <tr>\r
  <td>DPR</td>\r
  <td>vanilla(5-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
 <tr>\r
  <td>Oracle</td>\r
  <td>vanilla(5-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
 <tr>\r
  <!-- <td rowspan=6><a href="benchmarks/ALCE/ELI5/README.md">ELI5</a></td>\r
  <td rowspan=6>llama2-7b-chat</td>\r
  <td rowspan=5>BM25</td> -->\r
  <td rowspan=3><a href="benchmarks/ALCE/ELI5/README.md">ELI5</a></td>\r
  <td rowspan=3>llama2-7b-chat</td>\r
  <td rowspan=1>BM25</td>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/alce_eli5_bm25">vanilla(5-psg)</a></td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">11.5</td>\r
  <td align="center">26.6</td>\r
  <td align="center">74.5</td>\r
 </tr>\r
 <!-- <tr>\r
  <td>summary(5-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>summary(10-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>snippet(5-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
  <tr>\r
  <td>snippet(10-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr> -->\r
 <tr>\r
  <td>Oracle</td>\r
  <td>vanilla(5-psg)</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
  <td align="center">-</td>\r
 </tr>\r
</table>\r
`,_F=`# ASQA benchmark\r
\r
[ASQA dataset](https://huggingface.co/datasets/din0s/asqa) is a question-answering dataset that contains factoid questions and long-form answers. The benchmark evaluates the correctness of the answer in the dataset. All detailed results can be download from [this repo](https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa). \r
\r
## Performance\r
\r
### 1. Leaderboard from SOTA\r
\r
<table id="sortableTable">\r
 <thead>\r
    <tr>\r
	  <th align="center" style="width:246px;"> Paper </th>\r
      <th align="center"> Year </th>\r
      <th align="center"> Model </th>\r
      <th align="center">Model Details</th>\r
	  <th align="center"> hit rates </th>\r
	  <th align="center"> recall </th>\r
	  <th align="center"> str-EM </th>\r
    </tr>\r
  </thead>\r
 <tbody>\r
  <!-- paper split -->\r
 <tr>\r
  <td rowspan=4><a href="https://arxiv.org/pdf/2406.13629"><sub>INSTRUCTRAG: Instructing Retrieval-Augmented Generation via Self-Synthesized Rationales </sub></a></td>\r
  <td rowspan=4>2024</td>\r
  <td rowspan=2><a href="https://github.com/weizhepei/InstructRAG">InstructRAG </a>\r
\r
![](https://img.shields.io/github/stars/weizhepei/InstructRAG.svg?style=social)\r
\r
</td> <td align="center">  R:GTR ,G:Llama3-Ins-8B(FT) </td> <td align="center"> - </td> <td align="center"> 65.7 </td> <td align="center"> 70.5 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R: GTR ,G:Llama3-Ins-8B(ICL) </td> <td align="center"> - </td> <td align="center"> 70.9 </td> <td align="center"> 74.1</td>\r
 </tr>\r
 <tr>\r
  <td>NaiveRAG</td>\r
  <td align="center"> R: GTR, G: ChatGPT </td><td align="center"> - </td><td align="center"> 65.1 </td><td align="center"> 76.6 </td>\r
 </tr>\r
 <tr>\r
  <td> NaiveRAG </td>\r
  <td align="center"> R: GTR, G: Llama3-Ins8B </td><td align="center"> - </td><td align="center"> 62.1 </td><td align="center"> 66.4 </td>\r
 </tr>\r
 <!-- paper split -->\r
 <!-- paper split -->\r
 <tr>\r
  <td rowspan=5><a href="https://arxiv.org/pdf/2401.06954"><sub>ACTIVERAG: Autonomously Knowledge Assimilation and Accommodation through Retrieval-Augmented Agents </sub></a> <sub>(only sample 500 q for eval)</sub></td>\r
  <td rowspan=5>2024</td>\r
  <td rowspan=3><a href="https://github.com/OpenMatch/ActiveRAG">ActiveRAG </a>\r
\r
![](https://img.shields.io/github/stars/OpenMatch/ActiveRAG.svg?style=social)\r
\r
</td> <td align="center">  R:GTR ,G:ChatGPT-4oMINI </td> <td align="center"> 25.6 </td> <td align="center"> 62.0 </td> <td align="center"> 52.7 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:GTR ,G:Llama-3-Ins-70B </td> <td align="center"> 23.8 </td> <td align="center"> 59.7 </td> <td align="center"> 50.4 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:GTR ,G:Llama-3-Ins-8B </td> <td align="center"> 20.4 </td> <td align="center"> 57.7 </td> <td align="center"> 45.7 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins8B </td><td align="center"> 5.0 </td><td align="center"> 16.1 </td><td align="center"> 24.8 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins70B </td><td align="center"> 8.8 </td><td align="center"> 20.0 </td><td align="center"> 33.3 </td>\r
 </tr>\r
 <!-- paper split -->\r
 \r
\r
 </tbody>\r
</table>\r
\r
\r
### 2. LLM-based Methods (reproducable)\r
\r
These results can be reproduced based on [the script](./benchmarks/ASQA/run.sh) in this repo.\r
\r
<table id="sortableTable">\r
 <thead>\r
    <tr>\r
	  <th align="center"> Model </th>\r
      <th align="center"> Year </th>\r
      <th align="center"> Retriever </th>\r
      <th align="center">String EM</th>\r
	  <th align="center">Rouge L</th>\r
	  <th align="center"> Disambig F1 </th>\r
	  <th align="center">D-R Score</th>\r
    </tr>\r
  </thead>\r
 <tbody>\r
 <tr>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa/gpt_3.5_turbo_instruct">gpt-3.5-turbo-instruct</a></td>\r
  <td>2024</td>\r
  <td>no-retrieval</td>\r
  <td align="center">33.8</td>\r
  <td align="center">30.2</td>\r
  <td align="center">30.7</td>\r
  <td align="center">30.5</td>\r
 </tr>\r
 <tr>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa/mistral_7b">mistral-7b</a></td>\r
  <td>2023</td>\r
  <td>no-retrieval</td>\r
  <td align="center">20.6</td>\r
  <td align="center">31.1</td>\r
  <td align="center">26.6</td>\r
  <td align="center">28.7</td>\r
 </tr>\r
 <tr>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa/llama2_7b_chat">llama2-7b-chat</a></td>\r
  <td>2023</td>\r
  <td>no-retrieval</td>\r
  <td align="center">21.7</td>\r
  <td align="center">30.7</td>\r
  <td align="center">28.0</td>\r
  <td align="center">29.3</td>\r
 </tr>\r
 <tr>\r
  <td><a href="https://huggingface.co/datasets/golaxy/rag-bench/viewer/asqa/solar_10.7b_instruct">solar-10.7b-instruct</a></td>\r
  <td>2024</td>\r
  <td>no-retrieval</td>\r
  <td align="center">23.0</td>\r
  <td align="center">24.9</td>\r
  <td align="center">28.1</td>\r
  <td align="center">26.5</td>\r
 </tr>\r
 </tbody>\r
</table>\r
`,bF=`# HotpotQA benchmark\r
\r
[HotpotQA dataset](https://huggingface.co/datasets/hotpot_qa) is a new dataset with 113k Wikipedia-based question-answer pairs with four key features: (1) the questions require finding and reasoning over multiple supporting documents to answer; (2) the questions are diverse and not constrained to any pre-existing knowledge bases or knowledge schemas; (3) we provide sentence-level supporting facts required for reasoning, allowingQA systems to reason with strong supervision and explain the predictions; (4) we offer a new type of factoid comparison questions to test QA systems ability to extract relevant facts and perform necessary comparison.\r
\r
## Performance\r
\r
### 1. Leaderboard from SOTA\r
\r
<table id="sortableTable">\r
 <thead>\r
    <tr>\r
	  <th align="center" style="width:246px;"> Paper </th>\r
      <th align="center"> Year </th>\r
      <th align="center"> Model </th>\r
      <th align="center">Model Details</th>\r
	  <th align="center"> NDCG@10 </th>\r
	  <th align="center"> Recall@5 </th>\r
	  <th align="center"> EM </th>\r
    </tr>\r
  </thead>\r
 <tbody>\r
 <!-- paper split -->\r
 <tr>\r
  <td rowspan=3><a href="https://arxiv.org/pdf/2401.06954"><sub>Bridging the Preference Gap between Retrievers and LLMs</sub></a></td>\r
  <td rowspan=3>2024</td>\r
  <td>BGM</td> <td align="center">  R: T5-XXL(11B), G: PaLM2-S </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 45.37 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R:<a href="https://arxiv.org/pdf/2112.07899">GTR</a>, G: PaLM2-S </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 43.79 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:,  G: PaLM2-S </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 33.07 </td>\r
 </tr>\r
 <!-- paper split -->\r
 <tr>\r
  <td rowspan=5><a href="https://arxiv.org/pdf/2401.06954"><sub>ACTIVERAG: Autonomously Knowledge Assimilation and Accommodation through Retrieval-Augmented Agents </sub></a> <sub>(only sample 500 q for eval)</sub></td>\r
  <td rowspan=5>2024</td>\r
  <td rowspan=3><a href="https://github.com/OpenMatch/ActiveRAG">ActiveRAG </a>\r
\r
![](https://img.shields.io/github/stars/OpenMatch/ActiveRAG.svg?style=social)\r
\r
</td> <td align="center">  R:DPR ,G:ChatGPT-4oMINI </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 71.6 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-70B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 70.8 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-8B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 65.0 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins8B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 39.2 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins70B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 54.2 </td>\r
 </tr>\r
 <!-- paper split -->\r
 <tr>\r
  <td><a href="https://arxiv.org/pdf/2112.07899"><sub>Large Dual Encoders Are Generalizable Retrievers</sub></a></td>\r
  <td>2021</td>\r
  <td><a href="https://www.kaggle.com/models/google/gtr?tfhub-redirect=true">GTR</a></td>\r
  <td align="center"> R: GTR-XXL(4.8B),G: :x: </td>\r
  <td align="center"> 56.8 </td>\r
  <td align="center"> - </td>\r
  <td align="center"> - </td>\r
 </tr>\r
\r
 </tbody>\r
</table>\r
\r
\r
### 2. LLM-based Methods (Reproducable)\r
\r
`,yF=`# NarrativeQA benchmark\r
\r
[NarrativeQA dataset](https://huggingface.co/datasets/narrativeqa) is an English-lanaguage dataset of stories and corresponding questions designed to test reading comprehension, especially on long documents. The dataset is used to test reading comprehension. There are 2 tasks proposed in the paper: "summaries only" and "stories only", depending on whether the human-generated summary or the full story text is used to answer the question.\r
\r
\r
\r
## Performance\r
\r
### 1. Leaderboard from SOTA\r
\r
<table id="sortableTable">\r
 <thead>\r
    <tr>\r
	  <th align="center" style="width:246px;"> Paper </th>\r
      <th align="center"> Year </th>\r
      <th align="center"> Model </th>\r
      <th align="center">Model Details</th>\r
	  <th align="center"> NDCG@10 </th>\r
	  <th align="center"> Recall@5 </th>\r
	  <th align="center"> EM </th>\r
    </tr>\r
  </thead>\r
 <tbody>\r
 <!-- paper split -->\r
\r
 <tr>\r
  <td rowspan=5><a href="https://arxiv.org/pdf/2406.13629"><sub>XXX </sub></a></td>\r
  <td rowspan=5>2024</td>\r
  <td rowspan=3><a href="https://github.com/weizhepei/InstructRAG">INSTRUCTRAG </a>\r
\r
![](https://img.shields.io/github/stars/weizhepei/InstructRAG.svg?style=social)\r
\r
</td> <td align="center">  R:DPR ,G:ChatGPT-4oMINI </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 71.6 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-70B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 70.8 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-8B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 65.0 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins8B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 39.2 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins70B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 54.2 </td>\r
 </tr>\r
 <!-- paper split -->\r
 \r
\r
 </tbody>\r
</table>\r
\r
\r
### 2. LLM-based Methods (Reproducable)\r
\r
`,EF=`# NQ benchmark\r
\r
[NQ dataset](https://huggingface.co/datasets/google-research-datasets/natural_questions) questions from real users, and it requires QA systems to read and comprehend an entire Wikipedia article that may or may not contain the answer to the question. The inclusion of real user questions, and the requirement that solutions should read an entire page to find the answer, cause NQ to be a more realistic and challenging task than prior QA datasets.  \r
\r
## Performance\r
\r
### 1. Leaderboard from SOTA\r
\r
<table id="sortableTable">\r
 <thead>\r
    <tr>\r
	  <th align="center" style="width:246px;"> Paper </th>\r
      <th align="center"> Year </th>\r
      <th align="center"> Model </th>\r
      <th align="center">Model Details</th>\r
	  <th align="center"> NDCG@10 </th>\r
	  <th align="center"> Recall@5 </th>\r
	  <th align="center"> EM </th>\r
    </tr>\r
  </thead>\r
 <tbody>\r
 <!-- paper split -->\r
 <tr>\r
  <td rowspan=4><a href="https://arxiv.org/pdf/2406.13629"><sub>INSTRUCTRAG: Instructing Retrieval-Augmented Generation via Self-Synthesized Rationales </sub></a></td>\r
  <td rowspan=4>2024</td>\r
  <td rowspan=2><a href="https://github.com/weizhepei/InstructRAG">InstructRAG </a>\r
\r
![](https://img.shields.io/github/stars/weizhepei/InstructRAG.svg?style=social)\r
\r
</td> <td align="center">  R:DPR ,G:Llama3-Ins-8B(FT) </td> <td align="center"> - </td> <td align="center"> 68.8 </td> <td align="center"> 65.7 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R: DPR ,G:Llama3-Ins-8B(ICL) </td> <td align="center"> - </td> <td align="center"> 68.8 </td> <td align="center"> 62.1</td>\r
 </tr>\r
 <tr>\r
  <td>NaiveRAG</td>\r
  <td align="center"> R: DPR, G: ChatGPT </td><td align="center"> - </td><td align="center"> 68.8 </td><td align="center"> - </td>\r
 </tr>\r
 <tr>\r
  <td> NaiveRAG </td>\r
  <td align="center"> R: DPR, G: Llama3-Ins8B </td><td align="center"> - </td><td align="center"> 68.8 </td><td align="center"> 60.1 </td>\r
 </tr>\r
 <!-- paper split -->\r
 <tr>\r
  <td rowspan=3><a href="https://arxiv.org/pdf/2401.06954"><sub>Bridging the Preference Gap between Retrievers and LLMs</sub></a></td>\r
  <td rowspan=3>2024</td>\r
  <td>BGM</td> <td align="center">  R: T5-XXL(11B), G: PaLM2-S </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 45.37 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R:<a href="https://arxiv.org/pdf/2112.07899">GTR</a>, G: PaLM2-S </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 43.79 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:,  G: PaLM2-S </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 33.07 </td>\r
 </tr>\r
 <!-- paper split -->\r
 <tr>\r
  <td rowspan=5><a href="https://arxiv.org/pdf/2401.06954"><sub>ACTIVERAG: Autonomously Knowledge Assimilation and Accommodation through Retrieval-Augmented Agents </sub></a> <sub>(only sample 500 q for eval)</sub></td>\r
  <td rowspan=5>2024</td>\r
  <td rowspan=3><a href="https://github.com/OpenMatch/ActiveRAG">ActiveRAG </a>\r
\r
![](https://img.shields.io/github/stars/OpenMatch/ActiveRAG.svg?style=social)\r
\r
</td> <td align="center">  R:DPR ,G:ChatGPT-4oMINI </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 71.6 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-70B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 70.8 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-8B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 65.0 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins8B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 39.2 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins70B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 54.2 </td>\r
 </tr>\r
 <!-- paper split -->\r
 <tr>\r
  <td><a href="https://arxiv.org/pdf/2112.07899"><sub>Large Dual Encoders Are Generalizable Retrievers</sub></a></td>\r
  <td>2021</td>\r
  <td><a href="https://www.kaggle.com/models/google/gtr?tfhub-redirect=true">GTR</a></td>\r
  <td align="center"> R: GTR-XXL(4.8B),G: :x: </td>\r
  <td align="center"> 56.8 </td>\r
  <td align="center"> - </td>\r
  <td align="center"> - </td>\r
 </tr>\r
\r
\r
 </tbody>\r
</table>\r
\r
\r
### 2. LLM-based Methods (Reproducable)\r
\r
`,xF=`# PopQA benchmark\r
\r
[PopQA dataset](https://huggingface.co/datasets/akariasai/PopQA) is a large-scale open-domain question answering (QA) dataset, consisting of 14k entity-centric QA pairs. Each question is created by converting a knowledge tuple retrieved from Wikidata using a template. Each question come with the original subject\\_entitiey, object\\_entityand relationship_type annotation, as well as Wikipedia monthly page views.\r
\r
## Performance\r
\r
### 1. Leaderboard from SOTA\r
\r
<table id="sortableTable">\r
 <thead>\r
    <tr>\r
	  <th align="center" style="width:246px;"> Paper </th>\r
      <th align="center"> Year </th>\r
      <th align="center"> Model </th>\r
      <th align="center">Model Details</th>\r
	  <th align="center"> NDCG@10 </th>\r
	  <th align="center"> Recall@5 </th>\r
	  <th align="center"> acc </th>\r
    </tr>\r
  </thead>\r
 <tbody>\r
 <!-- paper split -->\r
\r
 <tr>\r
  <td rowspan=4><a href="https://arxiv.org/pdf/2406.13629"><sub>INSTRUCTRAG: Instructing Retrieval-Augmented Generation via Self-Synthesized Rationales </sub></a></td>\r
  <td rowspan=4>2024</td>\r
  <td rowspan=2><a href="https://github.com/weizhepei/InstructRAG">InstructRAG </a>\r
\r
![](https://img.shields.io/github/stars/weizhepei/InstructRAG.svg?style=social)\r
\r
</td> <td align="center">  R:Contriever ,G:Llama3-Ins-8B(FT) </td> <td align="center"> - </td> <td align="center"> 68.7 </td> <td align="center"> 66.2 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:Contriever ,G:Llama3-Ins-8B(ICL) </td> <td align="center"> - </td> <td align="center"> 68.7 </td> <td align="center"> 64.2</td>\r
 </tr>\r
 <tr>\r
  <td>NaiveRAG</td>\r
  <td align="center"> R: Contriever, G: ChatGPT </td><td align="center"> - </td><td align="center"> 68.7 </td><td align="center"> 50.8 </td>\r
 </tr>\r
 <tr>\r
  <td> NaiveRAG </td>\r
  <td align="center"> R: Contriever, G: Llama3-Ins8B </td><td align="center"> - </td><td align="center"> 68.7 </td><td align="center"> 62.3 </td>\r
 </tr>\r
 <!-- paper split -->\r
 <tr>\r
  <td rowspan=5><a href="https://arxiv.org/pdf/2401.06954"><sub>ACTIVERAG: Autonomously Knowledge Assimilation and Accommodation through Retrieval-Augmented Agents </sub></a> <sub>(only sample 500 q for eval)</sub></td>\r
  <td rowspan=5>2024</td>\r
  <td rowspan=3><a href="https://github.com/OpenMatch/ActiveRAG">ActiveRAG </a>\r
\r
![](https://img.shields.io/github/stars/OpenMatch/ActiveRAG.svg?style=social)\r
\r
</td> <td align="center">  R:DPR ,G:ChatGPT-4oMINI </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 70.8 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-70B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 69.8 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-8B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 65.8 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins8B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 24.2 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins70B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 34.2 </td>\r
 </tr>\r
 <!-- paper split -->\r
  <!-- paper split -->\r
 <tr>\r
  <td rowspan=4><a href="https://arxiv.org/pdf/2310.11511"><sub>SELF-RAG: Learning To Retrieve, Generate, and Critique  Through SELF-Reflection </sub></a></td>\r
  <td rowspan=4>2023</td>\r
  <td rowspan=2><a href="https://github.com/AkariAsai/self-rag">Self-RAG </a>\r
\r
![](https://img.shields.io/github/stars/AkariAsai/self-rag.svg?style=social)\r
\r
</td> <td align="center">  R: Contriever ,G: Llama2-13B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 55.8 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R: Contriever ,G:Llama2-7B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 54.9 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R: :x:, G: Llama2-7B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 14.7 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:, G: Llama2-13B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 14.7</td>\r
 </tr>\r
 <!-- paper split -->\r
 </tbody>\r
</table>\r
\r
\r
### 2. LLM-based Methods (Reproducable)\r
\r
`,TF=`# TriviaQA benchmark\r
\r
[TriviaQA dataset](https://huggingface.co/datasets/mandarjoshi/trivia_qa) is a reading comprehension dataset containing over 650K question-answer-evidence triples. TriviaqQA includes 95K question-answer pairs authored by trivia enthusiasts and independently gathered evidence documents, six per question on average, that provide high quality distant supervision for answering the questions. \r
\r
## Performance\r
\r
### 1. Leaderboard from SOTA\r
\r
<table id="sortableTable">\r
 <thead>\r
    <tr>\r
	  <th align="center" style="width:246px;"> Paper </th>\r
      <th align="center"> Year </th>\r
      <th align="center"> Model </th>\r
      <th align="center">Model Details</th>\r
	  <th align="center"> NDCG@10 </th>\r
	  <th align="center"> Recall@5 </th>\r
	  <th align="center"> acc </th>\r
    </tr>\r
  </thead>\r
 <tbody>\r
 <!-- paper split -->\r
\r
 <tr>\r
  <td rowspan=4><a href="https://arxiv.org/pdf/2406.13629"><sub>INSTRUCTRAG: Instructing Retrieval-Augmented Generation via Self-Synthesized Rationales </sub></a></td>\r
  <td rowspan=4>2024</td>\r
  <td rowspan=2><a href="https://github.com/weizhepei/InstructRAG">InstructRAG </a>\r
\r
![](https://img.shields.io/github/stars/weizhepei/InstructRAG.svg?style=social)\r
\r
</td> <td align="center">  R:Contriever ,G:Llama3-Ins-8B(FT) </td> <td align="center"> - </td> <td align="center"> 73.5 </td> <td align="center"> 78.5 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:Contriever ,G:Llama3-Ins-8B(ICL) </td> <td align="center"> - </td> <td align="center"> 73.5 </td> <td align="center"> 76.8</td>\r
 </tr>\r
 <tr>\r
  <td>NaiveRAG</td>\r
  <td align="center"> R: Contriever, G: ChatGPT </td><td align="center"> - </td><td align="center"> 73.5 </td><td align="center"> 65.7 </td>\r
 </tr>\r
 <tr>\r
  <td>NaiveRAG</td>\r
  <td align="center"> R: Contriever, G: Llama3-Ins8B </td><td align="center"> - </td><td align="center"> 73.5 </td><td align="center"> 71.4 </td>\r
 </tr>\r
 <!-- paper split -->\r
 <tr>\r
  <td rowspan=4><a href="https://arxiv.org/pdf/2310.11511"><sub>SELF-RAG: Learning To Retrieve, Generate, and Critique  Through SELF-Reflection </sub></a></td>\r
  <td rowspan=4>2023</td>\r
  <td rowspan=2><a href="https://github.com/AkariAsai/self-rag">Self-RAG </a>\r
\r
![](https://img.shields.io/github/stars/AkariAsai/self-rag.svg?style=social)\r
\r
</td> <td align="center">  R: Contriever ,G: Llama2-13B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 69.3 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R: Contriever ,G:Llama2-7B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 66.4 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R: :x:, G: Llama2-7B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 30.5 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:, G: Llama2-13B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 38.5</td>\r
 </tr>\r
 <!-- paper split -->\r
 <!-- paper split -->\r
 <tr>\r
  <td rowspan=5><a href="https://arxiv.org/pdf/2401.06954"><sub>ACTIVERAG: Autonomously Knowledge Assimilation and Accommodation through Retrieval-Augmented Agents </sub></a> <sub>(only sample 500 q for eval)</sub></td>\r
  <td rowspan=5>2024</td>\r
  <td rowspan=3><a href="https://github.com/OpenMatch/ActiveRAG">ActiveRAG </a>\r
\r
![](https://img.shields.io/github/stars/OpenMatch/ActiveRAG.svg?style=social)\r
\r
</td> <td align="center">  R:DPR ,G:ChatGPT-4oMINI </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 83.4 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-70B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 85.4 </td>\r
 </tr>\r
  <tr>\r
  <td align="center">  R:DPR ,G:Llama-3-Ins-8B </td> <td align="center"> - </td> <td align="center"> - </td> <td align="center"> 79.8 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline1</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins8B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 67.2 </td>\r
 </tr>\r
 <tr>\r
  <td>Baseline2</td>\r
  <td align="center"> R: :x:, G: Llama3-8-Ins70B </td><td align="center"> - </td><td align="center"> - </td><td align="center"> 80.4 </td>\r
 </tr>\r
 <!-- paper split -->\r
 \r
\r
 </tbody>\r
</table>\r
\r
### 2. LLM-based Methods (Reproducable)\r
\r
`,n2={"2WikiMHQA":mF,ALCE:gF,ASQA:_F,HotpotQA:bF,NarrativeQA:yF,NQ:EF,PopQA:xF,TriviaQA:TF};function wF(){const{benchmarkName:e}=_p(),t=n2[e];return C.jsx("div",{children:t?C.jsx(Io,{className:"markdown-body",rehypePlugins:[Tc],children:t}):C.jsxs("p",{children:[" ",e,"  benchmark"]})})}const vF=({onUpload:e})=>{const[t,n]=G.useState(null),r=i=>{const s=i.target.files;n(null);const a=[];for(let o=0;o<s.length;o++){const l=s[o],u=new FileReader;u.onload=c=>{try{let d;l.name.endsWith(".jsonl")?d=c.target.result.split(`
`).filter(p=>p.trim()!=="").map(p=>JSON.parse(p)):d=JSON.parse(c.target.result),a.push(...d),o===s.length-1&&e(a)}catch(d){n("Error parsing JSON: "+d.message)}},u.readAsText(l)}};return C.jsxs("div",{children:[C.jsx("input",{type:"file",accept:".json, .jsonl",multiple:!0,onChange:r}),t&&C.jsx("p",{style:{color:"red"},children:t})]})};function AF(){const[e,t]=G.useState([]),[n,r]=G.useState([]),i=a=>{t(a)},s=async()=>{try{const a=await fetch("http://localhost:5000/process-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok){const o=await a.json();r(o)}else console.error("Failed to process data")}catch(a){console.error("Error:",a),r(e)}};return C.jsx("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:C.jsxs("main",{className:"grow",children:[C.jsx(vF,{onUpload:i}),C.jsx(Bx,{jsonData:e}),C.jsx("button",{onClick:s,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Process Data"})]})})}const CF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAOvUlEQVR4nNw5CVRT17bnDplHSEIgQBgChFkiWkTRihO2uhz6rLW1rSOt1jpineqz1VbtgH0P7azt6++39TmPbRVnoVXqzBREmQKEISEJCZmH+9e9cDFUlOCz7///9uIu9tl3n7OHu885e+/A4P85IP8WISgPpTJCwgAAVsxjc/87ZD4xEEbMn5oySdOc+pwZS5msbRNGzHv+f1snn4HpNyg+darZHje66JwwfPbM6OG/HEqdanZwRJkDnpQMtL8TIIgCWIK0OBhh+j+KD/M4zZyAkWMABKi1V+e9bDWWqo2aSz8nZZXouOKxz5o0528HRC2ZEyjPWYVQuLwObWFB/e2Vq2ymO3V/mgEMbkKYLP3AIRpLOrAvXgwAV3vTqe3EPF5SMm4Ak5sYh49ddq2200iHjUITxuI4N2DU9OhhxxXKc0NTXA6txVed+rWJo4cdP8LgxqT7wgsBAMMoE/J4bHZB6IxsvmTSqABZ9ioIQmhGzfkD5rbLty2G26V+wZPHUGgiKaEMhSuAUbbb2Hzygq86Qb4yMvmKsLhRhbW+8pPQXJn3OpURpGALM0ZQGZJ4nOZyGBrL8gfIXQ6tmRswdmD0sMO/AwginIlhmLX87JA4m7HUp1Dy2QA6Ry4RRWSv7ouPLRw2iMlPHkqOnXbNndKT8Ul4UCWNr6xAaf6ROF1T890W1c1Fb+N45JC9X/tJJmaTc0yagv2VBeOn/8sGcESZKXSuPNaiv1Fs1v1e7suCDG5iSOyoggoYprJIWlNF7jJ1+Tt54ujls0OS3v8H6PS0reL88HiL4WYNjRUZED/2+h0YpvLJOdVFszL1jQf6DKXe9wBEgWRD/rkrOPHdr3iBWdOE4bMXMTjxPH3joVN9LeiytxoptCCE5Z+aSdKY/JTBOtU/d5k0F38XhL0yDaFwRBAEoXRufGhb3ff73E69GUaYDo5waFb3HL9Uhab2250Ac2GPktfrFxBFLpgpTdm2u+Xe5+8Y1McOCMNnzxVIZ+QAAGx9GaCrP7BTdWvZqvgxRTepjOBYkm5Q/7Sz6sr013hBk4ZHDfnxAoAgIo2pvb5oclvdd8cgmI4mjrt9i8oMSSDnNFduX9lYunbbo+T1mgtxhBnpGIZZGkrWberQFpQ3lL69rusVva+nvfnkMbdTb2soXvem95p8yYR5eEi2Nx0r0Df99C1JD0navAOlCpmYx+ZqLN+01ntOQNSCjQxuYmi/DbC0lyghCGKKoxa/gF9cwrBZc7tedQAAjL09bpelTl3x4QJd/Z4zOKO+8cBZU9uVI96yguLW/RVHGkvWvu3xOPQ4jlL50qD49cTh4HbotD2Ug6ksTsCoweKYnPmhyblbhOGzn/mjrr2GEEIVMOMyCwporLCBGABmCACWraOqsPzMU5m4px7lEW9g8hWy2MzCMggCtC6S527hlDRj6+lrvMBnM6SKvC8oDEmC06q+UpqfPFQ+4vRplp9iDDnfYW0qxDxOHo0lTcIA8OB3i06178Oaa3PWPNIAHFh+aVJR5LwVdG5cjLW9+Iam+pt/uJ3tVnyf4orgDwawLhzCM0w3wJweh0XVw8Cw1K8/EobNfIscW43KQuXZ9OEY5iTGFHoQ7LQ1efxDXxwfMXjXLyQfhgGbWXflR7ZgyFzVrZxpOtWeo6Epn+QKpDMWK89lyC2Gm/ceagCMMOH4Mdeu01hhKb56mwSLofiU8lz6eHJMoQdy5E+fu0xjhXVvTtWtnOma6i/335fHoCZmKYspdJGcpLVW79xCY0rDueJxT984zA4BxB0zfJB8xMmrqls5kzXVXx4DD9sDAVGLsx9HeRzM+hs3vcdOW7PpzsVRGa3VO7faOqoud7QVHXXampq9eYLi/rrUW3mnXaNSl7+32dZRVQYBSCKMmDcFQXkIntHiX9ysK+q+kx74AhR6ID9hXHElgrJE/VXe5TQ2KM9lKBzmKq2vc+ic2KC40ZfxS4xD0upuLpmmrfnmoDh6RXZI0ntfAyI5xNwQgJA21f4Pa6/N7t4DD2Sj0pTtH3sr77S1VttMFcVeLAieVHeiGNR1GbrtZpWyuXJbXn+U75T3tx3eypu0vx3T1v7XQSpDKpLErdtM0o3N+QfbVD9+qW84cN57fg8DOKLMVL5kwnwvkqfm6pznTZoLNxCUy4BRNsNpU+v6o+CjQBD26rMc0Yi/dAvzOM2qm28uxM8GqeLvH8Mog3Ck066pqbn22iy3Q2vjS6Zk2Dvu1Vu7kr0ee0CS8M5G77FefeJbXHniXeKmt2NHXjiPoFzakzJAGD4r23vcVrc7z2a6o+YGjH2KF5j1CklXl7/3Fq48QvFjhg38bG/MiPzLeP7UwwC+ZPLTbP/BE7y80d5Qso7IFhncxAhRRHYOlRmczA+eOulJGYDShEISd7vMuiblllwIQqHQAbnbSd0shuLz2trvD+J4YMzyRSiVL0GpvCBxTM7SHgaEJG3N9V685W7eJoe5qhXHpYq8XAgiUgX83CaEolQhPWb4qR/wOuFxDTBpCi+TePOdbeudNrVeJFv4Cp0TlQY6N65LdXvlUoA5AUoVcANkb3TfJ1SGJKnbABorMpDGChtEvnRY1RXNFR/swHG/4Gmj2IIhz4HOy8XZ3nTiJOGN2NWrOaKMl2Tp+45DCOOx+kvNlds+djnaa+xm1Y2Wyk++ItaNyVlPvtc3HP3a3PZrCY4HJ21dT+4JQBRF7SpAbmKM+LsPjaUbVnjcVieMMJDgxE15JN2gPvKd1VhaQ4RUZGdxg3uCJx433KA+erG/BjjM1Rrl+YynUAqfj2FOD4yyIQpNSBQ8eEg1lKzdADpTkhihdOYSch7+ZTTVX3wGyC/gMFe32Dru/YrjZt31E7r6PcSVLo7JWUBjhSWCTu/b1cot7wPi6Mv7GwxTGOSCFHqQuL/KexmhtRhuEGmBx9WBWU0VhYAI4e0bnFZVW5e8beB+PgV09fs/N+uKlD0WonMTIhKzygvx/8SYLQ9OmazVpz5nxvAnJPljIpMURsz/C0nDn4FTzXY6N0H6uAb8EejchNDwQd/kQTAd6U3egIn1KgpdwiP5H5rMxQw/uY8jGk500fA9UZY/IBlGWfTErLK7CMrq9ri27oeP6q6/1met7A1Eb8k/LR5GmaLOCAbe7UZXFw1AMIqEp+48gJ885EvylibHaM+FURCS9MFbgvBZSxCUEULSO/eExRmcsHGNt/Jul0XdWLJ2c3+UZ/IHhkU89d1+Ols2uD/zAJHJVlwmj1QSepweItmCWQFRCz+ymZRKXePRnR6Pw+Z2mRt0Dft/oTJChYLwOTne/OryTWtdjjYjOUYofgyueNxgln9aZG8KQDAdlqXvPfY4yhPylJs3gK40nIQeX8A/dMaLVqPycsWF0eNwRkn8xrKg2JV/Z/unxYujl6xAUAbvvjeUv2mqvvi+2xMoF0p6prISQZnEl8MvoKrLL7zosKpaSB62IF1BZUiSH0d5i6Ek39B46Mwf6X8MIYrHZe0grfS4LWb8Py9oQgY/aMIcL1ZPQ/G6JRh2v3bxuIxYe9PPR/1Dpy0CRKgkZ0ZnHD9YfmYQXrwQMe1y6Nrb6n78lEITIhjA0K49iHZGAtHY8n5gCKYgMMKk4HMbStbm9GZYj00cFL8hRxK7OlffcPgrm7mqVix7I8fjceo8brOJypCkknx69Ymd9beW5fiHPD8VQpgMg/rwcTyHobHlIQljr9+FIIhO8tYXr3m59d6OH/rjbQTloVJF3lZ+8ORsCKbQOzS/Hqu9lr3Q0XWsPtQAGOVQIgbt2sGTTJwLAUCxm+uuWdtLLvElE1d0e9rj0JeeSpazhRmJkYN3neuimap+mz7O2Hr6ilTx2VZRxP183eUw1JflD4j1btiy/dNkDL+B6Q/rS3FFI0fzJRNfMbae2+eyazV+IdPnW9uLLyrPpWc90gASUFoAE0bodIdFpYvNLDzJ8lN0T9Q3Ht1VXfQSkUVGDTu2mycejVdJwGlrqSw7rRgAwVQ0YcyNEpTmH07O0dbuzq278TqRx4Qm564KiFq4pa/GslFz6dDdgmeIVDs4acu6wOilm8tODwqymZQ9qrlecxiXvdWCK4/jDaXrV3UV7wTwJZNeZvIVxClTf2vZco/HYQDEbSyOEUcvfcNl13Q0lr27wns9QfjLy9iCYYk0VqQwQLagT+UJJ1L4XPy+IHCURxQ8Ho/9gY6IT83dyCF7P/eTTFxIjjvarhy5c3H0VEDUEBuXB8lXfkIIcFlbS07GylxOQ0dcZsF5Jj95JDnHYig+U1U0c6Y46o0Vfcmjc+QybsCoaVZjxQU8hNiijOdMmoLDdwvGP/DzlE8GUBihgsSs4koYpnb/KlNzdf5YXf2eMzDCoCRmKW9T6CLixwtt3Q8f1F1/bS1HNFIRk3HiKtk2x6H697nj9A17T/clD79Q8QNFFDHvdQimMIwtp4/UXV+4xu0ymh/LAEB0DtYvlsSt3U6OHVZ1aVn+AIXHbXH5h76YFTF4F5Fmd3WdEy2Gm1WyoYe+4QdmkV09/Cb9rfxs2jCviPyXwWcDIISJJmWVluGxTtLUyq2Lm5Tvf4rjsSMvHWf5p04ERIgV/dxYtmGNy2HQxXW22tn9UcrWce9iWf6Akb7w+lyIYG6Lq7nyk03etEB5zkYqQyoARLNq6XIMAw5A3Lhpz8pHnCqOSt93wtxWtKc/yoNOB9zylbdfv5FZDMVl/qEzpqBUfiAgYhVhUBjBHEPjoZ+ctmYdXzJpNEL156vLtywxaS7+zAt6ZjqM0DEMcwMYofN8keFyGBpqrs1/1e3UPxDvvYHPIUQCg5sQJUvff4jGCiNqUgwAl/LsULm1/Xa1Yoqhta1u91eqm28StYNU8ekHoog5bzWWvjuNKx4999ErYx6bqbKk5e727fauWvxPAwhCIV7gs8NEsgUvsPzTuluCSeMri2NHXsqHESaKoDxq/JhrF1MmtbaArvP8/zyIo5fP7qya1Gr8wfFA+erX/0yZ/Q6hvkAQ9upkv+CpL+ExoW88/N9tdd//9KRl/EfB/wQAAP//KCkfHYdyTTYAAAAASUVORK5CYII=";function Rl({children:e,activecondition:t,isOpen:n}){const[r,i]=G.useState(n||t);G.useEffect(()=>{n&&i(!0)},[n]);const s=()=>{i(!r)};return C.jsx("li",{className:`pl-4 pr-3 py-2 rounded-lg mb-0.5 last:mb-0 bg-[linear-gradient(135deg,var(--tw-gradient-stops))] ${t&&"from-violet-500/[0.12] dark:from-violet-500/[0.24] to-violet-500/[0.04]"}`,children:e(s,r)})}const $n=({Url:e,Name:t})=>C.jsx("li",{className:"mb-1 last:mb-0",children:C.jsx(_a,{end:!0,to:e,className:({isActive:n})=>"block transition duration-150 truncate "+(n?"text-violet-500":"text-gray-500/90 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"),children:C.jsx("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:t})})});function SF({sidebarOpen:e,setSidebarOpen:t,variant:n="default"}){const r=Vi(),{pathname:i}=r,s=G.useRef(null),a=G.useRef(null),o=localStorage.getItem("sidebar-expanded"),[l,u]=G.useState(o===null?!1:o==="true"),[c,d]=G.useState([]),[p,m]=G.useState({});return G.useEffect(()=>{const g=({target:y})=>{!a.current||!s.current||!e||a.current.contains(y)||s.current.contains(y)||t(!1)};return document.addEventListener("click",g),()=>document.removeEventListener("click",g)}),G.useEffect(()=>{const g=({keyCode:y})=>{!e||y!==27||t(!1)};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)}),G.useEffect(()=>{localStorage.setItem("sidebar-expanded",l),l?document.querySelector("body").classList.add("sidebar-expanded"):document.querySelector("body").classList.remove("sidebar-expanded")},[l]),G.useEffect(()=>{mp().then(g=>{m(g),d(Object.keys(g))}).catch(g=>{console.error("",g)})},[]),G.useEffect(()=>{i.startsWith("/metric/")&&u(!0)},[i]),C.jsxs("div",{className:"min-w-fit",children:[C.jsx("div",{className:`fixed inset-0 bg-gray-900 bg-opacity-30 z-40 lg:hidden lg:z-auto transition-opacity duration-200 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),C.jsxs("div",{id:"sidebar",ref:a,className:`flex lg:!flex flex-col absolute z-40 left-0 top-0 lg:static lg:left-auto lg:top-auto lg:translate-x-0 h-[100dvh] overflow-y-scroll lg:overflow-y-auto no-scrollbar w-72 lg:w-20 lg:sidebar-expanded:!w-72 2xl:!w-72 shrink-0 bg-white dark:bg-gray-800 p-4 transition-all duration-200 ease-in-out ${e?"translate-x-0":"-translate-x-64"} ${n==="v2"?"border-r border-gray-200 dark:border-gray-700/60":"rounded-r-2xl shadow-sm"}`,children:[C.jsxs("div",{className:"flex justify-between mb-10 pr-3 sm:px-2",children:[C.jsxs("button",{ref:s,className:"lg:hidden text-gray-500 hover:text-gray-400",onClick:()=>t(!e),"aria-controls":"sidebar","aria-expanded":e,children:[C.jsx("span",{className:"sr-only",children:"Close sidebar"}),C.jsx("svg",{className:"w-6 h-6 fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{d:"M10.7 18.7l1.4-1.4L7.8 13H20v-2H7.8l4.3-4.3-1.4-1.4L4 12z"})})]}),C.jsxs(_a,{end:!0,to:"/",className:"block flex items-center",children:[C.jsx("img",{className:"w-8 h-8",src:CF,alt:"Rageval"}),l&&C.jsx("span",{className:"ml-2 text-gray-800 dark:text-gray-100",children:"Rageval"})]})]}),C.jsx("div",{className:"space-y-8",children:C.jsxs("div",{children:[C.jsx("h3",{className:"text-xs uppercase text-gray-400 dark:text-gray-500 font-semibold pl-3",children:C.jsx("span",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:"Rageval-Studio"})}),C.jsxs("ul",{className:"mt-1 mb-1",children:[C.jsx(Rl,{activecondition:i==="/"||i.includes("home"),children:(g,y)=>C.jsxs(gr.Fragment,{children:[C.jsx("a",{href:"#0",className:`block text-gray-800 dark:text-gray-100 truncate transition duration-150 ${i==="/"||i.includes("home")?"":"hover:text-gray-900 dark:hover:text-white"}`,onClick:w=>{w.preventDefault(),g(),u(!0)},children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsxs("svg",{className:`shrink-0 fill-current ${i==="/"?"text-violet-500":"text-gray-400 dark:text-gray-500"}`,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:[C.jsx("path",{d:"M5.936.278A7.983 7.983 0 0 1 8 0a8 8 0 1 1-8 8c0-.722.104-1.413.278-2.064a1 1 0 1 1 1.932.516A5.99 5.99 0 0 0 2 8a6 6 0 1 0 6-6c-.53 0-1.045.076-1.548.21A1 1 0 1 1 5.936.278Z"}),C.jsx("path",{d:"M6.068 7.482A2.003 2.003 0 0 0 8 10a2 2 0 1 0-.518-3.932L3.707 2.293a1 1 0 0 0-1.414 1.414l3.775 3.775Z"})]}),C.jsx("span",{className:"text-sm font-medium ml-4 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Home"})]}),C.jsx("div",{className:"flex shrink-0 ml-2",children:C.jsx("svg",{className:`w-3 h-3 shrink-0 ml-1 fill-current text-gray-400 dark:text-gray-500 ${y&&"rotate-180"}`,viewBox:"0 0 12 12",children:C.jsx("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})})})]})}),C.jsx("div",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:C.jsxs("ul",{className:`pl-8 mt-1 ${!y&&"hidden"}`,children:[C.jsx($n,{Url:"/",Name:"Main"}),C.jsx($n,{Url:"/home/rageval",Name:"Rageval"})]})})]})}),C.jsx("li",{className:`pl-4 pr-3 py-2 rounded-lg mb-0.5 last:mb-0 bg-[linear-gradient(135deg,var(--tw-gradient-stops))] ${i.includes("process")&&"from-violet-500/[0.12] dark:from-violet-500/[0.24] to-violet-500/[0.04]"}`,children:C.jsx(_a,{end:!0,to:"/process",className:`block text-gray-800 dark:text-gray-100 truncate transition duration-150 ${i.includes("process")?"":"hover:text-gray-900 dark:hover:text-white"}`,children:C.jsx("div",{className:"flex items-center justify-between",children:C.jsxs("div",{className:"grow flex items-center",children:[C.jsxs("svg",{className:`shrink-0 fill-current ${i.includes("process")?"text-violet-500":"text-gray-400 dark:text-gray-500"}`,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:[C.jsx("path",{d:"M13.95.879a3 3 0 0 0-4.243 0L1.293 9.293a1 1 0 0 0-.274.51l-1 5a1 1 0 0 0 1.177 1.177l5-1a1 1 0 0 0 .511-.273l8.414-8.414a3 3 0 0 0 0-4.242L13.95.879ZM11.12 2.293a1 1 0 0 1 1.414 0l1.172 1.172a1 1 0 0 1 0 1.414l-8.2 8.2-3.232.646.646-3.232 8.2-8.2Z"}),C.jsx("path",{d:"M10 14a1 1 0 1 0 0 2h5a1 1 0 1 0 0-2h-5Z"})]}),C.jsx("span",{className:"text-sm font-medium ml-4 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Process Data"})]})})})}),C.jsx("li",{className:`pl-4 pr-3 py-2 rounded-lg mb-0.5 last:mb-0 bg-[linear-gradient(135deg,var(--tw-gradient-stops))] ${i.includes("test")&&"from-violet-500/[0.12] dark:from-violet-500/[0.24] to-violet-500/[0.04]"}`,children:C.jsx(_a,{end:!0,to:"/test",className:`block text-gray-800 dark:text-gray-100 truncate transition duration-150 ${i.includes("test")?"":"hover:text-gray-900 dark:hover:text-white"}`,children:C.jsx("div",{className:"flex items-center justify-between",children:C.jsxs("div",{className:"grow flex items-center",children:[C.jsxs("svg",{className:`shrink-0 fill-current ${i.includes("test")?"text-violet-500":"text-gray-400 dark:text-gray-500"}`,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:[C.jsx("path",{d:"M13.95.879a3 3 0 0 0-4.243 0L1.293 9.293a1 1 0 0 0-.274.51l-1 5a1 1 0 0 0 1.177 1.177l5-1a1 1 0 0 0 .511-.273l8.414-8.414a3 3 0 0 0 0-4.242L13.95.879ZM11.12 2.293a1 1 0 0 1 1.414 0l1.172 1.172a1 1 0 0 1 0 1.414l-8.2 8.2-3.232.646.646-3.232 8.2-8.2Z"}),C.jsx("path",{d:"M10 14a1 1 0 1 0 0 2h5a1 1 0 1 0 0-2h-5Z"})]}),C.jsx("span",{className:"text-sm font-medium ml-4 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"test"})]})})})})]}),C.jsx("h3",{className:"text-xs uppercase text-gray-400 dark:text-gray-500 font-semibold pl-3",children:C.jsx("span",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:"Benchmarks"})}),C.jsxs("ul",{className:"mt-1 mb-1",children:[C.jsx(Rl,{activecondition:i.includes("dataset"),children:(g,y)=>C.jsxs(gr.Fragment,{children:[C.jsx("a",{href:"#0",className:"block text-gray-800 dark:text-gray-100 truncate transition duration-150 hover:text-gray-900 dark:hover:text-white",onClick:w=>{w.preventDefault(),g(),u(!0)},children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("svg",{className:`shrink-0 fill-current ${i.includes("dataset")?"text-violet-500":"text-gray-400 dark:text-gray-500"}`,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:C.jsx("path",{d:"M9 6.855A3.502 3.502 0 0 0 8 0a3.5 3.5 0 0 0-1 6.855v1.656L5.534 9.65a3.5 3.5 0 1 0 1.229 1.578L8 10.267l1.238.962a3.5 3.5 0 1 0 1.229-1.578L9 8.511V6.855ZM6.5 3.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm4.803 8.095c.005-.005.01-.01.013-.016l.012-.016a1.5 1.5 0 1 1-.025.032ZM3.5 11c.474 0 .897.22 1.171.563l.013.016.013.017A1.5 1.5 0 1 1 3.5 11Z"})}),C.jsx("span",{className:"text-sm font-medium ml-4 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Dataset"})]}),C.jsx("div",{className:"flex shrink-0 ml-2",children:C.jsx("svg",{className:`w-3 h-3 shrink-0 ml-1 fill-current text-gray-400 dark:text-gray-500 ${y&&"rotate-180"}`,viewBox:"0 0 12 12",children:C.jsx("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})})})]})}),C.jsx("div",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:C.jsxs("ul",{className:`pl-8 mt-1 ${!y&&"hidden"}`,children:[C.jsx($n,{Url:"/dataset",Name:"Main"}),C.jsx($n,{Url:"/dataset/wikieval",Name:"Wikieval"}),C.jsx($n,{Url:"/dataset/asqa",Name:"Asqa"}),C.jsx($n,{Url:"/dataset/antique",Name:"Antique"})]})})]})}),C.jsx(Rl,{activecondition:i.includes("benchmark"),children:(g,y)=>C.jsxs(gr.Fragment,{children:[C.jsx("a",{href:"#0",className:"block text-gray-800 dark:text-gray-100 truncate transition duration-150 hover:text-gray-900 dark:hover:text-white",onClick:w=>{w.preventDefault(),g(),u(!0)},children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("svg",{className:`shrink-0 fill-current ${i.includes("dataset")?"text-violet-500":"text-gray-400 dark:text-gray-500"}`,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:C.jsx("path",{d:"M9 6.855A3.502 3.502 0 0 0 8 0a3.5 3.5 0 0 0-1 6.855v1.656L5.534 9.65a3.5 3.5 0 1 0 1.229 1.578L8 10.267l1.238.962a3.5 3.5 0 1 0 1.229-1.578L9 8.511V6.855ZM6.5 3.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm4.803 8.095c.005-.005.01-.01.013-.016l.012-.016a1.5 1.5 0 1 1-.025.032ZM3.5 11c.474 0 .897.22 1.171.563l.013.016.013.017A1.5 1.5 0 1 1 3.5 11Z"})}),C.jsx("span",{className:"text-sm font-medium ml-4 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Benchmark"})]}),C.jsx("div",{className:"flex shrink-0 ml-2",children:C.jsx("svg",{className:`w-3 h-3 shrink-0 ml-1 fill-current text-gray-400 dark:text-gray-500 ${y&&"rotate-180"}`,viewBox:"0 0 12 12",children:C.jsx("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})})})]})}),C.jsx("div",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:C.jsxs("ul",{className:`pl-8 mt-1 ${!y&&"hidden"}`,children:[C.jsx($n,{Url:"/benchmark",Name:"Main"}),Object.keys(n2).map(w=>C.jsx($n,{Url:`/benchmark/${w}`,Name:w},w))]})})]})})]}),C.jsx("h3",{className:"text-xs uppercase text-gray-400 dark:text-gray-500 font-semibold pl-3",children:C.jsx("span",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:"Metrics"})}),C.jsx("li",{className:`list-none mt-1 mb-1 pl-4 pr-3 py-2 rounded-lg mb-0.5 last:mb-0 bg-[linear-gradient(135deg,var(--tw-gradient-stops))] ${i==="/metric"&&"from-violet-500/[0.12] dark:from-violet-500/[0.24] to-violet-500/[0.04]"}`,children:C.jsx(_a,{end:!0,to:"/metric",className:`block text-gray-800 dark:text-gray-100 truncate transition duration-150 ${i==="/metric"?"":"hover:text-gray-900 dark:hover:text-white"}`,children:C.jsx("div",{className:"flex items-center justify-between",children:C.jsxs("div",{className:"grow flex items-center",children:[C.jsxs("svg",{className:`shrink-0 fill-current ${i==="/metric"?"text-violet-500":"text-gray-400 dark:text-gray-500"}`,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:[C.jsx("path",{d:"M13.95.879a3 3 0 0 0-4.243 0L1.293 9.293a1 1 0 0 0-.274.51l-1 5a1 1 0 0 0 1.177 1.177l5-1a1 1 0 0 0 .511-.273l8.414-8.414a3 3 0 0 0 0-4.242L13.95.879ZM11.12 2.293a1 1 0 0 1 1.414 0l1.172 1.172a1 1 0 0 1 0 1.414l-8.2 8.2-3.232.646.646-3.232 8.2-8.2Z"}),C.jsx("path",{d:"M10 14a1 1 0 1 0 0 2h5a1 1 0 1 0 0-2h-5Z"})]}),C.jsx("span",{className:"text-sm font-medium ml-4 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Main"})]})})})}),C.jsx("ul",{className:"mt-1 mb-1",children:p&&c.map(g=>C.jsx(Rl,{activecondition:i.includes(g),isOpen:i.startsWith(`/metric/${g}`),children:(y,w)=>C.jsxs(gr.Fragment,{children:[C.jsx("a",{href:"#0",className:`block text-gray-800 dark:text-gray-100 truncate transition duration-150 ${i.includes(g)?"":"hover:text-gray-900 dark:hover:text-white"}`,onClick:_=>{_.preventDefault(),y(),u(!0)},children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("svg",{className:`shrink-0 fill-current ${i.includes("components-library")?"text-violet-500":"text-gray-400 dark:text-gray-500"}`,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:C.jsx("path",{d:"M.06 10.003a1 1 0 0 1 1.948.455c-.019.08.01.152.078.19l5.83 3.333c.053.03.116.03.168 0l5.83-3.333a.163.163 0 0 0 .078-.188 1 1 0 0 1 1.947-.459 2.161 2.161 0 0 1-1.032 2.384l-5.83 3.331a2.168 2.168 0 0 1-2.154 0l-5.83-3.331a2.162 2.162 0 0 1-1.032-2.382Zm7.856-7.981-5.83 3.332a.17.17 0 0 0 0 .295l5.828 3.33c.054.031.118.031.17.002l5.83-3.333a.17.17 0 0 0 0-.294L8.085 2.023a.172.172 0 0 0-.17-.001ZM9.076.285l5.83 3.332c1.458.833 1.458 2.935 0 3.768l-5.83 3.333c-.667.38-1.485.38-2.153-.001l-5.83-3.332c-1.457-.833-1.457-2.935 0-3.767L6.925.285a2.173 2.173 0 0 1 2.15 0Z"})}),C.jsx("span",{className:"text-sm font-medium ml-4 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:g.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase())})]}),C.jsx("div",{className:"flex shrink-0 ml-2",children:C.jsx("svg",{className:`w-3 h-3 shrink-0 ml-1 fill-current text-gray-400 dark:text-gray-500 ${w&&"rotate-180"}`,viewBox:"0 0 12 12",children:C.jsx("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})})})]})}),C.jsx("div",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:C.jsxs("ul",{className:`pl-8 mt-1 ${!w&&"hidden"}`,children:[C.jsx($n,{Url:`/metric/${g}`,Name:"Main"}),p[g].map(_=>C.jsx($n,{Url:`/metric/${g}/${_.name}`,Name:_.name},_.name))]})})]})},g))})]})}),C.jsx("div",{className:"pt-3 hidden lg:inline-flex 2xl:hidden justify-end mt-auto",children:C.jsx("div",{className:"w-12 pl-4 pr-3 py-2",children:C.jsxs("button",{className:"text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400",onClick:()=>u(!l),children:[C.jsx("span",{className:"sr-only",children:"Expand / collapse sidebar"}),C.jsx("svg",{className:"shrink-0 fill-current text-gray-400 dark:text-gray-500 sidebar-expanded:rotate-180",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:C.jsx("path",{d:"M15 16a1 1 0 0 1-1-1V1a1 1 0 1 1 2 0v14a1 1 0 0 1-1 1ZM8.586 7H1a1 1 0 1 0 0 2h7.586l-2.793 2.793a1 1 0 1 0 1.414 1.414l4.5-4.5A.997.997 0 0 0 12 8.01M11.924 7.617a.997.997 0 0 0-.217-.324l-4.5-4.5a1 1 0 0 0-1.414 1.414L8.586 7M12 7.99a.996.996 0 0 0-.076-.373Z"})})]})})})]})]})}function kF(){const[e,t]=G.useState(!1);return C.jsx(LS,{children:C.jsxs("div",{className:"flex h-screen overflow-hidden",children:[C.jsx(SF,{sidebarOpen:e,setSidebarOpen:t}),C.jsx("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:C.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4",children:C.jsxs(gS,{children:[C.jsx(cn,{path:"/",element:C.jsx(c1,{})}),C.jsx(cn,{path:"/home",element:C.jsx(c1,{})}),C.jsx(cn,{path:"/home/rageval",element:C.jsx(pP,{})}),C.jsx(cn,{path:"/process",element:C.jsx(AF,{})}),C.jsx(cn,{path:"/summary",element:C.jsx(R_,{})}),C.jsx(cn,{path:"/dataset",element:C.jsx(e5,{})}),C.jsx(cn,{path:"/metric",element:C.jsx(t5,{})}),C.jsx(cn,{path:"/metric/:category/:metricName",element:C.jsx(fF,{})}),C.jsx(cn,{path:"/dataset/:datasetName",element:C.jsx(R_,{})}),C.jsx(cn,{path:"/benchmark",element:C.jsx(pF,{})}),C.jsx(cn,{path:"/benchmark/:benchmarkName",element:C.jsx(wF,{})}),C.jsx(cn,{path:"*",element:C.jsx("h1",{children:"Not Found"})})]})})})]})})}Qd.createRoot(document.getElementById("root")).render(C.jsx(gr.StrictMode,{children:C.jsx(zA,{children:C.jsx(kC,{children:C.jsx(kF,{})})})}));
